(self.webpackChunk_finos_perspective_docs=self.webpackChunk_finos_perspective_docs||[]).push([[4195],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return p}});var r=n(7294),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a().createContext({}),u=function(e){var t=a().useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=u(e.components);return a().createElement(c.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return a().createElement(a().Fragment,{},t)}},g=a().forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),g=r,p=d["".concat(i,".").concat(g)]||d[g]||f[g]||o;return n?a().createElement(p,s(s({ref:t},c),{},{components:n})):a().createElement(p,s({ref:t},c))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a().createElement.apply(null,i)}return a().createElement.apply(null,n)}g.displayName="MDXCreateElement"},3062:function(e,t,n){"use strict";n.r(t),n.d(t,{PerspectiveViewerDemo:function(){return P}});var r,a=n(1092),o=n(7791),i=n(1820),s=(n(9382),n(8484),n(8429),n(2949)),l=n(7294),c=n.n(l),u=n(8944),d=["AAPL.N","MSFT.N","AMZN.N","GOOGL.N","FB.N","TSLA.N","BABA.N","TSM.N","V.N","NVDA.N","JPM.N","JNJ.N","WMT.N","UNH.N","MA.N","BAC.N","DIS.N","ASML.N","ADBE.N","CMCSA.N","NKE.N","XOM.N","TM.N","KO.N","ORCL.N","NFLX.N"],f=["Homer","Marge","Bart","Lisa","Maggie","Barney","Ned","Moe"],g=0;function p(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}function _(){return g%=1e3,{name:d[Math.floor(Math.random()*d.length)],client:f[Math.floor(Math.random()*f.length)],lastUpdate:new Date,chg:10*p(),bid:5*p()+95,ask:5*p()+105,vol:5*p()+105,id:g++}}var h,b,m={sparkgrid:{plugin:"Datagrid",plugin_config:{columns:{chg:{bg_gradient:16.5,number_bg_mode:"gradient"},"chg (+)":{fg_gradient:15.83,number_fg_mode:"bar"},"chg (-)":{fg_gradient:14.58,number_fg_mode:"bar"}},editable:!1,scroll_lock:!0},settings:!0,group_by:["name"],split_by:["client"],columns:["chg (-)","chg","chg (+)"],filter:[],sort:[["chg","desc"]],expressions:['//chg (-)\nif("chg"<0){"chg"}else{0}','//chg (+)\nif("chg">0){"chg"}else{0}'],aggregates:{"chg (+)":"avg",chg:"avg","chg (-)":"avg"}},datagrid:{plugin:"datagrid",columns:["ask","bid","chg"],sort:[["name","desc"],["lastUpdate","desc"]],aggregates:{name:"last",lastUpdate:"last"},group_by:["name","lastUpdate"],split_by:["client"],plugin_config:{}},"x bar":{columns:["chg"],plugin:"X Bar",sort:[["chg","asc"]],group_by:["name"],split_by:["client"]},"y line":(r={plugin:"Y Line",group_by:["lastUpdate"],split_by:[],sort:[["lastUpdate","desc"]]},r.split_by=["client"],r.columns=["bid"],r.aggregates={bid:"avg",chg:"avg",name:"last"},r),"xy scatter":{plugin:"X/Y Scatter",group_by:["name"],split_by:[],columns:["bid","ask","chg","vol"],aggregates:{bid:"avg",ask:"avg",vol:"avg"},sort:[]},treemap:{plugin:"Treemap",group_by:["name","client"],split_by:[],columns:["bid","chg"],aggregates:{bid:"sum",chg:"sum",name:"last"},sort:[["name","desc"],["chg","desc"]]},heatmap:{columns:["vol"],plugin:"Heatmap",sort:[["vol","asc"]],group_by:["name"],split_by:["client"]}},v="heroBannerViewer_f_ls",y="container_G6kv",w="visButtons_WVUn",x="visButton_uyAq",k="visButtonActive_J9UB",S="freqSlider_bTfl",C=i.ZP.shared_worker(),A=100,E=!0;function Z(){return(Z=(0,o.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==h){e.next=4;break}return e.next=3,M();case 3:h=e.sent;case 4:void 0!==b&&b!==n&&(b.delete(),b=void 0),void 0===b&&(b=n).load(h),N(n,"sparkgrid",{theme:"dark"===t?"Material Dark":"Material Light"});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t;return e.name===e.selected&&(t=k),c().createElement("div",{onMouseOver:e.onHover,className:(0,u.Z)(t,x),id:e.name},e.name)}function P(){var e=(0,s.I)().colorMode,t=(0,l.useState)("sparkgrid"),n=t[0],r=t[1],a=(0,l.useState)(A),o=a[0],i=a[1],d=(0,l.useRef)(),f=(0,l.useCallback)((function(e){r(e.target.getAttribute("id")),N(d.current,""+e.target.getAttribute("id"))}),[d]),g=(0,l.useCallback)((function(e){A=-1.8*e.target.value+190,i(A)}),[o]);return(0,l.useEffect)((function(){return E=!1,function(e,t){Z.apply(this,arguments)}(e,d.current),function(){E=!0}}),[d,e]),c().createElement("div",{className:(0,u.Z)(y)},c().createElement("perspective-viewer",{ref:d,class:(0,u.Z)("nosuperstore",v)}),c().createElement("div",{className:(0,u.Z)(w)},Object.keys(m).map((function(e){return c().createElement(V,{name:e,key:e,selected:n,onHover:f})}))),c().createElement("input",{id:"velocity",type:"range",className:(0,u.Z)(S),defaultValue:5/-9*(o-190),onInput:g}))}function O(e){E||190===A||document.documentElement.clientHeight-window.scrollY>0&&e.update([_(),_(),_()]);setTimeout((function(){return O(e)}),A)}function N(e,t,n){void 0===n&&(n={}),e.restore(Object.assign({},m[t],n))}function M(){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=0;n<1e3;n++)t.push(_());return r=C.table(t,{index:"id"}),setTimeout((0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:O(e.sent);case 4:case"end":return e.stop()}}),e)})))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6109:function(e,t){t.Z=[{name:"Default",config:{}},{name:"Group By 1",config:{group_by:["Sub-Category"]},aggregates:"dominant"},{name:"Group By 2",config:{group_by:["Category","Sub-Category"]}},{name:"Split By",config:{split_by:["Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Split By 2",config:{split_by:["Category","Sub-Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Both",config:{group_by:["Region"],split_by:["Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Both 2",config:{group_by:["Region","State"],split_by:["Category","Sub-Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Background Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","col asc"]],plugin_config:{columns:{Profit:{number_color_mode:"background"}}}}},{name:"Gradient Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","col asc"]],plugin_config:{columns:{Profit:{number_color_mode:"gradient",gradient:1600}}}}},{name:"Background Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Sales"],aggregates:{Sales:"avg"},plugin_config:{columns:{Sales:{number_color_mode:"bar",gradient:600}}}}},{name:"Foreground Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Background Colors",config:{plugin:"Datagrid",plugin_config:{columns:{Discount:{neg_bg_color:"#780aff",number_bg_mode:"color",number_fg_mode:"disabled",pos_bg_color:"#f5ac0f"},Profit:{neg_bg_color:"#f50fed",number_bg_mode:"color",number_fg_mode:"disabled",pos_bg_color:"#32cd82"},Sales:{neg_bg_color:"#f5ac0f",number_bg_mode:"color",number_fg_mode:"disabled",pos_bg_color:"#780aff"}},editable:!1,scroll_lock:!0},columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],sort:[["Sub-Category","desc"]]}},{name:"Gradient Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{number_color_mode:"gradient",gradient:600,pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{number_color_mode:"gradient",gradient:2268,pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{number_color_mode:"gradient",gradient:.8,pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Bar Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{number_color_mode:"bar",gradient:600,pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{number_color_mode:"bar",gradient:2268,pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{number_color_mode:"bar",gradient:.8,pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Thermometer",config:{group_by:["State"],columns:["Profit (-)","Profit","Profit (+)"],plugin_config:{columns:{"Profit (-)":{number_color_mode:"bar",gradient:1e4},Profit:{number_color_mode:"gradient",gradient:1e4},"Profit (+)":{number_color_mode:"bar",gradient:1e4}}},expressions:['//Profit (-)\nif("Profit"<0){"Profit"}else{0}','//Profit (+)\nif("Profit">0){"Profit"}else{0}']}},{name:"Y Bar",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Y Bar, Sorted Desc By Y-Axis",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Row And Split By",config:{plugin:"Y Bar",group_by:["Sub-Category"],split_by:["Ship Mode"],columns:["Sales"]}},{name:"Y Bar - Group By 2 Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And Split By Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],split_by:["Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And 2 Split By Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],split_by:["Category","Region"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And 2 Split By Sorted 2",config:{plugin:"Y Bar",group_by:["State"],split_by:["Profit (-/+)"],columns:["Profit"],expressions:['//Profit (-/+)\nif("Profit"<0){1}else{0}'],sort:[["Profit","desc"]]},viewport:{width:600,height:450}},{name:"Y Bar Multi Axis",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Quantity","Sales"],aggregates:{Sales:"avg"},sort:[["Sales","desc"]]}},{name:"Y Bar Multi Axis - SPlit",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Quantity","Sales"],sort:[["Sales","desc"]],aggregates:{Sales:"avg"},plugin_config:{splitMainValues:["Sales"]}}},{name:"X Bar",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Sales"]}},{name:"X Bar",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Quantity","Profit"]}},{name:"X Bar, Sorted Desc By X-Axis",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Sales"],sort:[["Sales","asc"]]}},{name:"X Bar - Row And Split By",config:{plugin:"X Bar",group_by:["Sub-Category"],split_by:["Region"],columns:["Sales"]}},{name:"X Bar - Row And Split By",config:{plugin:"X Bar",group_by:["Sub-Category"],split_by:["Region"],columns:["Sales"],sort:[["Sales","asc"]]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["Order Date"],columns:["Sales"]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["Order Date"],split_by:["Segment"],columns:["Sales"]}},{name:"Y Line - Datetime Axis Computed",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],split_by:["bucket(\"Order Date\", 'Y')"],expressions:["bucket(\"Order Date\", 'M')","bucket(\"Order Date\", 'Y')"],columns:["Sales"]}},{name:"Y Line - Datetime Axis And Split By",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],split_by:["Region"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Line - Category Axis",config:{plugin:"Y Line",group_by:["State"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Line - Category Axis",config:{plugin:"Y Line",group_by:["State"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Row and Split By",config:{plugin:"Y Line",group_by:["State"],split_by:["Segment"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Multi Axis Split",config:{plugin:"Y Line",group_by:["State"],columns:["Sales","Profit"],plugin_config:{splitMainValues:["Sales"]},sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Multi Axis Split",config:{plugin:"Y Line",group_by:["State"],split_by:["Segment"],columns:["Sales","Profit"],plugin_config:{splitMainValues:["Sales"]},sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Datetime Axis Computed",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Area - Datetime Axis",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],split_by:["bucket(\"Order Date\", 'Y')"],expressions:["bucket(\"Order Date\", 'M')","bucket(\"Order Date\", 'Y')"],columns:["Sales"]}},{name:"Y Area - Datetime Axis And Split By",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],split_by:["Region"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Area - Category Axis",config:{plugin:"Y Area",group_by:["State"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By",config:{plugin:"Y Area",group_by:["State"],split_by:["Ship Mode"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Area - 2 Group By",config:{plugin:"Y Area",group_by:["Region","State"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By",config:{plugin:"Y Area",group_by:["Region","State"],split_by:["Region"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By 2",config:{plugin:"Y Area",group_by:["Region","State"],split_by:["Ship Mode"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"X/Y Scatter",config:{plugin:"X/Y Scatter",group_by:["City"],columns:["Sales","Quantity"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}}},{name:"X/Y Scatter - Split By",config:{plugin:"X/Y Scatter",group_by:["City"],split_by:["Region"],columns:["Sales","Quantity"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}}},{name:"X/Y Scatter - Color By Float",config:{plugin:"X/Y Scatter",group_by:["State"],columns:["Sales","Quantity","Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"},sort:[["Profit","desc"]]}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],columns:["Sales","Quantity",null,"Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],split_by:["Category"],columns:["Sales","Quantity",null,"Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],columns:["Sales","Quantity","Profit","Row ID"],sort:[["Profit","desc"]],aggregates:{Sales:"avg",Profit:"sum",Quantity:"avg","Row ID":"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Category Y Axis",config:{plugin:"X/Y Scatter",columns:["Profit","State",null,"Quantity"],group_by:["City"],aggregates:{State:"dominant"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Category Y Axis And Size And Color",config:{plugin:"X/Y Scatter",columns:["State","Sub-Category","Quantity","Sales",null],group_by:["State","Sub-Category"],aggregates:{State:"dominant","Sub-Category":"dominant",Profit:"low"}},viewport:{width:600,height:450}},{name:"X/Y Line",config:{columns:["Sales","Profit"],plugin:"X/Y Line",aggregates:{"Order Date":"dominant",Sales:"avg",Profit:"avg"},group_by:["State"],sort:[["Profit","desc"],["Sales","desc"]],split_by:["Region"]}},{name:"Treemap",config:{plugin:"Treemap",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Treemap - 2 Group By",config:{plugin:"Treemap",group_by:["Category","Sub-Category","Segment"],columns:["Sales"]}},{name:"Treemap - Float Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],columns:["Sales","Quantity"],sort:[["Quantity","desc"]]}},{name:"Treemap - Category Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],columns:["Sales","Category"],aggregates:{Category:"dominant"}}},{name:"Treemap - Row And Split By Float Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Quantity"],sort:[["Quantity","desc"]]},viewport:{width:800,height:600}},{name:"Treemap - Row And Split By Category Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Region"],aggregates:{Region:"dominant"}},viewport:{width:800,height:600}},{name:"Treemap - Row And Split By Category Color 2",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Category"],aggregates:{Category:"dominant"}},viewport:{width:800,height:600}},{name:"Sunburst",config:{plugin:"Sunburst",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Sunburst - 2 Group By",config:{plugin:"Sunburst",group_by:["Category","Sub-Category","Segment"],columns:["Sales"]}},{name:"Sunburst - Float Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],columns:["Quantity","Sales"],sort:[["Quantity","desc"]]}},{name:"Sunburst - Category Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],columns:["Sales","Category"],aggregates:{Category:"dominant"}}},{name:"Sunburst - Row And Split By",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Float Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Quantity"]},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Category Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Region"],aggregates:{Region:"dominant"}},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Category Color 2",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Category"],aggregates:{Category:"dominant"}},viewport:{width:600,height:450}},{name:"Heatmap",config:{plugin:"Heatmap",group_by:["Sub-Category"],split_by:["Region"],columns:["Profit"],sort:[["Profit","desc"],["Profit","col desc"]]}},{name:"Heatmap 2",config:{plugin:"Heatmap",group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","desc"],["Profit","col desc"]]},viewport:{width:600,height:450}},{name:"Heatmap 3",config:{columns:["Discount"],plugin:"Heatmap",expressions:["bucket(\"Order Date\", 'M')"],aggregates:{"Order Date":"dominant",Sales:"avg"},split_by:["Sub-Category"],group_by:["bucket(\"Order Date\", 'M')"],sort:[["Discount","col asc"]]},viewport:{width:600,height:450}},{name:"Heatmap 4",config:{plugin:"Heatmap",columns:["Profit"],expressions:['bucket("Profit", 100)',"bucket(\"Order Date\", 'M')"],group_by:["bucket(\"Order Date\", 'M')"],split_by:['bucket("Profit", 100)'],plugin_config:{}},viewport:{width:600,height:450}}]},1698:function(e,t,n){"use strict";n.r(t),n.d(t,{SUPERSTORE_TABLE:function(){return i}});var r=n(1092),a=n(7791),o=n(1820),i=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.ZP.shared_worker(),e.next=3,fetch("/arrow/superstore.arrow");case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return a=e.sent,e.next=9,t.table(a.slice());case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))()},9271:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(7294),a=n.n(r),o=n(8944),i=n(2263),s=n(2949),l=n(1622),c=n(2389);function u(e){var t=e.children,n=e.fallback;return(0,c.Z)()?a().createElement(a().Fragment,null,null==t?void 0:t()):null!=n?n:null}var d=n(5773),f="features_t9lD",g="gallerySection_Wpmb",p="gallery_OZR8",_=n(4996),h=n(6109),b="overlay_vEzt",m="viewer_dzx3",v="dimmed_aueD",y=n(6736).convert;function w(e){var t=(0,s.I)().colorMode,n="dark"===t?"_dark":"",i=(0,r.useState)(-1),l=i[0],c=i[1],d=(0,r.useCallback)((function(){c(-1)}),[l]);return a().createElement(a().Fragment,null,h.Z.map((function(e,t){var i=(0,r.useCallback)((function(){c(t)}),[l]);return a().createElement("img",{className:(0,o.Z)(l>=0?v:void 0),src:(0,_.Z)("/features/feature_"+t+n+".png"),key:t,onClick:i})})),l>=0?a().createElement(u,null,(function(){return a().createElement(x,{index:l,color:t,onClose:d})})):void 0)}function x(e){var t=n(1698).SUPERSTORE_TABLE,i=(0,r.useRef)(),s=(0,r.useCallback)((function(t){t.preventDefault(),t.target===i.current&&e.onClose()}),[e.onClose]),l=(0,r.useCallback)((function(n){null!==n&&(n.load(t),n.restore(y(Object.assign({plugin:"Datagrid",group_by:[],expressions:[],split_by:[],sort:[],aggregates:{}},h.Z[e.index].config,{settings:!0}))))}),[e.index]);return a().createElement("div",{ref:i,className:(0,o.Z)(b),onClick:s},a().createElement("perspective-viewer",{ref:l,theme:"dark"===e.color?"Material Dark":"Material Light",class:(0,o.Z)(m)}))}var k=n(808),S=n(3905),C=["components"],A={toc:[{value:"What is Perspective?",id:"what-is-perspective",level:2},{value:"Features",id:"features",level:3}]};function E(e){var t=e.components,n=(0,k.Z)(e,C);return(0,S.kt)("wrapper",(0,d.Z)({},A,n,{components:t,mdxType:"MDXLayout"}),(0,S.kt)("h2",{id:"what-is-perspective"},"What is Perspective?"),(0,S.kt)("p",null,"Perspective is an ",(0,S.kt)("i",null,"interactive")," analytics and data visualization component,\nwhich is especially well-suited for ",(0,S.kt)("i",null,"large")," and/or ",(0,S.kt)("i",null,"streaming"),"\ndatasets. Use it to create user-configurable reports, dashboards, notebooks and\napplications, then deploy stand-alone in the browser, or in concert with Python\nand/or ",(0,S.kt)("a",{parentName:"p",href:"https://jupyterlab.readthedocs.io/en/stable/"},"Jupyterlab"),"."),(0,S.kt)("h3",{id:"features"},"Features"),(0,S.kt)("ul",null,(0,S.kt)("li",{parentName:"ul"},(0,S.kt)("p",{parentName:"li"},"A fast, memory efficient streaming query engine, written in\nC++ and compiled for both ",(0,S.kt)("a",{parentName:"p",href:"https://webassembly.org/"},"WebAssembly")," and\n",(0,S.kt)("a",{parentName:"p",href:"https://www.python.org/"},"Python"),", with read/write/streaming for\n",(0,S.kt)("a",{parentName:"p",href:"https://arrow.apache.org/"},"Apache Arrow"),", and a high-performance columnar\nexpression language based on ",(0,S.kt)("a",{parentName:"p",href:"https://github.com/ArashPartow/exprtk"},"ExprTK"),".")),(0,S.kt)("li",{parentName:"ul"},(0,S.kt)("p",{parentName:"li"},"A framework-agnostic User Interface packaged as a\n",(0,S.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements"},"Custom Element"),",\npowered either in-browser via WebAssembly or virtually via\nWebSocket server (Python/Node).")),(0,S.kt)("li",{parentName:"ul"},(0,S.kt)("p",{parentName:"li"},"A ",(0,S.kt)("a",{parentName:"p",href:"https://jupyter.org/"},"JupyterLab")," widget and Python client library, for\ninteractive data analysis in a notebook, as well as ",(0,S.kt)("em",{parentName:"p"},"scalable")," production\n",(0,S.kt)("a",{parentName:"p",href:"https://github.com/voila-dashboards/voila"},"Voila")," applications."))))}E.isMDXComponent=!0;var Z=["components"],V={toc:[{value:"JavaScript",id:"javascript",level:2}]};function P(e){var t=e.components,n=(0,k.Z)(e,Z);return(0,S.kt)("wrapper",(0,d.Z)({},V,n,{components:t,mdxType:"MDXLayout"}),(0,S.kt)("h2",{id:"javascript"},"JavaScript"),(0,S.kt)("p",null,"Interactive dashboards built on Perspective.js\n",(0,S.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements"},"Custom Elements"),"\nare easy to integrate into any web application framework."),(0,S.kt)("p",null,"Using Perspective's simple query language, elements like\n",(0,S.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," can be ",(0,S.kt)("em",{parentName:"p"},"symmetrically")," configured via API or User\ninteraction. Web Applications built with Perspective Custom Elements can be\nre-hydrated from their serialized state, driven from external Events, or\npersisted to any store. Workspaces can mix virtual, server-side Python data\nwith in-browser client data seamlessly, and independent data Views can be\ncross-filtered, duplicated, exported, stacked and saved."),(0,S.kt)("p",null,"To achieve Desktop-like performance in the Browser, Perspective.js\nrelies on ",(0,S.kt)("a",{parentName:"p",href:"https://webassembly.org/"},"WebAssembly")," for excellent\n",(0,S.kt)("em",{parentName:"p"},"query calculation")," time, and ",(0,S.kt)("a",{parentName:"p",href:"https://arrow.apache.org/"},"Apache Arrow"),"\nfor its conservative ",(0,S.kt)("em",{parentName:"p"},"memory footprint")," and efficient ",(0,S.kt)("em",{parentName:"p"},"data serialization"),"."))}P.isMDXComponent=!0;var O=["components"],N={toc:[{value:"Python",id:"python",level:2}]};function M(e){var t=e.components,n=(0,k.Z)(e,O);return(0,S.kt)("wrapper",(0,d.Z)({},N,n,{components:t,mdxType:"MDXLayout"}),(0,S.kt)("h2",{id:"python"},"Python"),(0,S.kt)("p",null,"`","perspective-python","`",", built on the same C++ data engine used by the\n",(0,S.kt)("a",{parentName:"p",href:"https://perspective.finos.org/docs/md/js.html"},"WebAssembly version"),", implements\nthe Perspective API directly in Python, either as a virtualized server for\nProduction, or as an embedded JupyterLab Widget for Research."),(0,S.kt)("p",null,"For Application Developers, virtualized ",(0,S.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," will only\nconsume the data necessary to render the current screen, enabling ",(0,S.kt)("em",{parentName:"p"},"ludicrous size"),"\ndatasets with nearly instant load. Or - stream the entire dataset to the\nWebAssembly runtime via efficiently via Apache Arrow, and give your server a\nbreak!"),(0,S.kt)("p",null,"For Researchers and Data Scientists, ",(0,S.kt)("inlineCode",{parentName:"p"},"PerspectiveWidget")," is available as a\n",(0,S.kt)("a",{parentName:"p",href:"https://jupyterlab.readthedocs.io/en/stable/"},"Jupyter/JupyterLab")," widget,\nallowing interactive ",(0,S.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/"},"Pandas")," and\n",(0,S.kt)("a",{parentName:"p",href:"https://arrow.apache.org/"},"Apache Arrow")," visualization within a notebook."))}M.isMDXComponent=!0;var T=[{description:a().createElement(E,null)},{description:a().createElement(P,null)},{description:a().createElement(M,null)}];function L(e){var t=e.description;return a().createElement("div",{className:(0,o.Z)("col col--4")},a().createElement("div",{className:"text--full padding-horiz--md"},t))}function j(){return a().createElement(a().Fragment,null,a().createElement("section",{className:f},a().createElement("div",{className:"container"},a().createElement("div",{className:"row"},T.map((function(e,t){return a().createElement(L,(0,d.Z)({key:t},e))}))))),a().createElement("section",{className:(0,o.Z)(g,f)},a().createElement("div",{className:(0,o.Z)(p,"container")},a().createElement(u,null,(function(){return a().createElement(w,null)})))))}var R=n(412),z="heroBanner_qdFl",D="buttons_AeoN",Y="heroBannerLogo_TelY";function B(){(0,i.Z)().siteConfig;var e=(0,s.I)();e.colorMode,e.setColorMode;return a().createElement("header",{className:(0,o.Z)("hero",z)},a().createElement("div",{className:"container"},a().createElement("img",{className:(0,o.Z)(Y)}),a().createElement("div",{className:D},a().createElement(u,null,(function(){var e=n(3062).PerspectiveViewerDemo;return a().createElement(e,null)})))))}function I(){var e=(0,i.Z)().siteConfig;if(R.Z.canUseDOM){var t=(0,r.useCallback)((function(){var e=document.body.classList.contains("scrolled");document.documentElement.scrollTop>100&&!e?document.body.classList.add("scrolled"):document.documentElement.scrollTop<=100&&e&&document.body.classList.remove("scrolled")}),[]);(0,r.useEffect)((function(){return document.addEventListener("scroll",t),function(){return document.removeEventListener("scroll",t)}}),[t])}return a().createElement(l.Z,{title:""+e.title,description:e.description},a().createElement(B,null),a().createElement("main",null,a().createElement(j,null)))}},8429:function(e,t,n){"use strict";var r,a=n(1092),o=n(1914),i=n(3219),s=n(8953),l=n(6732),c=n(7791),u=n(8549),d=n(7580),f=n(7662),g=n(3603),p=n(9951),_=n(5136),h=n(9452),b=Object.create,m=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,k=function(e){return m(e,"__esModule",{value:!0})},S=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},C=function(e,t){for(var n in k(e),t)m(e,n,{get:t[n],enumerable:!0})},A=function(e){return function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r,a=function(){var a=r.value;!x.call(e,a)&&"default"!==a&&m(e,a,{get:function(){return t[a]},enumerable:!(n=v(t,a))||n.enumerable})},o=(0,u.Z)(y(t));!(r=o()).done;)a();return e}(k(m(null!=e?b(w(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},E=S((function(e,t){t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),Z=S((function(e,t){var n=E().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;var i=n.shift();if(r(e)&&r(i))for(var s in i){var l,c;r(i[s])?(e[s]||Object.assign(e,((l={})[s]={},l)),a(e[s],i[s])):Object.assign(e,((c={})[s]=i[s],c))}return a.apply(void 0,[e].concat(n))}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){var n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){var r=t.exports.get_type_config(n.type);return Object.assign(r,n),r}return n},globalThis.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=a(n,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var V="none",P="ordinal",O="time",N="linear",M=function(e){var t="crossValues",n=null,r=null,a=function(){var a=function(r){var a=n?e[t].filter((function(e){return n==e.name})):e[t];return!("crossValues"==t&&a.length>1)&&a.some((function(e){return r.includes(e.type)}))};return 0===e[t].length?V:r!=O&&a(["datetime","date"])?O:r!=N&&a(["integer","float"])||r==P?N:P};return a.settingName=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.settingValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.excludeType=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},T={};C(T,{domain:function(){return z},labelFunction:function(){return D},scale:function(){return R}});var L=function(e){return Array.isArray(e)?e.flat(1/0):[e]},j=function(e){var t=function(t){return e(t)};return(0,d.rebindAll)(t,e),t.bandwidth=function(){return arguments.length?(e.bandwidth.apply(e,arguments),t):Math.max(e.bandwidth(),1)},t},R=function(){return e=j((0,f.tiA)()),t=function(t){return e(t)},(0,d.rebindAll)(t,e),t.ticks=function(){return[]},t;var e,t},z=function(){var e=["crossValue"],t="horizontal",n=function(t){var n=L(t);return r([].concat(new Set(n.map((function(t){return t[e[0]]})))))},r=function(e){return"vertical"==t?e.reverse():e};return n.valueName=function(){return arguments.length?(e=[arguments.length<=0?void 0:arguments[0]],n):e[0]},n.valueNames=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},D=function(e){return function(t){return t[e].join("|")}},Y={};C(Y,{domain:function(){return W},labelFunction:function(){return U},scale:function(){return H},tickFormatFunction:function(){return X}});var B=function(){var e=[0,0],t="percent",n=function(n){switch(t){case"domain":n[0]-=e[0],n[1]+=e[1];break;case"percent":var r=n[1]-n[0];n[0]-=e[0]*r,n[1]+=e[1]*r;break;default:throw new Error("Unknown padUnit: "+t)}return n};return n.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},I=function(e){if(Array.isArray(e)){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},F=function(e){return Math.abs(e)>=1e7?(0,f.WUZ)(".3s")(e):Number.isInteger(e)?(0,f.WUZ)(",.0f")(e):(0,f.WUZ)(",.2f")(e)},H=function(){return(0,f.BYU)()},W=function(){var e=function(){var e=[function(e){return e}],t=null,n=[],r=B(),a=function(a){var o,i=new Array(a.length),s=!0,l=!1,c=e[Symbol.iterator]();try{for(var u;!(s=(u=c.next()).done);s=!0)for(var d=u.value,f=0;f<a.length;f++){var _=d(a[f],f);Array.isArray(_)?i.push.apply(i,I(_)):i.push(_)}}catch(u){l=!0,o=u}finally{try{!s&&c.return&&c.return()}finally{if(l)throw o}}var h=[(0,g.Z)(i),(0,p.Z)(i)];if(h[0]=null==h[0]?(0,g.Z)(n):(0,g.Z)([h[0]].concat(I(n))),h[1]=null==h[1]?(0,p.Z)(n):(0,p.Z)([h[1]].concat(I(n))),null!=t){var b=Math.max(Math.abs(h[1]-t),Math.abs(h[0]-t));h[0]=t-b,h[1]=t+b}return r(h)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),a):r.pad},a.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),a):r.padUnit},a.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a}().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=function(n){return e.accessors(t.map((function(e){return function(t){return parseFloat(t[e])}}))),r(L(n))};(0,d.rebindAll)(n,e);var r=function(n){if("domain"==e.padUnit()){var r=function(e){var n=t.map((function(t){return e.map((function(e){return e[t]})).sort((function(e,t){return e-t})).filter((function(e,t,n){return 0===t||e!==n[t-1]})).reduce((function(e,t,n,r){return 0===n||e<=t-r[n-1]?e:Math.abs(t-r[n-1])}))}));return Math.min.apply(Math,n)}(n);return e.pad([r/2,r/2])(n)}return e(n)};return n.valueName=function(){return arguments.length?(t=[arguments.length<=0?void 0:arguments[0]],n):t[0]},n.valueNames=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},U=function(e){return function(t){return t[e][0]}},X=F,q={};C(q,{domain:function(){return K},labelFunction:function(){return J},scale:function(){return G}});var G=function(){return(0,f.Xf)()},K=function(){var e=(0,d.extentTime)(),t=["crossValue"],n=function(n){return e.accessors(t.map((function(e){return function(t){return new Date(t[e])}}))),r(L(n))};(0,d.rebindAll)(n,e,(0,d.exclude)("include","paddingStrategy"));var r=function(n){var r=Math.abs(function(e){var n=t.map((function(t){return e.map((function(e){return new Date(e[t]).getTime()})).sort((function(e,t){return e-t})).filter((function(e,t,n){return 0===t||e!==n[t-1]})).reduce((function(e,t,n,r){return 0===n||Math.abs(e)<=Math.abs(t-r[n-1])?Math.abs(e):Math.abs(t-r[n-1])}))}));return Math.min.apply(Math,n)}(n));return e.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=function(){return arguments.length?(t=[arguments.length<=0?void 0:arguments[0]],n):t[0]},n.valueNames=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},J=function(e){return function(t){return new Date(t[e][0])}},Q={};C(Q,{component:function(){return ce},domain:function(){return se},labelFunction:function(){return le},scale:function(){return ie}});var $=function(e,t,n){var r=6,a=6,o=function(){for(var e={},t=function(t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t[a](e[a])}return t},n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var o=function(){var n=s[i];t[n]=function(){return arguments.length?(e[n]=arguments.length<=0?void 0:arguments[0],t):e[n]}},i=0,s=r;i<s.length;i++)o();return t}("tickFormat","ticks","tickArguments","tickValues","tickPadding"),i=function(){},s=null,l=(0,d.dataJoin)("g","group"),c=(0,d.dataJoin)("path","domain"),u=function(e,t){return g()?"translate("+t+", "+e+")":"translate("+e+", "+t+")"},g=function(){return"left"===e||"right"===e},p=function(d){s?d.each((function(d,p,h){var b=h[p],m=(0,f.Ys)(b),v="bottom"===e||"right"===e?1:-1,y=n.range(),w=function(e){return g()?e.map((function(e){return[e[1],e[0]]})):e}([[y[0],v*r],[y[0],0],[y[1],0],[y[1],v*r]]);c(m,[d]).attr("d",(0,f.jvg)()(w)).attr("stroke","#000").attr("fill","none");var x=l(m,s),k=function(e){return Array.isArray(a)?a[e]:a},S=function(e){for(var t=0,n=0;n<e;n++)t+=k(n);return t};x.attr("transform",(function(e,t){return u(0,v*S(t))})).each((function(e,r,a){var s=(0,f.Ys)(a[r]),l=_(n,e);o(t(l)).decorate((function(e,t){return i(e,t,r)})).tickSizeInner(k(r)).tickOffset((function(e){return l.step(e)/2}))(s),s.select("path.domain").attr("visibility","hidden")})),x.exit().attr("transform",(function(e,t){return u(0,v*S(t))}))})):o(t(n).decorate(i))(d)},_=function e(t,n){function r(e){var n=e.domain;return n.reduce((function(e,n){return e+t(n)}),0)/n.length}return r.ticks=function(){return n},r.tickFormat=function(){return function(e){return e.text}},r.copy=function(){return e(t,n)},r.step=function(e){return e.domain.length*t.step()},(0,d.rebindAll)(r,t,(0,d.exclude)("ticks","step","copy")),r};return p.tickSize=function(){return arguments.length?(a=r=Number(arguments.length<=0?void 0:arguments[0]),p):a},p.tickSizeInner=function(){return arguments.length?(a=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:Number(arguments.length<=0?void 0:arguments[0]),p):a},p.tickSizeOuter=function(){return arguments.length?(r=Number(arguments.length<=0?void 0:arguments[0]),p):r},p.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},p.groups=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},(0,d.rebindAll)(p,o),p},ee=function(e){return $("top",d.axisOrdinalTop,e)},te=function(e){return $("bottom",d.axisOrdinalBottom,e)},ne=function(e){return $("left",d.axisOrdinalLeft,e)},re=function(e){return $("right",d.axisOrdinalRight,e)};function ae(e){return e.getRootNode().host}function oe(e){return e.closest("#container.chart")}var ie=function(){return j((0,f.tiA)()).padding(.5)},se=function(){var e=["crossValue"],t="horizontal",n=function(t){var n=L(t);return r([].concat(Array.from(new Set(n.map((function(t){return t[e[0]]}))))))},r=function(e){return"vertical"==t?e.reverse():e};return n.valueName=function(){return arguments.length?(e=[arguments.length<=0?void 0:arguments[0]],n):e[0]},n.valueNames=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},le=function(e){return function(t){return t[e].join("|")}},ce=function(e){var t="horizontal",n="crossValues",r=null,a=function(){var a=e[n].length>1,c=i(r),d=c.map(s),f=a?d.map((function(e){return e.size})):d[0].size,g=d.reduce((function(e,t){return e+t.size}),0),p=function(e){return function(n){var r=e(n);return a&&r.groups(c).tickSizeInner(f).tickSizeOuter(g),"horizontal"!==t&&r.tickPadding(10),r}},_=o(a);return{bottom:p(_.bottom),left:p(_.left),right:p(_.right),top:p(_.top),size:g+10+"px",decorate:function(e,n,r){var a=d[r].rotation;"horizontal"===t&&u(e,a),l(e,a)}}},o=function(e){return e?{bottom:te,left:ne,top:ee,right:re}:{bottom:d.axisOrdinalBottom,left:d.axisOrdinalLeft,top:d.axisOrdinalTop,right:d.axisOrdinalRight}},i=function(e){var t=[];return e.forEach((function(e){(e&&e.split?e.split("|"):[e]).forEach((function(n,r){for(;t.length<=r;)t.push([]);var a=t[r];a.length>0&&a[a.length-1].text===n?a[a.length-1].domain.push(e):a.push({text:n,domain:[e]})}))})),t.reverse()},s=function(n){var r=e.size.width,a=Math.max.apply(Math,n.map((function(e){return e.text?e.text.length:0})));return"horizontal"===t?n&&16*n.length>r-100?{size:5*a+10,rotation:90}:n&&n.length*(6*a+10)>r-100?{size:3*a+20,rotation:45}:{size:25,rotation:0}:{size:5*a+10,rotation:0}},l=function(e,n){var r=n?function(e,t){return e.x+e.width+14>t.x+t.width}:function(e,t){return e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height},a="horizontal"==t?c(e):null,o=[];e.each((function(e,t,n){var i=(0,f.Ys)(n[t]),s=function(e){for(var t=-1!==e.indexOf(",")?",":" ",n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(t).map((function(e){return parseInt(e)}));n.length<2;)n.push(0);return n}(i.attr("transform")),l=i.node().getBBox(),c={x:l.x+s[0],y:l.y+s[1],width:l.width,height:l.height},u=o.some((function(e){return r(e,c)}))||a&&!function(e,t){return e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height}(c,a);i.attr("visibility",u?"hidden":""),u||o.push(c)}))},c=function(e){var t=oe(e.node());if(null!==t){var n=t.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),a=n.getBoundingClientRect(),o=r.getBoundingClientRect();return{x:a.left-o.left,width:a.width,y:a.top-o.top,height:a.height}}},u=function(e,t){var n=function(e){return e?e<60?"rotate(-"+e+" 5 5)":"rotate(-"+e+" 3 7)":"translate(0, 8)"}(t),r=t?"end":"";e.each((function(e,t,a){(0,f.Ys)(a[t]).select("text").attr("transform",n).style("text-anchor",r)}))};return a.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.settingName=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.domain=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},ue={none:T,ordinal:Q,time:q,linear:Y},de=function(e){var t=null,n="horizontal",r="crossValues",a=null,o=["crossValue"],i=["include","paddingStrategy","pad"],s={},l=function(l){var d=M(e).excludeType(t).settingName(r).settingValue(a)(),f=ue[d],g=f.domain().valueNames(o);i.forEach((function(e){s[e]&&g[e]&&g[e](s[e])})),g.orient&&g.orient(n);var p=g(l),_=f.component?c(f,p,l):u();return{scale:f.scale(),domain:p,domainFunction:g,labelFunction:f.labelFunction,component:{bottom:_.bottom,left:_.left,top:_.top,right:_.right},size:_.size,decorate:_.decorate,label:e[r].map((function(e){return e.name})).join(", "),tickFormatFunction:f.tickFormatFunction}},c=function(t,a,o){return t.component(e).orient(n).settingName(r).domain(a)(o)},u=function(){return{bottom:d.axisBottom,left:d.axisLeft,top:d.axisTop,right:d.axisRight,decorate:function(){}}};return l.excludeType=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.orient=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.settingName=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.settingValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.valueName=function(){return arguments.length?(o=[arguments.length<=0?void 0:arguments[0]],l):o[0]},l.valueNames=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},i.forEach((function(e){l[e]=function(){return arguments.length?(s[e]=arguments.length<=0?void 0:arguments[0],l):s[e]}})),l},fe=function(e,t){return pe(e,t,(function(e,t){return e.svgPlotArea(t)}),!1)},ge=function(e,t){return pe(e,t,(function(e,t){return e.canvasPlotArea(t).svgPlotArea((0,d.seriesSvgPoint)())}),!0)},pe=function(e,t,n,r){var a=null,o=null,i=(0,d.chartCartesian)({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&i.xDecorate(e.decorate),t.decorate&&i.yDecorate(t.decorate),i.xPaddingInner&&i.xPaddingInner(1),i.xPaddingOuter&&i.xPaddingOuter(.5),i.yPaddingInner&&i.yPaddingInner(1),i.yPaddingOuter&&i.yPaddingOuter(.5),i.axisSplitter=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},i.altAxis=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],i):o},i.plotArea=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0==t.length?r?this.canvasPlotArea():this.svgPlotArea():n.apply(void 0,[this].concat(t))};var s=i.decorate();return i.decorate((function(n,l){var c=n.select("d3fc-svg.plot-area"),u=c.select("svg").node();u.setAttribute("viewBox","0 0 "+c.node().clientWidth+" "+c.node().clientHeight),u.setAttribute("preserveAspectRatio","none");for(var g=0,p=["x-axis","y-axis"];g<p.length;g++){var _=p[g];n.select("d3fc-svg."+_+" svg").node().setAttribute("preserveAspectRatio","none")}if(s(n,l),r){var h=n.select(".svg-plot-area").node(),b=n.select(".canvas-plot-area").node();(0,f.td_)([h,b]).order()}if(a){if(a.haveSplit()){var m=a.altData(),v=(0,d.dataJoin)("d3fc-svg","y2-axis").key((function(e){return e})),y=(0,d.dataJoin)("g","y-series").key((function(e){return e}));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");var w=o.scale.domain(o.domain),x=o.component.right(w);if(x.tickFormat(o.tickFormatFunction),o.decorate&&x.decorate(o.decorate),v(n,["right"]).attr("class",(function(e){return"y-axis "+e+"-axis"})).on("measure",(function(e,t){var n=e.detail,r=n.width,a=n.height;"left"===t&&(0,f.Ys)(e.currentTarget).select("svg").attr("viewBox",-r+" 0 "+r+" "+a).attr("preserveAspectRatio","none"),w.range([a,0])})).on("draw",(function(e,t){(0,f.Ys)(e.currentTarget).select("svg").call(x)})),r){n.select("d3fc-canvas.plot-area").on("draw",(function(n,r){!function(n){var r=i.plotArea();r.context(n.node().getContext("2d")).xScale(e.scale);var a=[t.scale,w];[l,m].forEach((function(e,t){r.yScale(a[t]),r(e)}))}((0,f.Ys)(n.currentTarget).select("canvas"))}))}else{n.select("d3fc-svg.plot-area").on("draw",(function(n,r){!function(n){var r=i.plotArea();r.xScale(e.scale);var a=[t.scale,w];y(n,[l,m]).each((function(e,t,n){r.yScale(a[t]),(0,f.Ys)(n[t]).datum(e).call(r)}))}((0,f.Ys)(n.currentTarget).select("svg"))}))}}a(n)}})),i};function _e(e,t,n){var r=e.select(t);return r.size()>0?r:n()}function he(e,t,n){if(void 0===n&&(n="right"),"right"===n||"bottom"===n)return e[n]<t[n];if("left"===n||"top"===n)return e[n]>t[n];throw"Direction being checked for overflow is invalid: "+n}function be(e,t,n,r){void 0===r&&(r=0);var a="x"===e?"width":"height",o=t[e],i=t[e]+t[a],s=n[e],l=n[e]+n[a];return s+r>o&&s-r<i||l+r>o&&l-r<i||s+r<o&&l-r>i}var me='<ul id="tooltip-values"></ul>\n',ve=A(Z());function ye(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString("en-us",(0,ve.get_type_config)(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function we(e,t){return 0===t.crossValues.length||0===e.crossValue.length?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map((function(e,n){return{name:t.crossValues[n].name,value:ye(t.crossValues[n].type,e)}}))}function xe(e,t){if(0===t.splitValues.length)return[];var n=e.key?e.key.split("|"):e.mainValue.split?e.mainValue.split("|"):[e.mainValue];return t.splitValues.map((function(e,t){return{name:e.name,value:ye(e.type,n[t])}}))}function ke(e,t){return t.mainValues.length>1?e.mainValue?[{name:e.key,value:e.mainValue-(e.baseValue||0)}]:t.mainValues.map((function(t,n){return{name:t.name,value:ye(t.type,e.mainValues[n])}})):[{name:t.mainValues[0].name,value:ye(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}var Se=A(Z());function Ce(e,t,n){!function(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each((function(e){(0,f.Ys)(this).text(e.name+": ").append("b").text(Ae(e.value))}))}(e,we(t,n).concat(xe(t,n)).concat(ke(t,n)))}var Ae=function(e){return null===e?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:(0,Se.get_type_config)("float").precision,maximumFractionDigits:(0,Se.get_type_config)("float").precision})},Ee=function(e){return[e.name,"==",e.value]},Ze=function(e,t,n){var r=ke(t,n).map((function(e){return e.name})),a=we(t,n).map(Ee),o=xe(t,n).map(Ee),i=n.filter.concat(a).concat(o);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:i},row:t.row}}))},Ve=function(){var e=!1,t=null,n=null,r=!1,a=function(a){var o=a.node();if(o&&o.isConnected){var i=(0,f.Ys)(oe(o));t=function(e){return _e(e,"div.tooltip",(function(){return e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(me)}))}(i);var s=function(e,o){Ce(t,o,n);var s=a.nodes(),l=s.indexOf(this);(function(e,t,n,r){var a,o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=i.left+i.width/2-o.left,l=i.top-o.top+e.scrollTop;r&&(l=i.top+i.height/2-o.top+e.scrollTop),n.style("left",s+"px").style("top",l+"px").style("opacity",.9),r&&(a=function(e,t){var n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",a+"px");var o=n.height/2,i=n.top-o-t.top;return e.style("top",i+"px"),[a,i]}(n,o),s=a[0],l=a[1]),function(e,t,n,r,a){void 0===a&&(a=!1);var o=e.node().getBoundingClientRect();if(he(t,o)){var i=o.right-t.right;e.style("left",n-i+"px")}if(he(t,o,"bottom")){var s=o.bottom-t.bottom;e.style("top",r-s+"px")}if(a){if(he(t,o,"left")){var l=o.left-t.left;e.style("left",n-l+"px")}if(he(t,o,"top")){var c=o.top-t.top;e.style("top",r-c+"px")}}}(n,o,s,l,r)})(i.node(),s[l],t,r),(0,f.Ys)(s[l]).style("opacity","0.7")};e?a.each((function(e){return s.call(this,void 0,e)})):(a.on("mouseover",s).on("mouseout",(function(e,n){Pe(t);var r=a.nodes(),o=r.indexOf(this);r&&(0,f.Ys)(r[o]).style("opacity","1")})),function(){var e=null,t=function(t){var n=t.node();t.on("click",(function(t,r){return Ze(n,r,e)}))};return t.settings=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t}().settings(n)(a))}else Pe(t)};return a.alwaysShow=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.centered=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.settings=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a};function Pe(e){e&&e.style("opacity",0)}function Oe(e,t){var n=e.mainValues.length>1?(0,d.seriesSvgGrouped)((0,d.seriesSvgBar)()):(0,d.seriesSvgBar)();return n=n.decorate((function(n){Ve().settings(e)(n),n.style("fill",(function(e){return t(e.key)}))})),(0,d.autoBandwidth)(Ne(n)).crossValue((function(e){return e.crossValue})).mainValue((function(e){return e.mainValue?e.mainValue:0})).baseValue((function(e){return e.baseValue}))}var Ne=function(e){var t=function(t){return e(t)};return(0,d.rebindAll)(t,e),t.bandwidth=function(){return arguments.length?(e.bandwidth(Math.max(arguments.length<=0?void 0:arguments[0],1)),t):e.bandwidth()},t};function Me(e){return e.split("|").slice(0,-1).join("|")}function Te(e){var t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter((function(e){return"__ROW_PATH__"!==e}));return Re().settings(e).domain(n)()}function Le(e,t){var n=Array.from(new Set(t));return Re().settings(e).domain(n)()}function je(e){var t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((function(e){if("__ROW_PATH__"!==e){var t=Me(e);n.includes(t)||n.push(t)}})),Re().settings(e).domain(n)()}function Re(){var e=null,t=null,n={},r=function(e){return De(e,n.colorStyles&&n.colorStyles.opacity)},a=function(){var a=n.colorStyles,o=t||[a.series];if(o||e.length>1){var i=e.length>1?a.scheme:o;return(0,f.PKp)(i.map(r)).domain(e)}return null};return a.domain=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.defaultColors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.mapFunction=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.settings=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a}function ze(e){return Ye(1)(e)}function De(e,t){return void 0===t&&(t=.5),Ye(t)(e)}function Ye(e){return function(t){var n=(0,f.$_Y)(t);return n.opacity=e,n+""}}var Be={none:D,ordinal:le,time:J,linear:U},Ie=function(e){var t=M(e),n="__ROW_PATH__",r=function(e,r){return Be[t()](n)(e,r)};return(0,d.rebindAll)(r,t),r.valueName=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r};function Fe(e,t,n){var r=void 0===n?{}:n,a=r.stack,o=void 0!==a&&a,i=r.excludeEmpty,s=void 0!==i&&i,l=t||e.data;return e.splitValues.length>0?function(e,t,n){var r=n.stack,a=void 0!==r&&r,o=n.excludeEmpty,i=void 0!==o&&o,s={};return t.forEach((function(e){var t={},n={};Object.keys(e).filter((function(e){return"__ROW_PATH__"!==e})).filter((function(t){return!i||null!=e[t]&&null!=e[t]})).forEach((function(r){var o=r.split("|"),i=o[o.length-1],s=e[r]||0,l=i+(s>=0?"+ve":"-ve"),c=o.slice(0,o.length-1).join("|"),u=n[c]=n[c]||{__ROW_PATH__:e.__ROW_PATH__},d=t[l]||0;u.__KEY__=c,a?(u[i]=d+s,u["__BASE_VALUE__"+i]=d,t[l]=u[i]):u[i]=s,u.row=e})),Object.keys(n).forEach((function(e){(s[e]=s[e]||[]).push(n[e])}))})),Object.keys(s).map((function(e){var t=s[e];return t.key=e,t}))}(0,l,{stack:o,excludeEmpty:s}):[l]}function He(e,t){var n={stack:!0};return Fe(e,t,n).map((function(t){return We(e,t,n)}))}function We(e,t,n){var r=n.stack,a=function(e,t,n){var r=n.stack,a=void 0!==r&&r,o=Ie(e);return function(e){var n=function(t){return a&&t["__BASE_VALUE__"+e.name]||0},r=t.map((function(t,r){return{crossValue:o(t,r),mainValue:t[e.name]?t[e.name]:null,baseValue:n(t),key:t.__KEY__?t.__KEY__+"|"+e.name:e.name,row:t.row||t}}));return r.key=r[0].key,r}}(e,t,{stack:void 0!==r&&r});return e.mainValues.length>1?e.mainValues.map(a):a(e.mainValues[0])}var Ue=10;function Xe(e,t,n){var r=(0,f.Ys)(ae(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),o={top:a.top+n-Ue,right:a.right+t+Ue,bottom:a.bottom+n+Ue,left:a.left+t-Ue},i={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((function(e){if(he(r,o,e.edge)){var t=o[e.edge]-r[e.edge];i[e.dimension]=i[e.dimension]-t}})),i}var qe="resize.for-dragging";function Ge(){var e=!0,t=null,n=function(n){var r=n.node(),a=r.getRootNode().host.closest("perspective-viewer");r.style.cursor="move",t.legend&&(r.style.left=t.legend.left,r.style.top=t.legend.top);var o=(0,f.ohM)().on("drag",(function(n){var a=Xe(this,n.dx,n.dy);this.style.left=this.offsetLeft+a.x+"px",this.style.top=this.offsetTop+a.y+"px";var o={left:this.style.left,top:this.style.top};t.legend=Object.assign({},t.legend,o),e=function(e){var t=e.getBoundingClientRect(),n=(0,f.Ys)(oe(e)).node().getBoundingClientRect(),r=5;return t.right+Ue+r>=n.right&&t.top-Ue-r<=n.top}(r)?function(e){return(0,f.Ys)(window).on(qe,null),e.style.left="auto",!0}(r):function(e,t){return!1!==t&&(0,f.Ys)(window).on(qe,(function(){var t=Xe(e,0,0);e.style.left=e.offsetLeft+t.x+"px",e.style.top=e.offsetTop+t.y+"px"})),!1}(r,e)}));o.on("end",(function(e){(0,f.Ys)(window).on(qe,null),null==a||a.dispatchEvent(new Event("perspective-config-update"))})),n.call(o)};return n.settings=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n}var Ke="horizontal-drag-handle",Je="vertical-drag-handle",Qe="dragHandles",$e="resize";var et=function(e,t,n,r){e.selectAll("."+r).each((function(e,r,a){var o=a[r];(0,f.Ys)(o).attr(n,o.getBoundingClientRect()[n]-t)}))},tt=function(e){return e.select("#"+Qe).size()>0},nt=function(e,t,n){return e.attr(t,Number(e.attr(t))-n)},rt=function(e,t,n){return e.attr(t,e.node().getBoundingClientRect()[t]-n)},at=function(e,t){var n,r,a=e||(0,_.wg)(),o=[],i=1,s=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=function(){},c=Ge().settings(t),u=function(e){o=a.scale().domain(),r=function(){var e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},o=[],i=function(e,t){return o.filter((function(t){return t.event===e})).forEach((function(e){return e.execute(t)}))},s=function(r){if(!tt(r)){var o={left:function(e){return i($e,{horizontal:V(e),vertical:!1})},top:function(e){return i($e,{horizontal:!1,vertical:O(e)})},right:function(e){return i($e,{horizontal:P(e),vertical:!1})},bottom:function(e){return i($e,{horizontal:!1,vertical:N(e)})},topleft:function(e){return i($e,{horizontal:V(e),vertical:O(e)})},topright:function(e){return i($e,{horizontal:P(e),vertical:O(e)})},bottomright:function(e){return i($e,{horizontal:P(e),vertical:N(e)})},bottomleft:function(e){return i($e,{horizontal:V(e),vertical:N(e)})}},s=r.node();n.legend&&(s.style.height=n.legend.height,s.style.width=n.legend.width);var u=s.getBoundingClientRect(),d=r.append("svg").attr("id",Qe).attr("width",u.width).attr("height",u.height),g=d.append("g"),p=function(e){return"left"===e||"right"===e},_={left:0,top:e,right:u.width-e,bottom:e},h={left:e,top:0,right:e,bottom:u.height-e},b=["left","top","right","bottom"].map((function(n){return g.append("rect").attr("id","drag"+n).attr("class",p(n)?Je:Ke).attr("y",h[n]).attr("x",_[n]).attr("height",p(n)?u.height-2*e:e).attr("width",p(n)?e:u.width-2*e).attr("fill",p(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",t).attr("cursor",p(n)?"ew-resize":"ns-resize").call((0,f.ohM)().on("drag",o[n]))})),m=b[0],v=b[1],y=b[2],w=b[3],x=function(e){return""+e[0]+e[1]},k={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},S=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((function(n){return g.append("rect").attr("id","drag"+x(n)).attr("class","corner-drag-handle "+n[0]+" "+n[1]).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",0).style("z-index",t).attr("cursor",k[x(n)]+"-resize").call((0,f.ohM)().on("drag",o[x(n)]))})),C=S[0],A=S[1],E=S[2],Z=S[3];j("height","y",w),j("width","x",y),L(d)}function V(e){var t=c(Xe(m.node(),e.x,0).x,d,"width",(function(e,t){return e-t}));return s.style.left=s.offsetLeft+t+"px",s.style.width=s.offsetWidth-t+"px",M(),T(y,t,"width","x")}function P(e){var t=-c(Xe(y.node(),e.dx,0).x,d,"width",(function(e,t){return e+t}));return!l(t,"x",y,e)&&(s.style.width=s.offsetWidth-t+"px",M(),T(y,t,"width","x"))}function O(e){var t=c(Xe(v.node(),0,e.y).y,d,"height",(function(e,t){return e-t}));return s.style.top=s.offsetTop+t+"px",s.style.height=s.offsetHeight-t+"px",M(),T(w,t,"height","y")}function N(e){var t=-c(Xe(w.node(),0,e.dy).y,d,"height",(function(e,t){return e+t}));return!l(t,"y",w,e)&&(s.style.height=s.offsetHeight-t+"px",M(),T(w,t,"height","y"))}function M(){var e={top:s.style.top,left:s.style.left,height:s.style.height,width:s.style.width};n.legend=Object.assign({},n.legend,e)}function T(e,t,n,r){return rt(d,n,t),nt(e,r,t),et(d,t,n,"height"===n?Je:Ke),L(d),0!=t}function L(t){C.attr("y",0,"x",0),A.attr("y",0).attr("x",t.attr("width")-e),E.attr("y",t.attr("height")-e).attr("x",t.attr("width")-e),Z.attr("y",t.attr("height")-e).attr("x",0)}function j(e,t,n){a[e]&&a[e]<u[e]&&(s.style[e]=a[e]+"px",T(n,u[e]-a[e],e,t))}};function l(e,t,n,r){var a,o;return a=t,o=n,e<0&&r[a]<Number(o.attr(a))||function(e,t,n,r){return e>0&&r[t]>Number(n.attr(t))}(e,t,n,r)}function c(e,t,n,o){var i=o(Number(t.attr(n)),e);return i<r[n]?o(e,r[n]-i):a[n]&&i>a[n]?o(e,a[n]-i):e}return s.on=function(e,t){return o.push({event:e,execute:t}),s},s.zIndex=function(e){return t=e,s},s.settings=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.minWidth=function(e){return r.width=e,a.width&&(a.width=Math.max(r.width,a.width)),s},s.minHeight=function(e){return r.height=e,a.height&&(a.height=Math.max(r.height,a.height)),s},s.handleWidth=function(t){return e=t,s},s.maxWidth=function(e){return a.width=e,r.width=Math.min(r.width,a.width),s},s.maxHeight=function(e){return a.height=e,r.height=Math.min(r.height,a.height),s},s}().settings(t).maxHeight(16*o.length+20).on("resize",(function(){return g(e)})),r(e),c(e),g(e)},g=function(e){v(e),p(e),h(e),function(e){var t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(he(n,t.node().getBoundingClientRect())){var r=e.select(".legend");t.selectAll(".label").text((function(e,t,a){var o=a[t];if(he(n,o.getBoundingClientRect())){var i=function(e,t,n){var r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),o=3;return a.x=n.right-r.left-o,a.y=0,e.getCharNumAtPosition(a)}(o,r,n);return e.substring(0,i-3)+"..."}return e}))}}(e)},p=function(e){var t=w(e);t.style("display",i<=1?"none":"block"),t.select("#page-text").text(s+1+"/"+i),t.select("#up-arrow").attr("class",0===s?"disabled":"").on("click",(function(){s>0&&(b(s-1),g(e))})),t.select("#down-arrow").attr("class",s>=i-1?"disabled":"").on("click",(function(){s<i-1&&(b(s+1),g(e))}))},h=function(e){i>1&&a.cellFilter(m()),e.select("g.legendCells").remove();var t=x(e);t.call(a);var n=e.select("g.legendCells").node().getBBox();t.attr("height",n.height+20),l(e)},b=function(e){s=e,t.legend=Object.assign({},t.legend,{pageIndex:s})},m=function(){return function(e,t){return t>=n*s&&t<n*s+n}},v=function(e){var t=e.node().getBoundingClientRect(),r=Math.floor(t.height/16)-1;n=r<o.length?r-1:r,i=y(r),s=Math.min(s,i-1)},y=function(e){return Math.ceil(o.length/e)},w=function(e){return _e(e,".legend-controls",(function(){return e.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n')}))},x=function(e){return _e(e,".legend",(function(){return e.append("svg").attr("class","legend")}))};return u.decorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},(0,d.rebindAll)(u,a),u},ot=function(e){return at((0,_.wg)().shape("circle").shapeRadius(6),e)},it=function(e){return at((0,_.ry)().shapePadding(1).labelOffset(3),e)},st=function(){return ut(ot)},lt=function(){return ut(it,ct)};function ct(e){if(!e)return null;var t=e.domain(),n=e.range().map((function(e){return(0,f.NAG)().type(e)()}));return(0,f.PKp)().domain(t).range(n)}function ut(e,t){var n={},r=null,a=null;function o(t){if(r&&r.range().length>1){var o=e(n);o.scale(r).orient("vertical").on("cellclick",(function(e){var t=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(t)?n.hideKeys=n.hideKeys.filter((function(e){return e!==t})):n.hideKeys.push(t),ae(this)._draw()})),o.labels((function(e){var t=e.domain[e.i].split("|");return n.mainValues.length<=1&&t.length>1?t.slice(0,t.length-1).join("|"):e.domain[e.i]}));var i=_e(t,"div.legend-container",(function(){return t.append("div")}));o.decorate((function(e){var t=function(e){return n.hideKeys&&n.hideKeys.includes(e)},r=e.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",t),r.append("title").html((function(e){return e})),a&&r.select("circle, path").style("fill",(function(e){return t(e)?null:a(e)})).style("stroke",(function(e){return t(e)?null:ze(a(e))}))})),i.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(o)}}return o.settings=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.scale=function(){return arguments.length?(r=t?t(arguments.length<=0?void 0:arguments[0]):arguments.length<=0?void 0:arguments[0],o):r},o.color=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function dt(e,t){var n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((function(t){var n=Object.assign({},t);return e.hideKeys.forEach((function(e){delete n[e]})),n})):n}function ft(e,t){var n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((function(t){var n={};return Object.keys(t).map((function(r){e.hideKeys.includes(Me(r))||(n[r]=t[r])})),n})):n}var gt=function(e){return function(t){t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1}},pt=function(e){return e.style("display","none")},_t=function(e){return function(t){t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"}},ht=function(e,t){var n="both",r=!1,a=null,o=null,i=null,s=(0,d.seriesSvgMulti)(),l=(0,d.annotationSvgGridline)(),c=function(e){return function(t){return t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb")}}(t),u=pt,f=function(){r&&(s=(0,d.seriesCanvasMulti)().context(i),l=(0,d.annotationCanvasGridline)(),c=gt(t),u=_t(t));var f=s.xScale(a).yScale(o),g="vertical"===n?u:c,p="horizontal"===n?u:c,_=l.xDecorate(g).yDecorate(p);return f.series([_,e]).apply(void 0,arguments)};return f.orient=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],f):n},f.canvas=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.xScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],f):a},f.yScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.context=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],f):i},f},bt=function(){var e=B(),t=function(t){var n=e.pad(),r=e.padUnit(),a=1;switch(r){case"domain":break;case"percent":a=t[1]-t[0];break;default:throw new Error("Unknown padUnit: "+r)}var o=t[0]-n[0]*a,i=t[1]+n[1]*a;return t[0]=t[0]>=0&&o<0?0:o,t[1]=t[1]<=0&&i>0?0:i,t};return(0,d.rebindAll)(t,e),t},mt=function(){var e=null,t=null,n=null,r=null,a=null,o=null,i=!1,s=!1,l=function(){};function c(l){var c="d3fc-"+(s?"canvas":"svg")+".plot-area";if(n||a){var g=r&&r.domain()[0]instanceof Date,p=(0,f.sPX)().on("zoom",(function(i){var s=i.transform;t.zoom={k:s.k,x:s.x,y:s.y},u(s),l.call(e);var _=1===s.k&&0===s.x&&0===s.y,h=d(l).style("display",_?"none":"");h.select("#zoom-reset").on("click",(function(){return l.select(c).call(p.transform,f.CRH)}));var b=h.select("#one-year").style("display",g?"":"none"),m=h.select("#six-months").style("display",g?"":"none"),v=h.select("#one-month").style("display",g?"":"none");if(g){var y=function(e){return function(){var t=new Date(n.domain()[0]),i=new Date(t);e(t,i);var s=r.range(),u=(s[1]-s[0])/(r(i)-r(t)),d=-r(t)*u,g=0;if(a){var _=a.domain().reduce((function(e,t){return e+t}))/2;g=-o(_)*u+a(_)}l.select(c).call(p.transform,f.CRH.translate(d,g).scale(u))}};b.on("click",y((function(e,t){return t.setYear(e.getFullYear()+1)}))),m.on("click",y((function(e,t){return t.setMonth(e.getMonth()+6)}))),v.on("click",y((function(e,t){return t.setMonth(e.getMonth()+1)})))}})),_=e.decorate();e.decorate((function(e,n){if(_(e,n),!i){i=!0;var a=e.select(c),l=s?window.devicePixelRatio:1;a.on("measure.zoom-range",(function(e){if(r&&r.range([0,e.detail.width/l]),o&&o.range([0,e.detail.height/l]),t.zoom){var n=f.CRH.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);a.call(p.transform,n)}})).call(p)}}))}l.call(e)}c.chart=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.settings=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.xScale=function(){return arguments.length?(n=g(arguments.length<=0?void 0:arguments[0]),r=n?n.copy():null,c):n},c.yScale=function(){if(!arguments.length)return a;if(a=g(arguments.length<=0?void 0:arguments[0]),o=a?a.copy():null){var e=o.domain();o.domain([e[1],e[0]])}return c},c.canvas=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],c):s},c.onChange=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l};var u=function(e){var t=Object.assign({},e);if(n&&(n.domain(e.rescaleX(r).domain()),t.xDomain=n.domain()),a){var i=e.rescaleY(o).domain();a.domain([i[1],i[0]]),t.yDomain=a.domain()}l(t)},d=function(e){return _e(e,".zoom-controls",(function(){return e.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n')}))},g=function(e){return e&&e.nice?e:null};return c};function vt(e,t){var n=He(t,dt(t)),r=Te(t),a=st().settings(t).scale(r),o=Oe(t,r).orient("horizontal"),i=(0,d.seriesSvgMulti)().mapping((function(e,t){return e[t]})).series(n.map((function(){return o}))),s=de(t).settingName("mainValues").valueName("mainValue").excludeType(P).include([0]).paddingStrategy(bt())(n),l=de(t).excludeType(N).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=fe(s,l).plotArea(ht(i,t).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),o.align("left")),c.xNice&&c.xNice();var u=mt().chart(c).settings(t).yScale(l.scale);e.datum(n).call(u),e.call(a)}vt.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0};var yt=vt,wt=function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1]},xt=function(e){return(0-e[0])/(e[1]-e[0])},kt=function(e,t){return t*e[1]/(t-1)},St=function(e,t,n){void 0===n&&(n=Ct);var r,a,o,i=e.splitMainValues||[],s=function(e){var t=e.split("|");return i.includes(t[t.length-1])},l=e.mainValues.some((function(e){return s(e.name)}));a=l?n(t,(function(e){return!s(e)})):t,o=l?n(t,s):null;var c=function(t){if(1!==e.mainValues.length){var n=e.mainValues.map((function(e,t){return{index:t,name:e.name}})),a=n.filter((function(e){return!s(e.name)})),o=n.filter((function(e){return s(e.name)})),i=function(){return function(e){var t,n=[],r=!1,a=function(a){a.text("");var i=(0,d.dataJoin)("span","splitter-label").key((function(e){return e})),s=!r&&1===n.length,l=t&&0===e.splitValues.length;i(a,n).classed("disabled",s).text((function(e){return e.name})).style("color",(function(e){return l?ze(t(e.name)):void 0})).on("click",(function(t,n){var i;s||(e.splitMainValues=r?e.splitMainValues.filter((function(e){return e!=n.name})):[n.name].concat(e.splitMainValues||[]),null!=(i=t.target.getRootNode().host.closest("perspective-viewer"))&&i.dispatchEvent(new Event("perspective-config-update")),o(a))}))},o=function(e){var t=ae(e.node());t._container.innerHTML="",t._draw()};return a.labels=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.alt=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.color=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a}(e).color(r)};t.select(".y-label.left-label").call(i().labels(a)),t.select(".y-label.right-label").call(i().labels(o).alt(!0))}};return c.color=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.haveSplit=function(){return l},c.data=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.altData=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c},Ct=function(e,t){return e.map((function(e){return e.filter((function(e){return t(e.key)}))}))},At=function(e,t){return e.map((function(e){return t(e.key)?e:e.map((function(e){return Object.assign({},e,{mainValue:null})}))}))},Et=function(e,t){return e.map((function(e){return At(e,t)}))};function Zt(e,t){var n=He(t,dt(t)),r=Te(t),a=st().settings(t).scale(r),o=Oe(t,r).orient("vertical"),i=(0,d.seriesSvgMulti)().mapping((function(e,t){return e[t]})).series(n.map((function(){return o}))),s=de(t).excludeType(N).settingName("crossValues").valueName("crossValue")(n),l=de(t).settingName("mainValues").valueName("mainValue").excludeType(P).orient("vertical").include([0]).paddingStrategy(bt()),c=t.mainValues.length>1?Et:At,u=St(t,n,c).color(r),f=l(u.data()),g=u.haveSplit()?i:ht(i,t).orient("vertical"),p=fe(s,f).axisSplitter(u).plotArea(g);p.xPaddingInner&&(p.xPaddingInner(.5),p.xPaddingOuter(.25),o.align("left")),p.yNice&&p.yNice();var _=mt().chart(p).settings(t).xScale(s.scale);if(u.haveSplit()){var h=l(u.altData());(function(e,t){if(wt(e)&&wt(t)){var n=xt(e),r=xt(t);n>r?t[0]=kt(t,n):e[0]=kt(e,r)}})(f.domain,h.domain),p.yDomain(f.domain).altAxis(h)}e.datum(u.data()).call(_),e.call(a)}Zt.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0};var Vt=Zt;function Pt(e,t){var n,r,a=(0,d.seriesSvgLine)(),o=e.data.length*((null==(n=e.data)?void 0:n.length)>0?Object.keys(e.data[0]).length-((null==(r=e.crossValues)?void 0:r.length)>0?1:0):0),i=Math.max(1,Math.min(3,Math.floor(e.size.width/o/2)));return(a=a.decorate((function(e){e.style("stroke",(function(e){return ze(t(e[0]&&e[0].key))})).style("stroke-width",i)}))).crossValue((function(e){return e.crossValue})).mainValue((function(e){return e.mainValue}))}var Ot=function(e){for(var t,n=[],r=(0,u.Z)(e);!(t=r()).done;)for(var a=t.value,o=0;o<a.length;o++)null!==a[o].mainValue&&(n[o]=n[o]||[],n[o].push(a[o]));return n},Nt=function(e,t,n){void 0===n&&(n=Math.min);var r=function(e){return e.reduce((function(e,r){var o=a(r,t);return!o||e&&n(e.value,o.value)!==o.value?e:o}),null)},a=function(e){if(Array.isArray(e))return r(e);var n=t(e);return null!==n?{item:e,value:n}:null},o=r(e);return o?o.item:null},Mt=function(){var e=Ve().alwaysShow(!0),t=null,n=null,r=null,a=null,o=!1,i=null,s="crossValue",l="mainValue",c=null,u=1;function f(r){var a="d3fc-"+(o?"canvas":"svg")+".plot-area";if(t||n){var i=null,s=(0,d.pointer)().on("point",(function(e){var t=e.length?p(e[0]):null;i=t?[t.data]:[];var a=t?t.scale:n;g(r,i,a)}));r.select(a).on("measure.nearbyTip",(function(){return g(r,[])})).on("click",(function(){i.length&&Ze(r.node(),i[0],e.settings())})).call(s)}}var g=function(o,i,c){void 0===c&&(c=n);var d=o.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(i);d.exit().remove(),d.enter().append("circle").attr("class","nearbyTip").merge(d).attr("r",(function(e){return a?u*Math.sqrt(a(e.size)):10})).attr("transform",(function(e){return"translate("+t(e[s])+","+c(e[l])+")"})).style("stroke","none").style("fill",(function(e){return r&&e.key&&De(r(e.key))})),e(d)},p=function(e){var r=function(n){return function(r){return void 0===r[l]||null===r[l]||void 0===r[s]||null===r[s]?null:Math.sqrt(Math.pow(t(r[s])-e.x,2)+Math.pow(n(r[l])-e.y,2))}},a=r(n),o=Nt(i,a,Math.min);if(c){var u=r(c.yScale),d=Nt(c.data,u,Math.min);return a(o)<=u(d)?{data:o,scale:n}:{data:d,scale:c.yScale}}return{data:o,scale:n}};return f.scaleFactor=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],f):u},f.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],f):n},f.color=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.size=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length?(a=t[0]?t[0].copy().range([40,4e3]):null,f):a},f.canvas=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.data=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],f):i},f.xValueName=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f.yValueName=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],f):l},f.altDataWithScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},(0,d.rebindAll)(f,e),f};function Tt(e,t){var n=function(e,t){var n=Ie(e);return t.map((function(e,t){return Object.keys(e).filter((function(e){return"__ROW_PATH__"!==e})).map((function(r){return{key:r,crossValue:n(e,t),mainValue:e[r],row:e}}))}))}(t,dt(t)),r=Te(t),a=st().settings(t).scale(r),o=(0,d.seriesSvgRepeat)().series(Pt(t,r)).orient("horizontal"),i=bt().pad([.1,.1]).padUnit("percent"),s=de(t).excludeType(N).settingName("crossValues").valueName("crossValue")(n),l=de(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(i),c=St(t,Ot(n)).color(r),u=l(c.data()),f=c.haveSplit()?o:ht(o,t).orient("vertical"),g=fe(s,u).axisSplitter(c).plotArea(f);g.yNice&&g.yNice();var p=mt().chart(g).settings(t).xScale(s.scale),_=Mt().settings(t).xScale(s.scale).yScale(u.scale).color(r).data(n);if(c.haveSplit()){var h=l(c.altData());g.altAxis(h),_.data(c.data()).altDataWithScale({yScale:h.scale,data:c.altData()})}var b=c.data();e.datum(b).call(p),e.call(_),e.call(a)}Tt.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var Lt=Tt,jt=[f.JFv,f.tJO,f.rZl,f.m_s,f.Hmc,f.P67,f.n31];function Rt(e){return e.length>1?(0,f.PKp)().domain(e).range(jt):null}function zt(e){var t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((function(e){if("__ROW_PATH__"!==e){var t=Me(e);n.includes(t)||n.push(t)}})),Rt(n)}function Dt(e,t){var n=Ot(function(e,t){var n=e.mainValues.length;return t.map((function(e){for(var t=Object.keys(e).filter((function(e){return"__ROW_PATH__"!==e})),r=new Array(t.length/n),a=0;a<t.length/n;a++)r[a]={key:Me(t[a*n]),crossValue:e[t[a*n]],mainValue:e[t[a*n+1]],row:e};return r}))}(t,ft(t))),r=je(t),a=zt(t),o=null;r.domain().length>2&&(o=ut(ot,ct).settings(t).scale(a).color(r));var i=(0,d.seriesSvgRepeat)().series(Pt(t,r)).orient("horizontal"),s=bt().pad([.1,.1]).padUnit("percent"),l=de(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").paddingStrategy(s),c=de(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(s)(n),u=l(n),f=ht(i,t).orient("vertical"),g=fe(u,c).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(f);g.xNice&&g.xNice(),g.yNice&&g.yNice();var p=mt().chart(g).settings(t).xScale(u.scale).yScale(c.scale),_=Mt().settings(t).xScale(u.scale).yScale(c.scale).color(r).data(n);e.datum(n).call(p),e.call(_),o&&e.call(o)}Dt.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var Yt=Dt;function Bt(e,t){var n=function(e,t){var n=Ie(e);return t.map((function(e,t){var r={};return Object.keys(e).filter((function(e){return"__ROW_PATH__"!==e})).map((function(a){var o=a.split("|"),i=o[o.length-1],s=r[i]||0,l=s+e[a];return r[i]=l,{key:a,crossValue:n(e,t),mainValue:l,baseValue:s,row:e}}))}))}(t,dt(t)),r=Te(t),a=st().settings(t).scale(r),o=(0,d.seriesSvgRepeat)().series(function(e,t){var n=(0,d.seriesSvgArea)();return(n=n.decorate((function(e){e.style("fill",(function(e){return t(e[0].key)})).style("opacity",.5)}))).crossValue((function(e){return e.crossValue})).mainValue((function(e){return e.mainValue})).baseValue((function(e){return e.baseValue}))}(0,r).orient("vertical")),i=(0,d.seriesSvgRepeat)().series(Pt(t,r)).orient("vertical"),s=(0,d.seriesSvgMulti)().series([o,i]),l=de(t).excludeType(N).settingName("crossValues").valueName("crossValue")(n),c=de(t).settingName("mainValues").valueName("mainValue").excludeType(P).orient("vertical").include([0]).paddingStrategy(bt()),u=St(t,n).color(r),f=c(u.data()),g=u.haveSplit()?s:ht(s,t).orient("vertical"),p=fe(l,f).axisSplitter(u).plotArea(g);p.yNice&&p.yNice();var _=mt().chart(p).settings(t).xScale(l.scale),h=Mt().settings(t).xScale(l.scale).yScale(f.scale).color(r).data(n);if(u.haveSplit()){var b=c(u.altData());p.altAxis(b),h.data(u.data()).altDataWithScale({yScale:b.scale,data:u.altData()})}e.datum(u.data()).call(_),e.call(h),e.call(a)}Bt.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var It=Bt;function Ft(e,t){var n=function(e,t){var n={stack:!1},r=Fe(e,t,n).map((function(t){return We(e,t,n)}));return e.mainValues.length>1?r.reduce((function(e,t){return e.concat(t)})):r}(t,dt(t)),r=function(e){var t=e.data&&e.data.length>0?e.data[0]:{};return Rt(Object.keys(t).filter((function(e){return"__ROW_PATH__"!==e})))}(t),a=Te(t),o=lt().settings(t).scale(r).color(a),i=(0,d.seriesSvgMulti)().mapping((function(e,t){return e[t]})).series(n.map((function(e){return function(e,t,n,r){var a=(0,d.seriesSvgPoint)().size(100),o=e.colorStyles&&e.colorStyles.opacity;return r&&a.type(r(t)),a.decorate((function(e){e.style("stroke",(function(e){return ze(n(e.colorValue||t))})).style("fill",(function(e){return De(n(e.colorValue||t),o)}))})),a.crossValue((function(e){return e.crossValue})).mainValue((function(e){return e.mainValue}))}(t,e.key,a,r)}))),s=bt().pad([.05,.05]).padUnit("percent"),l=de(t).excludeType(N).settingName("crossValues").valueName("crossValue")(n),c=de(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(s),u=St(t,n).color(a),f=c(u.data()),g=u.haveSplit()?i:ht(i,t).orient("vertical"),p=fe(l,f).axisSplitter(u).plotArea(g);p.yNice&&p.yNice();var _=mt().chart(p).settings(t).xScale(l.scale),h=Mt().settings(t).xScale(l.scale).yScale(f.scale).color(a).data(n);if(u.haveSplit()){var b=c(u.altData());p.altAxis(b),h.data(u.data()).altDataWithScale({yScale:b.scale,data:u.altData()})}e.datum(u.data()).call(_),e.call(h),o&&e.call(o)}Ft.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var Ht=Ft;function Wt(e,t){return Fe(e,t,{excludeEmpty:!0}).map((function(t){return function(e,t){var n=Ie(e),r=t.map((function(r,a){return{crossValue:n(r,a),mainValues:e.mainValues.map((function(e){return r[e.name]})),x:r[e.mainValues[0].name],y:r[e.mainValues[1].name],colorValue:e.realValues[2]?r[e.realValues[2]]:void 0,size:e.realValues[3]?r[e.realValues[3]]:void 0,key:t.key,row:r}}));return r.key=t.key,r}(e,t)}))}function Ut(e,t,n,r){var a=Xt(t,n,r),o=e.colorStyles.gradient.full;if(a[0]>=0)o=e.colorStyles.gradient.positive;else if(a[1]<=0)o=e.colorStyles.gradient.negative;else{var i=Math.max(-a[0],a[1]);a=[-i,i]}var s=qt(o);return(0,f.cJy)(s).domain(a)}var Xt=function(e,t,n){return n||W().valueName(t).pad([0,0])(e)},qt=function(e){var t=e.slice(1).map((function(t,n){return(0,f.sXR)(e[n][1],t[1])}));return function(n){var r=e.findIndex((function(t,r){return r<e.length-1&&n<=e[r+1][0]&&n>t[0]}));if(-1===r)return n<=e[0][0]?e[0][1]:e[e.length-1][1];var a=t[r],o=e[r][0],i=e[r+1][0];return a((n-o)/(i-o))}};function Gt(){var e=null;function t(t){var n=_e(t,"div.legend-container",(function(){return t.append("div").attr("class","legend-container legend-color").style("z-index","2")})),r=n.node().getBoundingClientRect(),a=r.width,o=r.height,i=(0,f.tiA)().domain([0,1]).range([0,a]),s=e.copy().nice().domain(),l=(0,d.extentLinear)().pad([.1,.1]).padUnit("percent")(s),c=l[0],u=l[1],g=(0,f.w6H)(c,u,(u-c)/o),p=(0,f.BYU)().domain(l).range([o,0]),_=(0,d.autoBandwidth)((0,d.seriesSvgBar)()).xScale(i).yScale(p).crossValue(0).baseValue((function(e,t){return g[Math.max(0,t-1)]})).mainValue((function(e){return e})).decorate((function(t){t.selectAll("path").style("fill",(function(t){return e(t)}))})),h=s[0]<0&&s[1]>0?0:Math.round((s[1]+s[0])/2),b=[].concat(s,[h]),m=(0,d.axisRight)(p).tickValues(b).tickSizeOuter(0).tickFormat((function(e){return F(e)})),v=_e(n,"svg",(function(){return n.append("svg")})).style("width",a).style("height",o),y=_e(v,"g",(function(){return v.append("g")})).datum(g).call(_),w=Math.abs(y.node().getBBox().x);_e(v,"#legend-axis",(function(){return v.append("g").attr("id","legend-axis")})).attr("transform","translate("+w+")").datum(g).call(m).select(".domain").attr("visibility","hidden")}return t.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t}function Kt(e,t){var n=Wt(t,ft(t)),r=zt(t),a=t.realValues.length<=2||null===t.realValues[2],o=null,i=null;a?(o=je(t),i=lt().settings(t).scale(r).color(a?o:null)):(o=Ut(t,n,"colorValue"),i=Gt().scale(o));var s=t.realValues[3]?function(e,t,n,r){return(0,f.BYU)().domain(Xt(t,n,r))}(0,n,"size").range([10,1e4]):null,l=function(e,t){var n=e[0],r=e[1],a=t[0],o=t[1],i=(o-r)/(a-n),s=o-i*a;return function(e){var t=e.node(),n=Math.min(t.clientWidth,t.clientHeight);return Math.min(o,Math.max(r,i*n+s))}}([600,.1],[1600,1])(e),c=(0,d.seriesCanvasMulti)().mapping((function(e,t){return e[t]})).series(n.map((function(e){return function(e,t,n,r,a,o){void 0===o&&(o=1);var i=(0,d.seriesCanvasPoint)().crossValue((function(e){return e.x})).mainValue((function(e){return e.y}));return n&&i.size((function(e){return Math.round(o*n(e.size))})),a&&i.type(a(t)),i.decorate((function(n,a){var o=r(void 0!==a.colorValue?a.colorValue:t),i=e.colorStyles&&e.colorStyles.opacity;n.strokeStyle=ze(o),n.fillStyle=De(o,i)})),i}(t,e.key,s,o,r,l)}))),u=function(){return de(t).settingName("mainValues").paddingStrategy(bt()).pad([.1,.1])},g=u().settingValue(t.mainValues[0].name).valueName("x")(n),p=u().orient("vertical").settingValue(t.mainValues[1].name).valueName("y")(n),_=ge(g,p).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(ht(c,t).canvas(!0));_.xNice&&_.xNice(),_.yNice&&_.yNice();var h=mt().chart(_).settings(t).xScale(g.scale).yScale(p.scale).canvas(!0),b=Mt().scaleFactor(l).settings(t).canvas(!0).xScale(g.scale).xValueName("x").yValueName("y").yScale(p.scale).color(a&&o).size(s).data(n);e.datum(n).call(h),e.call(b),i&&e.call(i)}Kt.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Tooltip"]},selectMode:"toggle"};var Jt=Kt;function Qt(e,t){var n=function(e,t){var n=Ie(e),r=M(e).excludeType(N).settingName("splitValues")(),a=[];return t.forEach((function(e,t){var o=n(e,t);Object.keys(e).filter((function(e){return"__ROW_PATH__"!==e})).forEach((function(t){var n=function(e){var t=e.split("|");return t.pop(),t.join("|")}(t);a.push({crossValue:o,mainValue:r===O?new Date(n):n,colorValue:e[t],row:e})}))})),a}(t,dt(t)),r=Ut(t,n,"colorValue"),a=function(e,t){var n=(0,d.seriesCanvasHeatmap)();return n.decorate((function(e,n){e.fillStyle=t(n.colorValue)})),(0,d.autoBandwidth)(n).xValue((function(e){return e.crossValue})).yValue((function(e){return e.mainValue})).colorValue((function(e){return e.colorValue})).colorInterpolate(t.interpolator()).widthFraction(1)}(0,r),o=Gt().scale(r),i=de(t).excludeType(N).settingName("crossValues").valueName("crossValue")(n),s=de(t).excludeType(N).settingName("splitValues").valueName("mainValue").orient("vertical")(n),l=ge(i,s).plotArea(ht(a,t).canvas(!0));l.xPaddingInner&&(l.xPaddingInner(0),l.xPaddingOuter(0),a.xAlign("right")),l.yPaddingInner&&(l.yPaddingInner(0),l.yPaddingOuter(0),a.yAlign("top"));var c=mt().chart(l).settings(t).xScale(i.scale).yScale(s.scale).canvas(!0),u=Mt().settings(t).canvas(!0).xScale(i.scale).yScale(s.scale).color(r).data(n);e.datum(n).call(c),e.call(o),e.call(u)}Qt.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0};var $t=Qt;function en(e,t){return Fe(e,t,{excludeEmpty:!0}).map((function(t){return function(e,t){var n=Ie(e),r=function(n){return t[n<t.length-1?n+1:n][e.mainValues[0].name]},a=t.map((function(a,o){var i=e.mainValues.length>=1?a[e.mainValues[0].name]:void 0,s=e.mainValues.length>=2?a[e.mainValues[1].name]:r(o);return{crossValue:n(a,o),mainValues:e.mainValues.map((function(e){return a[e.name]})),openValue:i,closeValue:s,highValue:e.mainValues.length>=3?a[e.mainValues[2].name]:Math.max(i,s),lowValue:e.mainValues.length>=4?a[e.mainValues[3].name]:Math.min(i,s),key:t.key,row:a}}));return a.key=t.key,a}(e,t)}))}var tn=function(e){return function(t,n){var r=en(n,ft(n)),a=(0,d.indicatorBollingerBands)().value((function(e){return e.openValue})),o=r.map((function(e){var t=a(e);return e.map((function(e,n){return Object.assign({bollinger:t[n]},e)}))})),i=r.map((function(e){return e.key})).concat(n.hideKeys?n.hideKeys:[]).sort(),s=Re().domain(i).settings(n).mapFunction(Ye(1))(),l=st().settings(n).scale(i.length>1?s:null),c=function(e,t,n){var r=n.domain(),a=Re().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Ye(.5))(),o=Re().settings(e).domain(r)(),i=t().crossValue((function(e){return e.crossValue})).openValue((function(e){return e.openValue})).highValue((function(e){return e.highValue})).lowValue((function(e){return e.lowValue})).closeValue((function(e){return e.closeValue})).decorate((function(e,t){var r=function(e){return e.closeValue>=e.openValue}(t)?n(t.key):a(t.key);e.fillStyle=r,e.strokeStyle=r})),s=(0,d.seriesCanvasLine)().mainValue((function(e){return e.bollinger.average})).crossValue((function(e){return e.crossValue})).decorate((function(e,t){e.strokeStyle=o(t[0].key)})),l=(0,d.seriesCanvasArea)().mainValue((function(e){return e.bollinger.upper})).baseValue((function(e){return e.bollinger.lower})).crossValue((function(e){return e.crossValue})).decorate((function(e,t){e.fillStyle=Ye(.25)(o(t[0].key))}));return(0,d.seriesCanvasMulti)().series([l,i,s])}(n,e,s),u=(0,d.seriesCanvasMulti)().mapping((function(e,t){return e[t]})).series(o.map((function(){return c}))),f=bt().pad([.1,.1]).padUnit("percent"),g=de(n).settingName("crossValues").valueName("crossValue")(o),p=de(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(f)(o),_=ge(g,p).plotArea(ht(u,n).orient("vertical").canvas(!0));_.yNice&&_.yNice();var h=mt().chart(_).settings(n).xScale(g.scale).onChange((function(e){var t=o.map((function(t){return t.filter((function(t){return t.crossValue>=e.xDomain[0]&&t.crossValue<=e.xDomain[1]}))}));_.yDomain(p.domainFunction(t))})).canvas(!0),b=Mt().settings(n).xScale(g.scale).yScale(p.scale).yValueName("closeValue").color(s).data(o).canvas(!0);t.datum(o).call(h),t.call(b),t.call(l)}},nn=tn(d.seriesCanvasOhlc);nn.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var rn=nn,an=tn(d.seriesCanvasCandlestick);an.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var on=an;function sn(e,t){if(e.realValues.length>1&&null!==e.realValues[1]){var n,r=e.realValues[1];return"string"===(null==(n=e.mainValues.find((function(e){return e.name===r})))?void 0:n.type)?Le(e,t.map((function(e){return e.data})).filter((function(e){return e.height>0})).map((function(e){return ln(e)})).reduce((function(e,t){return e.concat(t)}))):Ut(e,null,null,function(e){var t=function(e){return function(t,n){return void 0===t?n:void 0===n?t:e(t,n)}};return e.reduce((function(e,n){return[t(Math.min)(e[0],n[0]),t(Math.max)(e[1],n[1])]}),[void 0,void 0])}(t.map((function(e){return e.extents}))))}}function ln(e,t){return void 0===t&&(t=[]),e.children&&e.children.length>0?e.children.forEach((function(e){return t.concat(ln(e,t))})):e.data.color&&t.push(e.data.color),t}function cn(e){var t={},n=e.realValues.map((function(t){return null===t?null:e.mainValues.find((function(e){return e.name===t}))}));return e.data.forEach((function(r,a){var o=r.__ROW_PATH__;(function(e){var t=[];return Object.keys(e).forEach((function(e){if("__ROW_PATH__"!==e){var n=e.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}})),t})(r).forEach((function(i){var s;t[i]||(t[i]=[]),s=t[i],o.forEach((function(t,l){var c=s.find((function(e){return e.name===t}));if(c||(c={name:t,children:[]},s.push(c)),e.realValues.length>1&&null!==e.realValues[1]){var u=l===o.length-1,d=un(u?r:e.agg_paths[a][l+1]||r,e.mainValues[1],i);void 0!==d&&(c.color=d)}if(e.realValues.length>2&&null!==e.realValues[2]){c.tooltip=[];for(var f=2;f<e.realValues.length;++f)c.tooltip.push(un(r,n[f],i))}if(l===o.length-1&&(c.name=o.slice(-1)[0],o.length===e.crossValues.length)){var g=un(r,e.mainValues[0],i);c.size=g>0?g:0}s=c.children}))}))})),Object.entries(t).map((function(t){var n={name:"root",children:t[1]},r=(0,f.bT9)(n).sum((function(e){return e.size})),a=(0,f.uKc)().size([2*Math.PI,r.height+1])(r);return a.each((function(n){n.current=n,n.mainValues=1===e.realValues.length||null===e.realValues[1]&&null===e.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((function(e){return void 0!==e})),n.crossValue=n.ancestors().slice(0,-1).reverse().map((function(e){return e.data.name})),n.key=t[0],n.label=ye(e.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:t[0],data:a,extents:dn(e,t)}}))}var un=function(e,t,n){return n.length?e[n+"|"+t.name]:e[t.name]};function dn(e,t){var n=t[0],r=t[1];if(e.realValues.length>1&&null!==e.realValues[1])return[Math.min.apply(Math,e.data.map((function(t){return un(t,e.mainValues[1],n)}))),Math.max.apply(Math,r.map((function(e){return e.color})))]}var fn=function(e){return(0,f.Nb1)().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).padAngle((function(e){return Math.min((e.x1-e.x0)/2,.005)})).padRadius(e).innerRadius((function(t){return Math.max(1,(t.y0-1)*e)})).outerRadius((function(t){return Math.max((t.y0-1)*e,(t.y1-1)*e-1)}))},gn=function(e){return e.y0>=1&&e.x1>e.x0},pn=function(e){return e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06};function _n(e,t){var n=(e.x0+e.x1)/2*180/Math.PI;return"rotate("+(n-90)+") translate("+(e.y0-1+(e.y1-1))/2*t+",0) rotate("+(n<180?0:180)+")"}function hn(e,t){var n=this,r=this.getBBox().width;r>t&&function(){for(var a=e.label,o=(0,f.Ys)(n);r>t;)a=a.substring(0,a.length-1),o.text((function(){return a})),r=n.getBBox().width;o.text((function(){return a.substring(0,a.length-3).replace(/\s+$/,"")+"..."}))}()}function bn(){var e=null,t=null,n=null,r=null,a=null,o=function(o){var i=o.selectAll("g.segment").data(n.descendants().slice(1)),s=i.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");var l=s.merge(i),c=l.select("path").attr("fill-opacity",(function(e){return gn(e.current)?1:0})).attr("user-select",(function(e){return gn(e.current)?"initial":"none"})).style("pointer-events",(function(e){return gn(e.current)?"initial":"none"})).attr("d",(function(e){return fn(a)(e.current)}));r&&c.style("fill",(function(e){return r(e.data.color)}));var u=l.select("text").attr("fill-opacity",(function(e){return+pn(e.current)})).attr("transform",(function(e){return _n(e.current,a)})).text((function(e){return e.label})).each((function(e){hn.call(this,e,a)})),d=o.select("text.parent"),g=o.select("circle").attr("r",a).datum(n),p=function(e,t,n,r,a,o,i,s,l){return function(c,u){l.sunburstLevel[s]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html("&#8682; "+c.label)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each((function(e){return e.target={x0:2*Math.max(0,Math.min(1,(e.x0-c.x0)/(c.x1-c.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(e.x1-c.x0)/(c.x1-c.x0)))*Math.PI,y0:Math.max(0,e.y0-c.depth),y1:Math.max(0,e.y1-c.depth)}}));var d=t.transition().duration(u?0:750);a.transition(d).tween("data",(function(e){var t=(0,f.sXR)(e.current,e.target);return function(n){return e.current=t(n)}})).filter((function(e){return+this.getAttribute("fill-opacity")||gn(e.target)})).attr("fill-opacity",(function(e){return gn(e.target)?1:0})).attr("user-select",(function(e){return gn(e.target)?"initial":"none"})).style("pointer-events",(function(e){return gn(e.target)?"initial":"none"})).attrTween("d",(function(e){return function(){return fn(i)(e.current)}})),o.filter((function(e){return+this.getAttribute("fill-opacity")||pn(e.target)})).transition(d).attr("fill-opacity",(function(e){return+pn(e.target)})).attrTween("transform",(function(e){return function(){return _n(e.current,i)}}))}}(n,o,g,d,c,u,a,t,e);if(e.sunburstLevel){var _=n.descendants().find((function(n){return n.data.name===e.sunburstLevel[t]}));_&&p(_,!0)}else e.sunburstLevel={};g.on("click",(function(e){return p(e,!1)})),c.filter((function(e){return e.children})).style("cursor","pointer").on("click",(function(e){return p(e,!1)}))};return o.settings=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.split=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.color=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.radius=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function mn(){var e="element-prefix-unset",t=null,n=null,r=null,a=null,o=null,i=function(i){var s=_e(i,"div.inner-container",(function(){return i.append("div").attr("class","inner-container")})),l=s.node().getBoundingClientRect(),c=l.height,u=l.width-0,d=i.datum(),f=Math.max(1,Math.min(d.length,Math.floor(u/300))),g=Math.ceil(d.length/f);c/g>.75*(o={width:u/Math.max(f,1),height:Math.min(c,Math.max(c/g,u/Math.max(f,1)))}).height&&(o.height=c/g),d.length>1?(s.style("grid-template-columns","repeat("+f+", "+100/f+"%)"),s.style("grid-template-rows","repeat("+g+", "+o.height+"px)")):(s.style("grid-template-columns","repeat(1, 100%)"),s.style("grid-template-rows","repeat(1, 100%)")),(r=s.selectAll("div."+e+"-container").data(d,(function(e){return e.split}))).exit().remove(),n=r.enter().append("div").attr("class",e+"-container"),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),t=n.append("svg").append("g").attr("class",e)};return i.elementsPrefix=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.chartContainer=function(){return t},i.chartEnter=function(){return n},i.chartDiv=function(){return r},i.chartTitle=function(){return a},i.containerSize=function(){return o},i}function vn(e,t){if(0!==t.crossValues.length){var n=cn(t),r=sn(t,n),a=mn().elementsPrefix("sunburst");if(e.datum(n).call(a),r){var o,i=t.realValues[1];if("string"===(null==(o=t.mainValues.find((function(e){return e.name===i})))?void 0:o.type)){var s=st().settings(t).scale(r);e.call(s)}else{var l=Gt().scale(r);e.call(l)}}var c=a.chartContainer(),u=a.chartEnter(),d=a.chartDiv(),g=a.chartTitle(),p=a.containerSize();g.each((function(e,t,n){return(0,f.Ys)(n[t]).text(e.split)})),c.append("circle").attr("fill","none").style("pointer-events","all"),c.append("text").attr("class","parent"),u.merge(d).select("svg").select("g.sunburst").attr("transform","translate("+p.width/2+", "+p.height/2+")").each((function(e){var n=e.split,a=e.data,o=(0,f.Ys)(this),i=this.parentNode.getBoundingClientRect(),s=i.width,l=i.height,c=(Math.min(s,l)-24)/(2*t.crossValues.length);bn().settings(t).split(n).data(a).color(r).radius(c)(o),Ve().settings(t)(o.selectAll("g.segment"))}))}else console.warn("Unable to render a chart in the absence of any groups.")}vn.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var yn=vn;function wn(e,t){var n;if(!(e.realValues.length<1||null===e.realValues[1]||void 0===e.realValues[1])){var r=e.realValues[1],a=t.filter((function(e){return e.height>0})).map((function(e){return xn(e)})).reduce((function(e,t){return e.concat(t)}));return"string"===(null==(n=e.mainValues.find((function(e){return e.name===r})))?void 0:n.type)?Le(e,a):Ut(e,null,null,[Math.min.apply(Math,a),Math.max.apply(Math,a)])}}function xn(e,t){return void 0===t&&(t=[]),e.children&&e.children.length>0?e.children.forEach((function(e){return t.concat(xn(e,t))})):e.data.color&&t.push(e.data.color),t}var kn=function(e){return!(!e.target||!e.target.textAttributes)},Sn=function(e,t,n){e.selectAll("text").each((function(e,r){var a=Tn(e,t,n);this.style=a}));var r=Zn(e);Pn(r),Cn(r)},Cn=function(e){var t=function(e){return e.getBoundingClientRect()},n=[];e.selectAll("text").filter((function(e,t,n){return(0,f.Ys)(n[t]).attr("style")===Ln.high})).each((function(e,t,r){return n.push(r[t])})),e.selectAll("text").filter((function(e,t,n){return(0,f.Ys)(n[t]).attr("style")===Ln.low})).each((function(e,r,a){var o=a[r];n.filter((function(e){return be("x",t(e),t(o))&&be("y",t(e),t(o),-2)})).forEach((function(){return(0,f.Ys)(o).attr("dy",Number((0,f.Ys)(o).attr("dy"))+14)}))}))},An=function(e){return(0,f.Ys)(e).style("opacity",null)},En={top:1,mid:.7,lower:0},Zn=function(e){return e.filter((function(e,t,n){return(0,f.Ys)(n[t]).selectAll("text").attr("style")!==Ln.zero}))},Vn=function(e){return e.selectAll("text").each((function(e,t,n){return Nn(n[t])}))},Pn=function(e){return e.selectAll("text").each((function(e,t,n){return On(n[t])}))},On=function(e){var t=(0,f.Ys)(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},Nn=function(e){var t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();Mn(e,r,n)||(0,f.Ys)(e).attr("style",(0,f.Ys)(e).attr("style"))},Mn=function(e,t,n){var r=Math.min(t.height/n.height,t.width/n.width);if(r<1){var a=parseInt((0,f.Ys)(e).style("font-size")),o=Math.floor(a*r);return a>7&&o>7?((0,f.Ys)(e).style("font-size",o+"px"),On(e)):((0,f.Ys)(e).style("font-size",null),(0,f.Ys)(e).style("opacity","0")),!0}return!1},Tn=function(e,t,n){if(!n.filter((function(e){return""!==e})).every((function(t){return e.crossValue.includes(t)})))return Ln.zero;switch(e.depth){case t+1:return Ln.high;case t+2:return Ln.low;default:return Ln.zero}},Ln={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},jn=function(e,t){var n=(0,f.pNI)().size([e,t]).paddingInner((function(e){return 1+2*(e.height-1)}));return n.tile(f.wLP),n};function Rn(e,t,n,r,a,o){(function(e,t,n,r,a){var o={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},i={width:a.x1-a.x0,height:a.y1-a.y0},s={width:i.width/o.width,height:i.height/o.height};n.each((function(e){var n=(e.x0-o.x)*s.width,a=(e.y0-o.y)*s.height,i=Kn(e)*s.width,l=Jn(e)*s.height,c=function(e,t){return t.every((function(t){return e.crossValue.includes(t)}))}(e,t)&&e.data.name!==t[r-1];e.mapLevel[r]={x0:n,x1:i+n,y0:a,y1:l+a,visible:c,opacity:c?1:0}})),e.mapLevel[r].levelRoot=!0})(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,function(e,t,n,r){var a=jn(t,n)((0,f.bT9)(e.data).sum((function(e){return e.size}))).descendants(),o=e.descendants();a.forEach((function(e,t){o[t].mapLevel[r].x0=a[t].x0,o[t].mapLevel[r].x1=a[t].x1,o[t].mapLevel[r].y0=a[t].y0,o[t].mapLevel[r].y1=a[t].y1}))}(e,o.node().getBoundingClientRect().width,o.node().getBoundingClientRect().height,r),Dn(n,r)}var zn=function(e,t){e.each((function(e,n,r){var a=(0,f.Ys)(r[n]).selectAll("text");e.mapLevel[t].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}}))};function Dn(e,t){e.selectAll("text").each((function(e,n,r){var a=(0,f.Ys)(r[n]),o=(0,f.Ys)(r[n]).datum(),i=a.attr("class");o.mapLevel[t].textLockedAt={opacity:En[i]}}))}function Yn(e,t,n,r,a,o,i,s,l,c){if(e.children){a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;var u=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&Rn(e,u,n,a.treemapLevel,s,o),Bn(e,t,n,r,a,o,i,s,a.treemapLevel,u,l,c)}}function Bn(e,t,n,r,a,o,i,s,l,c,u,d,g,p){void 0===g&&(g=500),void 0===p&&(p=!0);var _=e.parent,h=i.transition("main transition").duration(g).ease(f.oSY);n.each((function(e){return e.target=e.mapLevel[l]})),kn(e)||Wn(n,u),n.transition(h).tween("data",(function(e){var t=(0,f.sXR)(e.current,e.target);return function(n){return e.current=t(n)}})).styleTween("opacity",(function(e){return function(){return e.current.opacity}})).attrTween("pointer-events",(function(e){return function(){return e.target.visible?"all":"none"}})),t.transition(h).filter((function(e){return e.target.visible})).styleTween("x",(function(e){return function(){return e.current.x0+"px"}})).styleTween("y",(function(e){return function(){return e.current.y0+"px"}})).styleTween("width",(function(e){return function(){return e.current.x1-e.current.x0+"px"}})).styleTween("height",(function(e){return function(){return e.current.y1-e.current.y0+"px"}})),r.transition(h).filter((function(e){return e.target.visible})).attrTween("x",(function(e){return function(){return e.current.x0+Kn(e.current)/2}})).attrTween("y",(function(e){return function(){return e.current.y0+Jn(e.current)/2}})).end().catch((function(){return Un(n)})).then((function(){kn(e)||(Cn(b),Vn(b),function(e,t,n){In.apply(this,arguments)}(r,i,g),p&&zn(n,l),Un(n,u,_))})).catch((function(e){console.error("Exception completing promises after main transition",e),Un(n,u,_)})),kn(e)?function(e){e.each((function(e,t,n){(0,f.Ys)(n[t]).selectAll("text").attr("dx",e.target.textAttributes.dx).attr("dy",e.target.textAttributes.dy).attr("style",e.target.textAttributes.style)}))}(n):(r.each((function(e,t,n){return function(e){return(0,f.Ys)(e).style("opacity",En[(0,f.Ys)(e).attr("class")])}(n[t])})),Sn(n,l,c));var b=Zn(n);_?u.hide(!1).text(e.label).onClick((function(){Yn(_,t,n,r,a,o,i,s,u,d);var e=o.node().getRootNode().host.parentElement;Ze(e,_,d)}))():u.hide(!0)()}function In(){return(In=(0,c.Z)((0,a.Z)().mark((function e(t,n,r){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=400),o=n.transition("text fade transition").duration(r).ease(f.oSY),e.next=4,t.transition(o).filter((function(e){return e.target.visible})).tween("data",(function(e,t,n){var r=n[t],a=(0,f.sXR)(Fn(e),Hn(r));return function(t){return e.current.opacity=a(t)}})).styleTween("opacity",(function(e){return function(){return e.current.opacity}})).end().catch((function(e){return console.error("Exception in text fade transition",e)})).then((function(){return t.each((function(e,t,n){return An(n[t])}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fn=function(e){return e.target.textLockedAt.opacity},Hn=function(e){return En[(0,f.Ys)(e).attr("class")]},Wn=function(e,t){t.deactivate(!0),e.each((function(e,t,n){(0,f.Ys)(n[t]).selectAll("rect").style("pointer-events","none")}))},Un=function(e,t){t&&t.deactivate(!1),e.each((function(e,t,n){(0,f.Ys)(n[t]).selectAll("rect").style("pointer-events",null)}))};var Xn="leafnode",qn="branchnode",Gn="rootnode",Kn=function(e){return e.x1-e.x0},Jn=function(e){return e.y1-e.y0},Qn=function(e,t){return 0===t.depth?Gn:function(e,t){return t.depth===e}(e,t)?Xn:qn};function $n(){var e=null,t=null,n=null,r=null,a=null,o=null,i=function(i){o=function(e){var t=null,n=null,r=!0,a=!1,o=_e(e,".parent-controls",(function(){return e.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n')})),i=function(){o.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html("\u21ea "+n).on("click",(function(){return t()}))};return i.deactivate=function(){if(!arguments.length)return a;a=arguments.length<=0?void 0:arguments[0];var e=o.select("#goto-parent");return a?e.style("pointer-events","none"):e.style("pointer-events",null),i},i.hide=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.text=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.onClick=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i}(a),o();var s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),jn(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);var l=i.selectAll("g").data(n.descendants()),c=l.enter().append("g");c.append("rect"),c.append("text");var u=c.merge(l).sort((function(e,t){return t.depth-e.depth})),d=u.select("rect").attr("class",(function(e){return"treerect "+Qn(s,e)})).style("x",(function(e){return e.x0})).style("y",(function(e){return e.y0})).style("width",(function(e){return Kn(e)})).style("height",(function(e){return Jn(e)}));d.style("fill",(function(e){return Qn(s,e)===Xn?e.data.color?r(e.data.color):t.colorStyles.series:"transparent"}));var f=u.filter((function(e){return 0!==e.value})).select("text").attr("x",(function(e){return e.x0+Kn(e)/2})).attr("y",(function(e){return e.y0+Jn(e)/2})).text((function(e){return e.label})),g=d.filter((function(e){return 0===e.crossValue.length})).datum();(function(e,t){e.each((function(e){e.mapLevel=[],e.mapLevel[0]={x0:e.x0,x1:Kn(e)+e.x0,y0:e.y0,y1:Jn(e)+e.y0,visible:!0,opacity:1}})),t.mapLevel[0].levelRoot=!0,Dn(e,0)})(u,g),Sn(u,0,[]),Vn(Zn(u)),zn(u,0),0===e.treemapRoute.length&&e.treemapRoute.push(g.crossValue),d.filter((function(e){return e.children})).on("click",(function(n,r){return Yn(r,d,u,f,e,a,i,g,o,t)})),function(e,t,n,r,a,o,i,s,l){if(r.treemapLevel>0){var c=i.crossValue;Bn(i,e,t,n,r,a,o,i,0,c,s,l,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((function(c){var u=t.filter((function(e){return e.crossValue===c})).datum(),d=u.crossValue;Rn(u,d,t,u.depth,i,a),Bn(u,e,t,n,r,a,o,i,u.depth,d,s,l,1,!1)}))}}(d,u,f,e,a,i,g,o,t)};return i.settings=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],i):e},i.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.color=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.container=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},i}function er(e,t){if(0!==t.crossValues.length){t.treemaps||(t.treemaps={});var n=cn(t),r=wn(t,n.map((function(e){return e.data})));r&&this._container.classList.add("has-legend");var a=mn().elementsPrefix("treemap");if(e.datum(n).call(a),r){var o,i=t.realValues[1];if("string"===(null==(o=t.mainValues.find((function(e){return e.name===i})))?void 0:o.type)){var s=st().settings(t).scale(r);e.call(s)}else{var l=Gt().scale(r);e.call(l)}}var c=a.chartEnter(),u=a.chartDiv();a.chartTitle().each((function(e,t,n){return(0,f.Ys)(n[t]).text(e.split)})),c.merge(u).select("svg").select("g.treemap").each((function(e){var n=e.split,a=e.data,o=(0,f.Ys)(this);t.treemaps[n]||(t.treemaps[n]={}),$n().settings(t.treemaps[n],t).data(a).container((0,f.Ys)((0,f.Ys)(this.parentNode).node().parentNode)).color(r)(o),Ve().settings(t).centered(!0)(o.selectAll("g"))}))}else console.warn("Unable to render a chart in the absence of any groups.")}er.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var tr,nr,rr=[yt,Vt,Lt,Yt,It,Ht,Jt,rn,on,er,yn,$t],ar=function(e,t){if(!t.colorStyles){var n={scheme:[],gradient:{},interpolator:{},grid:{}},a=sr(e);n.series=a("--d3fc-local-series");for(var o=1;;o++){var i="series-"+o,s=a("--d3fc-local-"+i);if(!s)break;n[i]=s,n.scheme.push(s)}n.opacity=or(n.series),n.grid.gridLineColor=a(r||(r=(0,l.Z)(["--d3fc-gridline--color"]))),["full","positive","negative"].forEach((function(e){var t=a("--d3fc-local-"+e+"--gradient");n.gradient[e]=lr(t,n.opacity)})),t.colorStyles=n}},or=function(e){return(0,f.$_Y)(e).opacity},ir=function(e,t){var n=(0,f.$_Y)("#"+e);return n.opacity=t,n+""},sr=function(e){var t=getComputedStyle(e);return function(e){return null==t?void 0:t.getPropertyValue(e)}},lr=function(e,t){var n=(0,h.Q)(e)[0].colorStops;return n.map((function(e,r){return[e.length?e.length.value/100:r/(n.length-1),ir(e.value,t)]})).sort((function(e,t){return e[0]-t[0]}))},cr={initial:{type:"number",count:1},selectMode:"select"},ur=':host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host{user-select:none}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background, #f7f7f7);border:1px solid var(--inactive--color, #cccccc);color:var(--d3fc-label--color, inherit);font-size:12px;padding:8px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{opacity:1}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n'+(tr=document.querySelector("head").querySelectorAll("style"),nr=[],tr.forEach((function(e){-1!==e.innerText.indexOf("d3fc-")&&nr.push(e.innerText)})),nr.join("")),dr=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","agg_paths","treemaps"];function fr(e){customElements.get("perspective-viewer").registerPlugin(e)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=new Set(t.length>0?t:rr.map((function(e){return e.plugin.name}))),rr.forEach((function(e){if(t.has(e.plugin.name)){var n=e.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),r="perspective-viewer-d3fc-"+n;customElements.define(r,function(t){function r(){var e;return(e=t.call(this)||this)._chart=null,e._settings=null,e.render_warning=!0,e}(0,i.Z)(r,t);var s=r.prototype;return s.connectedCallback=function(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<style>"+ur+"</style>",this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)},s.render=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,n,r,o,i,s,l,c,d,f,g,p,_,h,b,m,v,y,w;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.createElement("canvas"),n=this.shadowRoot.querySelector("#container"),t.width=n.offsetWidth,t.height=n.offsetHeight,(r=t.getContext("2d")).fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",r.fillRect(0,0,t.width,t.height),o=window.getComputedStyle(this).getPropertyValue("color"),i=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)")),s=(0,u.Z)(i.reverse());case 6:if((l=s()).done){e.next=31;break}for(c=l.value,(d=document.createElement("img")).width=c.parentNode.offsetWidth,d.height=c.parentNode.offsetHeight,(f=c.cloneNode(!0)).hasAttribute("viewBox")||f.setAttribute("viewBox","0 0 "+d.width+" "+d.height),f.setAttribute("xmlns","http://www.w3.org/2000/svg"),g=(0,u.Z)(f.querySelectorAll("text"));!(p=g()).done;)p.value.setAttribute("fill",o);return _=(_=(new XMLSerializer).serializeToString(f)).replace(/[^\x00-\x7F]/g,""),h=new Promise((function(e,t){d.onload=e,d.onerror=t})),e.prev=16,d.src="data:image/svg+xml;base64,"+btoa(_),e.next=20,h;case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(16),b=new Promise((function(e,t){d.onload=e,d.onerror=t})),d.src="data:image/svg+xml;utf8,"+_,e.next=28,b;case 28:r.drawImage(d,c.parentNode.offsetLeft,c.parentNode.offsetTop,d.width,d.height);case 29:e.next=6;break;case 31:for(m=Array.from(this.shadowRoot.querySelectorAll("canvas")),v=(0,u.Z)(m.reverse());!(y=v()).done;)w=y.value,r.drawImage(w,w.parentNode.offsetLeft,w.parentNode.offsetTop,w.width/window.devicePixelRatio,w.height/window.devicePixelRatio);return e.next=35,new Promise((function(e){return t.toBlob((function(t){return e(t)}))}),"image/png");case 35:return e.abrupt("return",e.sent);case 36:case"end":return e.stop()}}),e,this,[[16,22]])})));return function(){return e.apply(this,arguments)}}(),s.draw=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t,n,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.isConnected,e.t0){e.next=7;break}return e.next=4,this.parentElement.save();case 4:return this.config=e.sent,e.next=7,this.update(t,n,r,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),s.update=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n,r,o,i){var s,l,c,u,d,f,g,p,_,h,b,m,v,y,w,x,k,S,C,A,E,Z=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!1),this.isConnected){t.next=3;break}return t.abrupt("return");case 3:return s=this.parentElement,u=this.config.columns,d="Sunburst"!==e.plugin.name,l=r&&o?n.to_json({end_row:o,end_col:r,leaves_only:d}):r?n.to_json({end_col:r,leaves_only:d}):o?n.to_json({end_row:o,leaves_only:d}):n.to_json({leaves_only:d}),t.next=7,Promise.all([s.getTable().then((function(e){return e.schema(!1)})),n.expression_schema(!1),n.schema(!1),l,n.get_config()]);case 7:return c=t.sent,g=(f=c)[0],p=f[1],_=f[2],h=f[3],b=f[4],m=function(e){var t=g[e];return t||(t=p[e]),t},v=b.columns,y=b.group_by,w=b.split_by,x=b.filter,k=y.length>0?h.reduce((function(e,t){if(t.__ROW_PATH__&&t.__ROW_PATH__.length==y.length)e.agg_paths.push(e.aggs.slice()),e.rows.push(t);else{var n=t.__ROW_PATH__.filter((function(e){return void 0!==e})).length;e.aggs[n]=t,e.aggs=e.aggs.slice(0,n+1)}return e}),{rows:[],aggs:[],agg_paths:[]}):{rows:h},S=function(e,t){return y.length?e:Object.assign({},e,{__ROW_PATH__:[t]})},C=k.rows.map(S),A={realValues:u,crossValues:y.map((function(e){return{name:e,type:m(e)}})),mainValues:v.map((function(e){return{name:e,type:_[e]}})),splitValues:w.map((function(e){return{name:e,type:m(e)}})),filter:x,data:C,agg_paths:k.agg_paths},this._chart=e,E={set:function(e,t,n){return dr.includes(t)||Z._container&&Z._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),e[t]=n,!0}},this._settings=new Proxy(Object.assign({},this._settings,A),E),this._settings.splitMainValues&&this._settings.splitMainValues.length>=v.length&&(this._settings.splitMainValues=[]),ar(this._container,this._settings),i&&(this._container.innerHTML=""),this._draw(),t.next=18,new Promise((function(e){return requestAnimationFrame(e)}));case 18:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),s.clear=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._container&&(this._container.innerHTML="");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._draw=function(){if(this._settings.data&&this.isConnected){var e=(0,f.Ys)(this._container),t="chart "+n;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(e.attr("class",t),this._settings):e.attr("class",t+" disabled")}},s.resize=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isConnected&&this._draw();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.restyle=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,n=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._settings,e.t0=t,!e.t0){e.next=6;break}return delete t.colorStyles,e.next=6,this.draw.apply(this,n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.delete=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._container.innerHTML="";case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getContainer=function(){return this._container},s.save=function(){var e=Object.assign({},this._settings);return dr.forEach((function(t){delete e[t]})),e},s.restore=function(e){for(var t,n={},r=(0,u.Z)(dr);!(t=r()).done;){var a,o=t.value;n[o]=null==(a=this._settings)?void 0:a[o]}this._settings=Object.assign({},n,e),this._draw()},(0,o.Z)(r,[{key:"name",get:function(){return e.plugin.name}},{key:"category",get:function(){return e.plugin.category}},{key:"select_mode",get:function(){return e.plugin.selectMode||"select"}},{key:"min_config_columns",get:function(){var t;return(null==(t=e.plugin.initial)?void 0:t.count)||cr.initial.count}},{key:"config_column_names",get:function(){var t;return(null==(t=e.plugin.initial)?void 0:t.names)||cr.initial.names}},{key:"max_cells",get:function(){return e.plugin.max_cells||4e3},set:function(t){e.plugin.max_cells=t}},{key:"max_columns",get:function(){return e.plugin.max_columns||50},set:function(t){e.plugin.max_columns=t}}]),r}((0,s.Z)(HTMLElement))),customElements.whenDefined("perspective-viewer").then((function(){return fr(r)}))}}))}()},8484:function(e,t,n){"use strict";var r,a=n(1914),o=n(3219),i=n(8953),s=n(1092),l=n(7791),c=n(8549),u=(n(2219),n(6558)),d=n.n(u),f=(0,s.Z)().mark(q),g=Object.create,p=Object.defineProperty,_=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,b=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,v=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},y=v((function(e,t){t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),w=v((function(e,t){var n=y().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;var i=n.shift();if(r(e)&&r(i))for(var s in i){var l,c;r(i[s])?(e[s]||Object.assign(e,((l={})[s]={},l)),a(e[s],i[s])):Object.assign(e,((c={})[s]=i[s],c))}return a.apply(void 0,[e].concat(n))}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){var n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){var r=t.exports.get_type_config(n.type);return Object.assign(r,n),r}return n},globalThis.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=a(n,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}})),x=(r=w(),function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r,a=function(){var a=r.value;!m.call(e,a)&&"default"!==a&&p(e,a,{get:function(){return t[a]},enumerable:!(n=_(t,a))||n.enumerable})},o=(0,c.Z)(h(t));!(r=o()).done;)a();return e}(function(e){return p(e,"__esModule",{value:!0})}(p(null!=r?g(b(r)):{},"default",r&&r.__esModule&&"default"in r?{get:function(){return r.default},enumerable:!0}:{value:r,enumerable:!0})),r));function k(e,t,n,r){var a,o,i,s,l=n[5],c=n[6],u=r[5],d=r[6],f=null==(a=this._ids)||null==(o=a[e.dy])?void 0:o.join("|"),g=e.column_header.join("|");if(null!=(i=this.last_reverse_columns)&&i.has(g)&&null!=(s=this.last_reverse_ids)&&s.has(f)){var p,_,h,b,m,v=null==(p=this.last_reverse_ids)?void 0:p.get(f),y=this.last_reverse_columns.get(g);this._is_old_viewport?(null==(_=this.last_meta)||null==(h=_[y])?void 0:h[v])>e.user?(t.style.setProperty("--pulse--background-color-start",u),t.style.setProperty("--pulse--background-color-end",d),"pulse_neg"===t.style.animationName?t.style.animation="pulse_neg2 0.5s linear":t.style.animation="pulse_neg 0.5s linear"):(null==(b=this.last_meta)||null==(m=b[y])?void 0:m[v])<e.user?(t.style.setProperty("--pulse--background-color-start",l),t.style.setProperty("--pulse--background-color-end",c),"pulse_pos"===t.style.animationName?t.style.animation="pulse_pos2 0.5s linear":t.style.animation="pulse_pos 0.5s linear"):v!==e.dy&&(t.style.animation=""):t.style.animation=""}else t.style.animation=""}function S(e,t){return C.apply(this,arguments)}function C(){return C=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.addEventListener("regular-table-psp-sort",(function(e){r._preserve_focus_state=!0,n.restore({sort:e.detail.sort})}));case 1:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function A(e,t,n){return E.apply(this,arguments)}function E(){return E=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var a,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getMeta(r),o=a.column_header[a.column_header.length-1],i=(n.shiftKey?Z:V).call(this,o),t.dispatchEvent(new CustomEvent("regular-table-psp-sort",{detail:{sort:i}}));case 2:case"end":return e.stop()}}),e,this)}))),E.apply(this,arguments)}function Z(e){for(var t,n=[],r=!1,a=(0,c.Z)(this._config.sort);!(t=a()).done;){var o=t.value,i=o[0],s=o[1];if(i===e){r=!0;var l=P.call(this,e,s);l&&n.push(l)}else n.push(o)}return r||n.push([e,"desc"]),n}function V(e){for(var t,n=(0,c.Z)(this._config.sort);!(t=n()).done;){var r=t.value,a=r[0],o=r[1];if(a===e){var i=P.call(this,e,o);return i?[i]:[]}}return[[e,"desc"]]}function P(e,t){var n=this._config.split_by.length>0?N:O,r=t?n[t]:"desc";if(r)return[e,r]}var O={desc:"asc",asc:void 0},N={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0},M=Symbol("Plugin Symbol");function T(e){var t=d()(e),n=function(e){var t=e.rgb(),n=t[0],r=t[1],a=t[2],o=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),i=o[0],s=o[1],l=o[2],c=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return"linear-gradient(to right top,rgb("+i+","+s+","+l+"),rgb("+n+","+r+","+a+") 50%,rgb("+c[0]+","+c[1]+","+c[2]+"))"}(t),r=t.rgb();return[e].concat(r,[n,"rgba("+r[0]+","+r[1]+","+r[2]+",1)","rgba("+r[0]+","+r[1]+","+r[2]+",0)"])}function L(e,t,n){var r,a,o,i,c,u=this,d=void 0!==n,f=document.createElement("perspective-"+(d?"number":"string")+"-column-style"),g=e.getMeta(t),p=g.column_header[g.column_header.length-1],_=this._schema[p];if(c=d?{fg_gradient:n,pos_fg_color:this._pos_fg_color[0],neg_fg_color:this._neg_fg_color[0],number_fg_mode:"color",bg_gradient:n,pos_bg_color:this._pos_bg_color[0],neg_bg_color:this._neg_bg_color[0],number_bg_mode:"disabled"}:{color:this._color[0]},"string"!==_)if("float"===_)c.fixed=2;else{if("integer"!==_)return this._open_column_styles_menu.pop(),void e.draw({preserve_width:!0});c.fixed=0}var h=function(){return f.blur()},b=function(t){var n=t.detail;n.pos_fg_color&&(n.pos_fg_color=T(n.pos_fg_color),n.neg_fg_color=T(n.neg_fg_color)),n.pos_bg_color&&(n.pos_bg_color=T(n.pos_bg_color),n.neg_bg_color=T(n.neg_bg_color)),n.color&&(n.color=T(n.color)),e[M]=e[M]||{},e[M][p]=n,e.draw({preserve_width:!0}),e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))},m=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.removeEventListener("regular-table-scroll",h),f.removeEventListener("perspective-column-style-change",b),f.removeEventListener("blur",m),f.destroy(),u._open_column_styles_menu.pop(),t.next=7,e.draw({preserve_width:!0});case 7:e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();f.addEventListener("perspective-column-style-change",b),f.addEventListener("blur",m),e.addEventListener("regular-table-scroll",h);var v=e[M]||{},y=Object.assign({},v[p]=v[p]||{});(y.pos_fg_color||y.pos_bg_color)&&(y.pos_fg_color=null==(r=y.pos_fg_color)?void 0:r[0],y.neg_fg_color=null==(a=y.neg_fg_color)?void 0:a[0],y.pos_bg_color=null==(o=y.pos_bg_color)?void 0:o[0],y.neg_bg_color=null==(i=y.neg_bg_color)?void 0:i[0]),y.color&&(y.color=y.color[0]),f.open(t,y,c)}function j(e,t){var n=e[0],r=e[1],a=e[2],o=e[3];function i(e,n){return 255*((1-o)*(t[e]/255)+o*(n/255))}return void 0===t&&(t=[255,255,255]),[i(0,n),i(1,r),i(2,a)]}function R(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t*.299+n*n*.587+r*r*.114)>130?"#161616":"#ffffff"}function z(e){var t=this,n=e._view_cache.config.row_pivots.length-1,r=Array.from(e.children[0].children[0].children),a=e[M]||{};if(r.length>0)for(var o,i=r.splice(r.length-1,1)[0],s=function(){var r,a,i,s=o.value,l=e.getMeta(s),c=null==(r=l.column_header)?void 0:r[(null==(a=l.column_header)?void 0:a.length)-1],u=t._config.sort.find((function(e){return e[0]===c})),d=l.row_header_x===n,f=void 0===l.x;d=d||(l.x+1)%t._config.columns.length==0,s.classList.toggle("psp-header-border",d),s.classList.toggle("psp-header-group",!1),s.classList.toggle("psp-header-leaf",!0),s.classList.toggle("psp-is-top",!1),s.classList.toggle("psp-header-corner",f),s.classList.toggle("psp-header-sort-asc",!!u&&"asc"===u[1]),s.classList.toggle("psp-header-sort-desc",!!u&&"desc"===u[1]),s.classList.toggle("psp-header-sort-col-asc",!!u&&"col asc"===u[1]),s.classList.toggle("psp-header-sort-col-desc",!!u&&"col desc"===u[1]);var g=te.call(t,l),p="integer"===g||"float"===g,_="string"===g;s.classList.toggle("psp-align-right",p),s.classList.toggle("psp-align-left",!p),s.classList.toggle("psp-menu-open",t._open_column_styles_menu[0]===l._virtual_x),s.classList.toggle("psp-menu-enabled",(_||p)&&!f),s.classList.toggle("psp-is-width-override",void 0!==(null==(i=e._column_sizes)?void 0:i.override[l.size_key]))},l=(0,c.Z)(null==i?void 0:i.children);!(o=l()).done;)s();for(var u=[],f=new Set,g=e.children[0],p=0;p<r.length;p++){for(var _=g.rows[p],h=new Set,b=0;b<_.cells.length;b++){var m=_.cells[b];m.style.backgroundColor="";var v=e.getMeta(m),y=v.row_header_x===n||v.x>=0;m.classList.toggle("psp-align-right",!1),m.classList.toggle("psp-align-left",!1),m.classList.toggle("psp-header-group",!0),m.classList.toggle("psp-header-leaf",!1),m.classList.toggle("psp-header-border",y),m.classList.toggle("psp-header-group-corner",void 0===v.x),m.classList.toggle("psp-color-mode-bar",!1),m.classList.toggle("psp-header-sort-asc",!1),m.classList.toggle("psp-header-sort-desc",!1),m.classList.toggle("psp-header-sort-col-asc",!1),m.classList.toggle("psp-header-sort-col-desc",!1);for(var w=_.cells[b],x=b,S=void 0,C=void 0;u[p]&&u[p][x];++x);for(h.add(x),S=x;S<x+w.colSpan;++S)for(C=p;C<p+w.rowSpan;++C)u[C]||(u[C]=[]),u[C][S]=!0;w.classList.toggle("psp-is-top",0===p||!f.has(S))}f=h}for(var A,E=(0,c.Z)(e.children[0].children[1].children);!(A=E()).done;)for(var Z,V=A.value,P=function(){var n,r,o=Z.value,i=e.getMeta(o),s=null==(n=i.column_header)?void 0:n[(null==(r=i.column_header)?void 0:r.length)-1],l=te.call(t,i),c=a[s],u="integer"===l||"float"===l;if(u){var f,g,p=i.user>0,_=i.user<0;f=void 0!==(null==c?void 0:c.pos_bg_color)?c.pos_bg_color:t._pos_bg_color,g=void 0!==(null==c?void 0:c.neg_bg_color)?c.neg_bg_color:t._neg_bg_color;var h=p?f:_?g:[""].concat(t._plugin_background,[""]),b=h[0],m=h[1],v=h[2],y=h[3];h[4];if(o.style.position="","color"===(null==c?void 0:c.number_bg_mode))o.style.animation="",o.style.backgroundColor=b;else if("gradient"===(null==c?void 0:c.number_bg_mode)){var w=Math.max(0,Math.min(1,Math.abs(i.user/c.bg_gradient))),x=R(j([m,v,y,w],t._plugin_background));o.style.animation="",o.style.color=x,o.style.backgroundColor="rgba("+m+","+v+","+y+","+w+")"}else"pulse"===(null==c?void 0:c.number_bg_mode)?(k.call(t,i,o,f,g),o.style.backgroundColor=""):("disabled"===(null==c?void 0:c.number_bg_mode)||null!=c&&c.number_bg_mode,o.style.animation="",o.style.backgroundColor="");var S=void 0!==(null==c?void 0:c.pos_fg_color)?p?c.pos_fg_color:_?c.neg_fg_color:[""].concat(t._plugin_background,[""]):p?t._pos_fg_color:_?t._neg_fg_color:[""].concat(t._plugin_background,[""]),C=S[0],A=(S[1],S[2],S[3],S[4]);if("disabled"===(null==c?void 0:c.number_fg_mode))if("color"===(null==c?void 0:c.number_bg_mode)){var E=t._plugin_background,V=R(j([h[1],h[2],h[3],1],E));o.style.color=V}else"gradient"===(null==c?void 0:c.number_bg_mode)||(o.style.color="");else"bar"===(null==c?void 0:c.number_fg_mode)?(o.style.color="",o.style.position="relative",""!==A&&o.children.length>0&&o.children[0].nodeType===Node.ELEMENT_NODE&&(o.children[0].style.background=A)):("color"===(null==c?void 0:c.number_fg_mode)||null==c||!c.number_fg_mode)&&(o.style.color=C)}else if("boolean"===l){var P=(!0===i.user?t._pos_fg_color:!1===i.user?t._neg_fg_color:["",0,0,0,""])[0];o.style.backgroundColor="",o.style.color=P}else if("string"===l){var O=void 0!==(null==c?void 0:c.color)?c.color:t._color,N=O[0],M=O[1],T=O[2],L=O[3];O[4];if("foreground"===(null==c?void 0:c.string_color_mode)&&null!==i.user)o.style.color=N,o.style.backgroundColor="","link"===(null==c?void 0:c.format)&&(o.children[0].style.color=N);else if("background"===(null==c?void 0:c.string_color_mode)&&null!==i.user){var z=R(j([M,T,L,1],t._plugin_background));o.style.color=z,o.style.backgroundColor=N}else if("series"===(null==c?void 0:c.string_color_mode)&&null!==i.user){t._series_color_map.has(s)||(t._series_color_map.set(s,new Map),t._series_color_seed.set(s,0));var D=t._series_color_map.get(s);if(!D.has(i.user)){var Y=t._series_color_seed.get(s);D.set(i.user,Y),t._series_color_seed.set(s,Y+1)}var B=D.get(i.user),I=d()(N).hsl(),F=I[0],H=I[1],W=I[2];F+=150*B%360;var U=d()(F,H,W,"hsl"),X=U.rgb(),q=X[0],G=X[1],K=X[2],J=U.hex(),Q=R(j([q,G,K,1],t._plugin_background));o.style.color=Q,o.style.backgroundColor=J}else o.style.backgroundColor="",o.style.color=""}else o.style.backgroundColor="",o.style.color="";o.classList.toggle("psp-bool-type","boolean"===l&&null!==i.user);var $="TH"===o.tagName;if($){var ee,ne,re=null!=typeof i.value&&null!=typeof i.value&&(null==(ee=i.value)||null==(ne=ee.toString())?void 0:ne.trim().length)>0,ae=i.row_header_x>=t._config.group_by.length,oe=e.getMeta({dx:0,dy:i.y-i.y0+1}),ie=oe&&oe.row_header&&void 0!==oe.row_header[i.row_header_x+1];o.classList.toggle("psp-tree-label",re&&!ae),o.classList.toggle("psp-tree-label-expand",re&&!ae&&!ie),o.classList.toggle("psp-tree-label-collapse",re&&!ae&&ie),o.classList.toggle("psp-tree-leaf",re&&ae)}o.classList.toggle("psp-align-right",!$&&u),o.classList.toggle("psp-align-left",$||!u),o.classList.toggle("psp-color-mode-bar","bar"===(null==c?void 0:c.number_fg_mode)&&u)},O=(0,c.Z)(V.children);!(Z=O()).done;)P()}function D(e,t){return Y.apply(this,arguments)}function Y(){return Y=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getMeta(n.target),a=n.target.classList.contains("psp-tree-label-collapse"),n.shiftKey&&a?this._view.set_depth(r.row_header.filter((function(e){return void 0!==e})).length-2):n.shiftKey?this._view.set_depth(r.row_header.filter((function(e){return void 0!==e})).length-1):a?this._view.collapse(r.y):this._view.expand(r.y),e.next=4,this._view.num_rows();case 4:return this._num_rows=e.sent,e.next=7,this._view.num_columns();case 7:this._num_columns=e.sent,t.draw();case 9:case"end":return e.stop()}}),e,this)}))),Y.apply(this,arguments)}function B(e,t){return I.apply(this,arguments)}function I(){return I=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,a,o,i,l,c,u,d,f,g,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===n.which){e.next=2;break}return e.abrupt("return");case 2:if("A"!==(r=n.target).tagName){e.next=5;break}return e.abrupt("return");case 5:if("TD"===r.tagName||"TH"===r.tagName){e.next=10;break}if(r=r.parentElement,t.contains(r)){e.next=8;break}return e.abrupt("return");case 8:e.next=5;break;case 10:if(!r.classList.contains("psp-tree-label")){e.next=13;break}return D.call(this,t,n),n.stopImmediatePropagation(),e.abrupt("return");case 13:if(a=r.getBoundingClientRect(),!(r.classList.contains("psp-menu-enabled")&&n.clientY-a.top>16)){e.next=31;break}if(l=t.getMeta(r),c=null==(o=l.column_header)?void 0:o[(null==(i=l.column_header)?void 0:i.length)-1],u=this._schema[c],this._open_column_styles_menu.unshift(l._virtual_x),"string"!==u){e.next=20;break}t.draw({preserve_width:!0}),L.call(this,t,r),e.next=28;break;case 20:return e.next=22,this._view.get_min_max(c);case 22:d=e.sent,f=d[0],g=d[1],t.draw({preserve_width:!0}),(p=Math.max(Math.abs(f),Math.abs(g)))>1&&(p=Math.round(100*p)/100),L.call(this,t,r,p);case 28:n.preventDefault(),n.stopImmediatePropagation(),e.next=32;break;case 31:r.classList.contains("psp-header-leaf")&&!r.classList.contains("psp-header-corner")&&(A.call(this,t,n,r),n.stopImmediatePropagation());case 32:case"end":return e.stop()}}),e,this)}))),I.apply(this,arguments)}function F(e,t){if(1===t.which){for(var n=t.target;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}}var H={},W={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:function(){function e(){}return e.prototype.format=function(e){return e?"check":"close"},e}()},U=H;function X(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=!1),null===t)return"-";var a=e[e.length-1],o=r&&this._table_schema[a]||this._schema[a]||"string",i=n[a],s="integer"===o||"float"===o;if(s&&"bar"===(null==i?void 0:i.number_fg_mode)){var l=Math.max(0,Math.min(.95,.95*Math.abs(t/i.fg_gradient))),c=this._div_factory.get(),u=t>=0?"left":"right";return c.setAttribute("style","width:"+(100*l).toFixed(2)+"%;position:absolute;"+u+":0;height:80%;top:10%;pointer-events:none;"),c}if("link"===(null==i?void 0:i.format)&&"string"===o){var d=document.createElement("a");return d.setAttribute("href",t),d.setAttribute("target","_blank"),d.textContent=t,d}if("bold"===(null==i?void 0:i.format)&&"string"===o){var f=document.createElement("b");return f.textContent=t,f}if("italics"===(null==i?void 0:i.format)&&"string"===o){var g=document.createElement("i");return g.textContent=t,g}var p=s&&i&&void 0!==i.fixed,_=p?""+o+i.fixed:o;if(void 0===H[_]){var h=(0,x.get_type_config)(o);if(p){var b={minimumFractionDigits:i.fixed,maximumFractionDigits:i.fixed};H[_]=new W[o]("en-us",b)}else W[o]?H[_]=new W[o]("en-us",h.format):H[_]=!1}return H[_]?H[_].format(t):t}function q(e,t,n){var r,a,o,i,l=this;return(0,s.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:void 0===e&&(e=[]),r=n[M],a=(0,s.Z)().mark((function e(){var n,a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.value,n=["TOTAL"].concat(n),a=n[n.length-1],n=n.slice(0,n.length-1).fill(""),o=X.call(l,[t[n.length-1]],a,r,!0),(n=o instanceof HTMLElement?n.concat(o):n.concat({toString:function(){return o}})).length=t.length+1,e.next=9,n;case 9:case"end":return e.stop()}}),e)})),o=(0,c.Z)(e);case 4:if((i=o()).done){u.next=8;break}return u.delegateYield(a(),"t0",6);case 6:u.next=4;break;case 8:case"end":return u.stop()}}),f)}function G(){var e,t,n,r,a;return function(){var o=(0,l.Z)((0,s.Z)().mark((function o(i,l,c,u,d){var f,g,p,_,h,b,m,v,y,w,x,k,S=this;return(0,s.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(h={},!(u-l>0&&d-c>0)){o.next=13;break}return this._is_old_viewport=(null==(f=this._last_window)?void 0:f.start_row)===c&&(null==(g=this._last_window)?void 0:g.end_row)===d&&(null==(p=this._last_window)?void 0:p.start_col)===l&&(null==(_=this._last_window)?void 0:_.end_col)===u,b={start_row:c,start_col:l,end_row:d,end_col:u,id:!0},o.next=6,this._view.to_columns(b);case 6:h=o.sent,this._last_window=b,this._ids=h.__ID__,this._reverse_columns=this._column_paths.slice(l,u).reduce((function(e,t,n){return e.set(t,n),e}),new Map),this._reverse_ids=this._ids.reduce((function(e,t,n){return e.set(null==t?void 0:t.join("|"),n),e}),new Map),o.next=14;break;case 13:this._div_factory.clear();case 14:for(m=[],v=[],y=[],w=[],x=function(e){var t=S._column_paths[e],n=t.split("|"),r=h[t]||new Array(d-c).fill(null);m.push(r.map((function(e){return X.call(S,n,e,i[M])}))),v.push(r),y.push(n),w.push(t)},k=l;k<Math.min(u,this._column_paths.length);++k)x(k);return o.abrupt("return",(u-l>0&&d-c>0&&(this.last_column_paths=t,this.last_meta=e,this.last_ids=n,this.last_reverse_ids=r,this.last_reverse_columns=a,t=w,e=v,n=this._ids,r=this._reverse_ids,a=this._reverse_columns),{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(q.call(this,h.__ROW_PATH__,this._config.group_by,i)),column_headers:y,data:m,metadata:v}));case 18:case"end":return o.stop()}}),o,this)})));return function(e,t,n,r,a){return o.apply(this,arguments)}}()}function K(e,t,n){var r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}var J=function(){function e(e){this._name=e,this._elements=[],this._index=0}var t=e.prototype;return t.clear=function(){this._index=0},t.get=function(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));var e=this._elements[this._index];return this._index+=1,e},e}();function Q(e,t){return d().mix(e,"rgb("+t[0]+","+t[1]+","+t[2]+")",.5).hex()}function $(e,t,n,r){return ee.apply(this,arguments)}function ee(){return ee=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,a){var o,i,l,u,f,g,p,_,h,b,m,v,y,w,x,k,S,C,A,E,Z,V,P,O,N,M,L;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a={}),e.next=3,r.get_config();case 3:return i=e.sent,l=i.expressions.map((function(e){return e[1]})),e.next=7,Promise.all([n.schema(),n.validate_expressions(l),r.num_rows(),r.schema(),r.expression_schema(),r.column_paths()]);case 7:for(u=e.sent,f=u[0],g=u[1],p=u[2],_=u[3],h=u[4],b=u[5],m=d()(K(t,"--plugin--background","#FFFFFF")).rgb(),v=T(K(t,"--rt-pos-cell--color","#338DCD")),y=T(K(t,"--rt-neg-cell--color","#FF5942")),w=T(Q(v[0],m)),x=T(Q(y[0],m)),k=T(K(t,"--active--color","#ff0000")),S=Object.assign({},_,h),C=Object.assign({},f,g.expression_schema),A=b.filter((function(e){return"__ROW_PATH__"!==e&&"__ID__"!==e})),E=[],Z=[],V=(0,c.Z)(A);!(P=V()).done;)O=P.value,N=O.split("|"),M=N[N.length-1],Z.push(S[M]),E.push(!!f[M]);return L=Object.assign(a,{_view:r,_table:n,_table_schema:C,_config:i,_num_rows:p,_schema:S,_ids:[],_open_column_styles_menu:[],_plugin_background:m,_color:k,_pos_fg_color:v,_neg_fg_color:y,_pos_bg_color:w,_neg_bg_color:x,_column_paths:A,_column_types:Z,_is_editable:E,_row_header_types:i.group_by.map((function(e){return C[e]})),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:te}),e.abrupt("return",(L._div_factory=L._div_factory||new J("div"),t.setDataListener(G().bind(L,t),{virtual_mode:(null==(o=window.getComputedStyle(t).getPropertyValue("--datagrid-virtual-mode"))?void 0:o.trim())||"both"}),L));case 28:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function ne(e,t){return re.apply(this,arguments)}function re(){return re=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.addStyleListener(z.bind(n,t)),t.addEventListener("mousedown",B.bind(n,t)),t.addEventListener("click",F.bind(n,t));case 1:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var a,o,i,l,c,u,d,f,g,p,_,h,b,m,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._view,o=t._config,i=o.group_by,l=o.split_by,u=(c=n>=0?n:0)+1,e.next=7,a.to_json({start_row:c,end_row:u});case 7:return d=e.sent,f=d.map((function(e){return e.__ROW_PATH__}))[0]||[],g=i.map((function(e,t){var n=f[t];return n?[e,"==",n]:void 0})).filter((function(e){return e})),p=i.length>0?r+1:r,_=Object.keys(d[0])[p],h={row:d[0]},b=[],_&&(m=_.split("|"),h.column_names=[m[m.length-1]],b=l.map((function(e,t){var n=m[t];return n?[e,"==",n]:void 0})).filter((function(e){return e})).filter((function(e){return"__ROW_PATH__"!==e[2]}))),v=o.filter.concat(g).concat(b),e.abrupt("return",(h.config={filter:v},h));case 17:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}var ie=new WeakMap;function se(e,t,n){return le.apply(this,arguments)}function le(){return le=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var a,o,i,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getMeta(r.target),n.hasAttribute("selectable")&&!r.handled&&1===r.which&&a){e.next=3;break}return e.abrupt("return");case 3:if(o=this._ids[a.y-a.y0],!(a&&a.y>=0)){e.next=19;break}if(i=ie.get(t),l=!!i&&i.reduce((function(e,t,n){return e&&t===o[n]}),!0),c=!!i&&o.length===i.length&&l,u=[],!c){e.next=10;break}ie.delete(t),e.next=15;break;case 10:return ie.set(t,o),e.next=13,ae(this,a.y,a.x);case 13:u=(u=e.sent).config.filter;case 15:return e.next=17,t.draw({preserve_width:!0});case 17:r.handled=!0,n.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:{selected:!c,config:{filter:u}}}));case 19:case"end":return e.stop()}}),e,this)}))),le.apply(this,arguments)}function ce(e,t){var n=this;if(t.hasAttribute("selectable")){for(var r,a=ie.has(e),o=ie.get(e),i=(0,c.Z)(e.querySelectorAll("td"));!(r=i()).done;){var s=r.value;a?function(){var t=e.getMeta(s),r=n._ids[t.y-t.y0],a=o.reduce((function(e,t,n){return e&&t===r[n]}),!0);s.classList.toggle("psp-row-selected",r.length===o.length&&a),s.classList.toggle("psp-row-subselected",r.length!==o.length&&a)}():(s.classList.toggle("psp-row-selected",!1),s.classList.toggle("psp-row-subselected",!1))}for(var l,u=function(){var t=l.value,r=e.getMeta(t),i=n._ids[r.y-r.y0];if(!a||i[r.row_header_x])t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);else{var s=o.reduce((function(e,t,n){return e&&t===i[n]}),!0);t.classList.toggle("psp-row-selected",i.length===o.length&&s),t.classList.toggle("psp-row-subselected",i.length!==o.length&&s)}},d=(0,c.Z)(e.querySelectorAll("tbody th"));!(l=d()).done;)u()}}function ue(e,t){e.addStyleListener(ce.bind(this,e,t)),e.addEventListener("mousedown",se.bind(this,e,t))}function de(e){return fe.apply(this,arguments)}function fe(){return fe=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ie.delete(t),n=(0,c.Z)(t.querySelectorAll("td,th"));!(r=n()).done;)(a=r.value).classList.toggle("psp-row-selected",!1),a.classList.toggle("psp-row-subselected",!1);case 2:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function ge(e,t,n){return pe.apply(this,arguments)}function pe(){return pe=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var a,o,i,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getMeta(r.target)){e.next=3;break}return e.abrupt("return");case 3:return o=a.x,i=a.y,e.next=7,ae(this,i,o);case 7:l=e.sent,c=l.row,u=l.column_names,d=l.config,n.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:c,column_names:u,config:d}}));case 12:case"end":return e.stop()}}),e,this)}))),pe.apply(this,arguments)}function _e(e,t){e.addEventListener("click",ge.bind(this,e,t))}var he=new WeakMap;function be(){if(this.isContentEditable){var e=document.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}return this.target.selectionStart}function me(e,t,n){var r=e.getMeta(n),a=t._schema[t._column_paths[r.x]];if(r){var o,i=n.textContent,s=t._ids[r.y-r.y0];if("float"===a||"integer"===a){if(i=parseFloat(i.replace(/,/g,"")),isNaN(i))return!1}else if("date"===a||"datetime"===a){if(i=Date.parse(i),isNaN(i))return!1}else"boolean"===a&&(i="check"!==i&&("close"===i||null));var l=((o={__INDEX__:s})[t._column_paths[r.x]]=i,o);return t._table.update([l],{port_id:t._edit_port}),!0}}function ve(e,t){void 0===t&&(t=!1);var n=0===this._config.group_by.length&&0===this._config.split_by.length,r=e.hasAttribute("selectable"),a=t||!!e.children[0]._is_edit_mode;return n&&!r&&a}var ye=function(e){var t;return(0,l.Z)((0,s.Z)().mark((function n(){var r,a,o,i,l=arguments;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t1=!!t,!n.t1){n.next=5;break}return n.next=4,t;case 4:n.t1=n.sent;case 5:if(n.t0=n.t1,!n.t0){n.next=8;break}n.t0=!!t;case 8:if(!n.t0){n.next=10;break}return n.abrupt("return");case 10:for(a=l.length,o=new Array(a),i=0;i<a;i++)o[i]=l[i];return t=new Promise((function(e){return r=e})),n.next=14,e.apply(this,o);case 14:t=void 0,r();case 16:case"end":return n.stop()}}),n,this)})))}(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,a){var o,i,l,c,u,d,f,g,p,_;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getMeta(n),i=this._column_paths.length,l=this._num_rows,c=he.get(t)){e.next=3;break}return e.abrupt("return");case 3:o.x+r<i&&0<=o.x+r&&(c.x=o.x+r),o.y+a<l&&0<=o.y+a&&(c.y=o.y+a),u=Math.max(o.x0-10,0),d=Math.min(o.x0+10,i),f=Math.max(o.y0-5,0),g=Math.min(o.y0+10,l),p=o.x0+r,_=o.y0+a;case 5:if(!(!xe(t)&&p>=u&&p<d&&_>=f&&_<g)){e.next=13;break}return e.next=8,t.scrollToCell(p,_,i,l);case 8:he.set(t,c),p+=r,_+=a;case 11:e.next=5;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}());function we(e,t){var n=e[M]||{},r=ve.call(this,t);e.parentElement.classList.toggle("edit-mode-allowed",ve.call(this,t,!0));for(var a,o=(0,c.Z)(e.querySelectorAll("td"));!(a=o()).done;){var i=a.value,s=e.getMeta(i),l=this.get_psp_type(s);if(r&&this._is_editable[s.x]){var u,d=s.column_header[s.column_header.length-1];"string"===l&&"link"===(null==(u=n[d])?void 0:u.format)?(i.toggleAttribute("contenteditable",!1),i.classList.toggle("boolean-editable",!1)):"boolean"===l?(i.toggleAttribute("contenteditable",!1),i.classList.toggle("boolean-editable",null!==s.user)):(r!==i.hasAttribute("contenteditable")&&i.toggleAttribute("contenteditable",r),i.classList.toggle("boolean-editable",!1))}else i.toggleAttribute("contenteditable",!1),i.classList.toggle("boolean-editable",!1)}}var xe=function(e){var t=e.querySelectorAll("td"),n=he.get(e);if(n){for(var r,a=(0,c.Z)(t);!(r=a()).done;){var o=r.value,i=e.getMeta(o);if(i.x===n.x&&i.y===n.y)return document.activeElement!==o&&o.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(document.activeElement)&&document.activeElement.blur()}};function ke(e,t,n){if(ve.call(this,t)){var r=document.activeElement;switch(n.target.classList.remove("psp-error"),n.keyCode){case 13:n.preventDefault(),n.shiftKey?ye.call(this,e,r,0,-1):ye.call(this,e,r,0,1);break;case 37:0==be.call(r)&&(n.preventDefault(),ye.call(this,e,r,-1,0));break;case 38:n.preventDefault(),ye.call(this,e,r,0,-1);break;case 39:be.call(r)==r.textContent.length&&(n.preventDefault(),ye.call(this,e,r,1,0));break;case 40:n.preventDefault(),ye.call(this,e,r,0,1)}}}function Se(e,t,n){if(ve.call(this,t)&&he.has(e)){n.target.classList.remove("psp-error");var r=he.get(e);he.delete(e),r.content!==n.target.textContent&&(me(e,this,n.target)||(n.target.textContent=r.content,n.target.classList.add("psp-error"),n.target.focus()))}}function Ce(e,t,n){var r=e.getMeta(n.target);if(r){var a={x:r.x,y:r.y,content:n.target.textContent};he.set(e,a)}}function Ae(e,t,n){var r=e.getMeta(n.target);if(void 0!==(null==r?void 0:r.x)){var a=ve.call(this,t),o=this._is_editable[r.x],i="boolean"===this.get_psp_type(r),s="-"===n.target.textContent;a&&o&&i&&!s&&me(e,this,n.target)}}function Ee(e,t){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getEditPort();case 2:this._edit_port=e.sent,t.addStyleListener(we.bind(this,t,n)),t.addStyleListener(xe.bind(this,t,n)),t.addEventListener("click",Ae.bind(this,t,n)),t.addEventListener("focusin",Ce.bind(this,t,n)),t.addEventListener("focusout",Se.bind(this,t,n)),t.addEventListener("keydown",ke.bind(this,t,n));case 9:case"end":return e.stop()}}),e,this)}))),Ze.apply(this,arguments)}var Ve=function(e){function t(){var t;return(t=e.call(this)||this).datagrid=document.createElement("regular-table"),t.datagrid.formatters=U,t._is_scroll_lock=!0,t}(0,o.Z)(t,e);var n=t.prototype;return n.connectedCallback=function(){var e=this;this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar"),this._toolbar.setAttribute("slot","plugin-settings"),this._toolbar.attachShadow({mode:"open"}),this._toolbar.shadowRoot.innerHTML='\n                <style>\n                    :host{position:relative;display:block}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0}:host #toolbar{display:flex;align-items:center;height:36px}:host #slot-container{flex:1;position:relative}#scroll_lock.lock-scroll:before{content:var(--toolbar-scroll-lock-active--content)}#scroll_lock:before{content:var(--toolbar-scroll-lock--content)}#select_mode:before{content:"highlight_alt"}#edit_mode:before{content:var(--toolbar-edit-mode--content)}#edit_mode.editable:before{content:var(--toolbar-edit-mode-active--content)}:host(.aggregated) #toolbar #edit_mode{display:none}.button:before{color:var(--inactive--color, #ccc);line-height:36px;font-size:14px;font-family:var(--button--font-family, "Material Icons Outlined");vertical-align:bottom;margin:0 11px}.button.editable:before,.button.lock-scroll:before{color:inherit}.button{user-select:none;width:36px;box-sizing:border-box}.button>span{display:none;margin:0;padding:0}.button:hover{opacity:1;display:flex;align-items:center;color:inherit;cursor:pointer;min-width:105px;background-color:#0000000d}.button:hover:before{margin:0 6px 0 11px}.button:hover>span{display:contents;font-size:12px;font-weight:300;line-height:36px}\n\n                </style>\n                <div id="toolbar">\n                    <span id="scroll_lock" class="lock-scroll button"><span>Align Scroll</span></span>\n                    <span id="edit_mode" class="button"><span>Read Only</span></span>\n                </div>\n            ',this._scroll_lock=this._toolbar.shadowRoot.querySelector("#scroll_lock"),this._scroll_lock.addEventListener("click",(function(){return e._toggle_scroll_lock()})),this._edit_mode=this._toolbar.shadowRoot.querySelector("#edit_mode"),this._edit_mode.addEventListener("click",(function(){e._toggle_edit_mode(),e.datagrid.draw(),e.parentElement.dispatchEvent(new Event("perspective-config-update"))}))),this.parentElement.appendChild(this._toolbar)},n.disconnectedCallback=function(){this._toolbar.parentElement.removeChild(this._toolbar)},n._toggle_edit_mode=function(e){void 0===e&&(e=void 0),void 0===e&&(e=!this._is_edit_mode),this._is_edit_mode=e,this.classList.toggle("editable",e),void 0!==this._edit_mode&&(this._edit_mode.classList.toggle("editable",e),this._edit_mode.children[0].textContent=e?"Editable":"Read Only")},n._toggle_scroll_lock=function(e){void 0===e&&(e=void 0),void 0===e&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-enabled",!e),void 0!==this._scroll_lock&&(this._scroll_lock.classList.toggle("lock-scroll",e),this._scroll_lock.children[0].textContent=e?"Align Scroll":"Free Scroll")},n.activate=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parentElement,e.next=3,n.getTable(!0);case 3:if(r=e.sent,!this._initialized){e.next=9;break}return e.next=7,$(this.datagrid,r,t,this.model);case 7:e.next=24;break;case 9:return this.innerHTML="",this.appendChild(this.datagrid),e.next=13,$(this.datagrid,r,t);case 13:return this.model=e.sent,ne(this.datagrid,this.model),e.next=17,ue.call(this.model,this.datagrid,n);case 17:return e.next=19,_e.call(this.model,this.datagrid,n);case 19:return e.next=21,Ee.call(this.model,this.datagrid,n);case 21:return e.next=23,S.call(this.model,this.datagrid,n);case 23:this._initialized=!0;case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.draw=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.parentElement,!e.t0){e.next=4;break}return e.next=4,this.activate(t);case 4:if(this.isConnected&&null!=this.offsetParent){e.next=6;break}return e.abrupt("return");case 6:return n=this._save_column_size_overrides(),r=this.parentElement,a=this.datagrid.draw({invalid_columns:!0}),this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.datagrid.scrollTop=0,this.datagrid.scrollLeft=0,de(this.datagrid,r),this.datagrid._resetAutoSize()),this._restore_column_size_overrides(n),e.next=11,a;case 11:this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.update=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.num_rows();case 2:return this.model._num_rows=e.sent,e.next=5,this.datagrid.draw();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.resize=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.isConnected||null==this.offsetParent,e.t0){e.next=6;break}if(e.t1=this._initialized,!e.t1){e.next=6;break}return e.next=6,this.datagrid.draw();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.clear=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.datagrid._resetAutoSize(),this.datagrid.clear();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.save=function(){if(this.datagrid){for(var e=this.datagrid,t={columns:{},scroll_lock:!!this._is_scroll_lock,editable:!!this._is_edit_mode},n=0,r=Object.keys(e[M]||{});n<r.length;n++){var a,o,i,s,l=r[n],c=Object.assign({},e[M][l]);(null!=c&&c.pos_fg_color||null!=c&&c.pos_bg_color)&&(c.pos_fg_color=null==(a=c.pos_fg_color)?void 0:a[0],c.neg_fg_color=null==(o=c.neg_fg_color)?void 0:o[0],c.pos_bg_color=null==(i=c.pos_bg_color)?void 0:i[0],c.neg_bg_color=null==(s=c.neg_bg_color)?void 0:s[0]),null!=c&&c.color&&(c.color=c.color[0]),t.columns[l]=c}for(var u=this._save_column_size_overrides(),d=0,f=Object.keys(u||{});d<f.length;d++){var g=f[d];t.columns[g]||(t.columns[g]={}),t.columns[g].column_size_override=u[g]}return JSON.parse(JSON.stringify(t))}return{}},n.restore=function(e){var t={};if((e=JSON.parse(JSON.stringify(e))).columns)for(var n=0,r=Object.keys(e.columns);n<r.length;n++){var a=r[n],o=e.columns[a];void 0!==o.column_size_override&&(t[a]=o.column_size_override,delete o.column_size_override),null!=o&&o.pos_fg_color&&(o.pos_fg_color=T(o.pos_fg_color),o.neg_fg_color=T(o.neg_fg_color)),null!=o&&o.pos_bg_color&&(o.pos_bg_color=T(o.pos_bg_color),o.neg_bg_color=T(o.neg_bg_color)),null!=o&&o.color&&(o.color=T(o.color)),0===Object.keys(o).length&&delete e.columns[a]}"editable"in e&&this._toggle_edit_mode(e.editable),"scroll_lock"in e&&this._toggle_scroll_lock(e.scroll_lock);var i=this.datagrid;try{i._resetAutoSize()}catch(s){}this._restore_column_size_overrides(t,!0),i[M]=e.columns},n.restyle=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.draw(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delete=function(){this.datagrid.table_model&&this.datagrid._resetAutoSize(),this.datagrid.clear()},n._save_column_size_overrides=function(){if(!this._initialized)return[];if(this._cached_column_sizes){var e=this._cached_column_sizes;return this._cached_column_sizes=void 0,e}for(var t=this.datagrid._column_sizes.override,n=this.model._config,r=n.group_by,a=(n.columns,(null==r?void 0:r.length)>0?r.length+1:0),o={},i=0,s=Object.keys(t);i<s.length;i++){if(void 0!==t[e=s[i]]){var l=e-a;l>-1?o[this.model._column_paths[l]]=t[e]:-1===l&&(o.__ROW_PATH__=t[e])}}return o},n._restore_column_size_overrides=function(e,t){if(void 0===t&&(t=!1),this._initialized){t&&(this._cached_column_sizes=e);for(var n={},r=this.model._config,a=r.group_by,o=(r.columns,(null==a?void 0:a.length)>0?a.length+1:0),i=0,s=Object.keys(e);i<s.length;i++){var l=s[i];if("__ROW_PATH__"===l)n[o-1]=e[l];else n[this.model._column_paths.indexOf(l)+o]=e[l]}this.datagrid._column_sizes.override=n}},(0,a.Z)(t,[{key:"name",get:function(){return"Datagrid"}},{key:"category",get:function(){return"Basic"}},{key:"select_mode",get:function(){return"toggle"}},{key:"min_config_columns",get:function(){}},{key:"config_column_names",get:function(){}}]),t}((0,i.Z)(HTMLElement));customElements.define("perspective-viewer-datagrid",Ve),customElements.whenDefined("perspective-viewer").then((function(){customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")})),function(){var e=document.createElement("style");e.textContent='regular-table{padding:0;margin:12px 0 0 12px;scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none}regular-table:hover{scrollbar-color:rgba(0,0,0,.3) transparent}.sub-cell-scroll-enabled regular-table table tbody td,.sub-cell-scroll-enabled regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x, 0px))}.sub-cell-scroll-enabled regular-table table tbody{transform:translateY(var(--regular-table--transform-y, 0px))}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td,.sub-cell-scroll-enabled regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y, 0),0 200%,200% 200%,200% var(--regular-table--clip-y, 0))}.sub-cell-scroll-enabled regular-table table thead th.rt-group-corner{background:var(--plugin--background, white);z-index:1}.sub-cell-scroll-enabled regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) 0,var(--regular-table--clip-x, 0) 200%,200% 200%,200% 0)}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) var(--regular-table--clip-y, 0),var(--regular-table--clip-x, 0) 200%,200% 200%,200% var(--regular-table--clip-y, 0))}regular-table{font-family:inherit}regular-table div[tabindex]{outline:none}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}regular-table th{text-align:center}regular-table thead tr:not(:last-child) th{overflow:hidden;max-width:0px}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right}regular-table tbody th{text-align:left}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left}regular-table thead tr:last-child th{border-bottom:1px solid #eaedef}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important}regular-table th{position:relative}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid #eee;height:100%}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding:0 5px;height:19px}regular-table tr:hover td{background:#eee;opacity:1}regular-table tr:hover{color:#333}regular-table table *{box-sizing:border-box}regular-table table{position:absolute;overflow:hidden;color:#666;outline:none}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px #1a7da1}regular-table .rt-selected td{background-color:#eee}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%}regular-table th span.rt-group-name{text-align:left}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize}regular-table a{color:var(--rt-pos-cell--color)}regular-table a:visited{color:var(--active--color)}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#0000;border-radius:5px}regular-table::-webkit-scrollbar-thumb:horizontal{border-bottom:2px solid transparent;border-top:2px solid transparent}regular-table::-webkit-scrollbar-thumb:vertical{border-left:2px solid transparent;border-right:2px solid transparent}regular-table:hover::-webkit-scrollbar-thumb{background-color:#00000026}regular-table::-webkit-scrollbar-thumb:hover{background-color:#0000004d}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0 var(--inactive--color, #eaedef)}.psp-header-group{box-shadow:0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-is-top{box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef)}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0 var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0 -4px var(--inactive--color, #eaedef)}tr:only-child th{box-shadow:none!important}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--rt-hover--border-color, #c5c9d080)!important;background-color:transparent;box-shadow:0 1px 0 var(--rt-hover--border-color, #c5c9d080),0 3px #0000000d,0 5px #00000003}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:1px;border-right-color:transparent}regular-table tbody tr:hover{color:#161616}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color, #c5c9d080)!important}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color, #c5c9d080)!important}perspective-viewer[settings] regular-table .psp-header-leaf{height:36px;vertical-align:top;padding-top:2px}perspective-viewer[settings] regular-table .psp-header-leaf:not(.psp-header-corner):before{font-family:var(--button--font-family, inherit);content:var(--column-style-open-button--content, var(--config-button-icon--content, "\\1f527"));position:absolute;width:calc(100% - 8px);left:5px;bottom:0px;color:var(--inactive--color, #b4b7be)}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:not(.psp-header-corner):before{color:inherit;cursor:pointer}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner){pointer-events:none}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner):before{content:var(--column-style-close-button--content, "X")}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:hover:before{color:#338dcd}perspective-viewer[settings] regular-table .psp-header-leaf .rt-column-resize{height:18px}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:#fff!important;background-color:#ea7319!important;border-color:#ea7319!important}.psp-row-selected.psp-tree-label:not(:hover):before{color:#fff}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,.2)!important}.psp-error{color:red}td:focus{outline:#666;outline-style:dotted;outline-width:1px}perspective-viewer.dragging regular-table{pointer-events:none}.psp-header-border:last-child{border-right-width:0px}.psp-header-sort-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-desc--content, "\\2193")}.psp-header-sort-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-asc--content, "\\2191")}.psp-header-sort-col-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-desc--content, "\\2190")}.psp-header-sort-col-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-asc--content, "\\2192")}tbody th:last-of-type{border-right:1px solid #eaedef;overflow:hidden;text-overflow:ellipsis}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,#eee 10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none}.psp-tree-label{max-width:0px;min-width:0px}.psp-tree-label:before{color:#ccc;font-family:var(--button--font-family, inherit);padding-right:11px;vertical-align:-1px}.psp-tree-label-expand:before{content:var(--tree-label-expand--content, "+")}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content, "-")}.psp-tree-label:hover:before{color:#338dcd;text-shadow:0px 0px 5px #338dcd}regular-table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--color, #eaedef)}.psp-tree-leaf{padding-left:24px}.psp-align-right{text-align:right}.psp-align-left{text-align:left}.psp-positive:not(:focus){color:var(--rt-pos-cell--color, #338dcd)}.psp-negative:not(:focus){color:var(--rt-neg-cell--color, #ff5942)}regular-table table tbody td{min-width:52px!important}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed #999;border-bottom-width:0px;border-left-width:0px}.psp-bool-type{font-family:var(--button--font-family, "Material Icons")}.boolean-editable{cursor:pointer}regular-table table{user-select:none;color:#161616;border-collapse:separate}regular-table table th{font-weight:400}regular-table table td,regular-table table th{border-color:#eaedef;height:23px}regular-table table .psp-header-group{text-overflow:ellipsis}regular-table table .psp-header-leaf{border-bottom-width:0px}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px}regular-table table tbody th:empty{background-position:0px -10px}@keyframes pulse_pos{0%{background-color:var(--pulse--background-color-start, rgba(0, 128, 255, .5))}to{background-color:var(--pulse--background-color-end, rgba(0, 128, 255, 0))}}@keyframes pulse_pos2{0%{background-color:var(--pulse--background-color-start, rgba(0, 128, 255, .5))}to{background-color:var(--pulse--background-color-end, rgba(0, 128, 255, 0))}}@keyframes pulse_neg{0%{background-color:var(--pulse--background-color-start, rgba(255, 25, 0, .5))}to{background-color:var(--pulse--background-color-end, rgba(255, 25, 0, 0))}}@keyframes pulse_neg2{0%{background-color:var(--pulse--background-color-start, rgba(255, 25, 0, .5))}to{background-color:var(--pulse--background-color-end, rgba(255, 25, 0, 0))}}\n',document.head.insertBefore(e,document.head.firstChild)}()},1820:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ee}});var r=n(3219),a=n(1092),o=n(7791),i=n(8549),s=n(6782);var l=n.p+"3d1f100a500dd595.wasm",c=Object.create,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,_=function(e){return u(e,"__esModule",{value:!0})},h=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},b=function(e){return function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r,a=function(){var a=r.value;!p.call(e,a)&&"default"!==a&&u(e,a,{get:function(){return t[a]},enumerable:!(n=d(t,a))||n.enumerable})},o=(0,i.Z)(f(t));!(r=o()).done;)a();return e}(_(u(null!=e?c(g(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},m=h((function(e,t){t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),v=h((function(e,t){var n=m().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;var i=n.shift();if(r(e)&&r(i))for(var s in i){var l,c;r(i[s])?(e[s]||Object.assign(e,((l={})[s]={},l)),a(e[s],i[s])):Object.assign(e,((c={})[s]=i[s],c))}return a.apply(void 0,[e].concat(n))}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){var n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){var r=t.exports.get_type_config(n.type);return Object.assign(r,n),r}return n},globalThis.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=a(n,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}})),y={};!function(e,t){for(var n in _(e),t)u(e,n,{get:t[n],enumerable:!0})}(y,{COLUMN_SEPARATOR_STRING:function(){return T},CONFIG_ALIASES:function(){return x},CONFIG_VALID_KEYS:function(){return k},DATA_TYPES:function(){return w},FILTER_OPERATORS:function(){return V},SORT_ORDERS:function(){return A},SORT_ORDER_IDS:function(){return E},TYPE_AGGREGATES:function(){return Z},TYPE_FILTERS:function(){return L}});var w={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},x={row_pivot:"group_by","row-pivot":"group_by","row-pivots":"group_by",col_pivot:"split_by",col_pivots:"split_by",column_pivot:"split_by","column-pivot":"split_by","column-pivots":"split_by",filters:"filter",sorts:"sort"},k=["viewport","group_by","split_by","aggregates","columns","filter","sort","computed_columns","expressions","group_by_depth","split_by_depth","filter_op"],S=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last minus first","last","high","join","low","high minus low","mean","median","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],C=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],A=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],E=[2,0,1,0,1,3,4,3,4],Z={string:C,float:S,integer:S,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],datetime:C,date:C},V={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},P=[V.bitwiseAnd,V.bitwiseOr,V.equals,V.doesNotEqual,V.or,V.and,V.isNull,V.isNotNull],O=[V.lessThan,V.greaterThan,V.equals,V.lessThanOrEquals,V.greaterThanOrEquals,V.doesNotEqual,V.isNull,V.isNotNull],N=[V.equals,V.contains,V.doesNotEqual,V.isIn,V.isNotIn,V.beginsWith,V.endsWith,V.isNull,V.isNotNull],M=[V.lessThan,V.greaterThan,V.equals,V.lessThanOrEquals,V.greaterThanOrEquals,V.doesNotEqual,V.isNull,V.isNotNull],T="|",L={string:N,float:O,integer:O,boolean:P,datetime:M,date:M},j=b(v()),R=new WeakMap,z=0;function D(e,t){return function(){for(var n,r=function(){},a=Array.prototype.slice.call(arguments,0,arguments.length),o=a.length-1;o>=0;o--)"function"==typeof a[o]&&(n=a.splice(o,1)[0]);var i=R.get(n);R.delete(n);var s={cmd:t||"view_method",name:this._name,method:e,args:a,subscribe:!0,callback_id:i};this._worker.post(s,n,r),this._worker.unsubscribe(t,n)}}function Y(e,t){return function(){for(var n,r=function(){},a=Array.prototype.slice.call(arguments,0,arguments.length),o=a.length-1;o>=0;o--)"function"==typeof a[o]&&(n=a.splice(o,1)[0]);z++,R.set(n,z);var i={cmd:t||"view_method",name:this._name,method:e,args:a,subscribe:!0,callback_id:z};this._worker.post(i,n,r,!0)}}function B(e,t){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,a){var o={cmd:t||"view_method",name:this._name,method:e,args:n,subscribe:!1};this._worker.post(o,r,a)}.bind(this))}}function I(e,t,n){var r=this;return new Promise((function(a,o){var i;r._worker=e,r._name=Math.random()+"",r._worker.post({cmd:"view",view_name:r._name,table_name:t,config:n},(function(){a(r)}),o),!0===r._worker._initialized&&(null==(i=r._worker._features)||!i.wait_for_response)&&a(r)}))}function F(e){var t=e;do{for(var n,r=(0,i.Z)(Object.getOwnPropertyNames(t));!(n=r()).done;){var a=n.value,o=e[a];"constructor"!==a&&"function"==typeof o&&(e[a]=o.bind(e))}}while(t=t!==Object&&Object.getPrototypeOf(t))}function H(e,t,n){var r=this;return new Promise((function(a,o){var i;r._worker=e,r._name=n.name||Math.random()+"",F(r),t.to_arrow?(r._worker.post({cmd:"table",name:r._name,args:[],options:n||{}}),t.to_arrow().then((function(e){r._worker.post({cmd:"table",name:r._name,args:[e],options:n||{}},(function(){t.on_update((function(e){r.update(e.delta)}),{mode:"row"}),a(r)}),o)}))):r._worker.post({cmd:"table",name:r._name,args:[t],options:n||{}},(function(){a(r)}),o),!0===r._worker._initialized&&(null==(i=r._worker._features)||!i.wait_for_response)&&a(r)}))}function W(e,t){this._worker=e,this._name=t}I.prototype,I.prototype.get_config=B("get_config"),I.prototype.get_min_max=B("get_min_max"),I.prototype.to_json=B("to_json"),I.prototype.to_arrow=B("to_arrow"),I.prototype.to_columns=B("to_columns"),I.prototype.to_csv=B("to_csv"),I.prototype.schema=B("schema"),I.prototype.expression_schema=B("expression_schema"),I.prototype.column_paths=B("column_paths"),I.prototype.num_columns=B("num_columns"),I.prototype.num_rows=B("num_rows"),I.prototype.set_depth=B("set_depth"),I.prototype.get_row_expanded=B("get_row_expanded"),I.prototype.expand=B("expand"),I.prototype.collapse=B("collapse"),I.prototype.delete=B("delete"),I.prototype.col_to_js_typed_array=B("col_to_js_typed_array"),I.prototype.on_update=Y("on_update","view_method"),I.prototype.remove_update=D("remove_update","view_method"),I.prototype.on_delete=Y("on_delete","view_method"),I.prototype.remove_delete=D("remove_delete","view_method"),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var a,o,i=0|t,s=Math.max(i>=0?i:r-Math.abs(i),0);for(;s<r;){if((a=n[s])===(o=e)||"number"==typeof a&&"number"==typeof o&&isNaN(a)&&isNaN(o))return!0;s++}return!1}}),H.prototype.type="table",W.prototype=H.prototype,H.prototype.view=function(e){return new I(this._worker,this._name,e)},H.prototype.get_index=B("get_index","table_method"),H.prototype.get_limit=B("get_limit","table_method"),H.prototype.make_port=B("make_port","table_method"),H.prototype.remove_port=B("remove_port","table_method"),H.prototype.schema=B("schema","table_method"),H.prototype.validate_expressions=B("validate_expressions","table_method"),H.prototype.is_valid_filter=B("is_valid_filter","table_method"),H.prototype.size=B("size","table_method"),H.prototype.columns=B("columns","table_method"),H.prototype.clear=B("clear","table_method"),H.prototype.replace=B("replace","table_method"),H.prototype.delete=B("delete","table_method"),H.prototype.on_delete=Y("on_delete","table_method"),H.prototype.remove=B("remove","table_method"),H.prototype.remove_delete=D("remove_delete","table_method"),H.prototype.update=function(e,t){var n=this;return new Promise((function(r,a){n._worker.post({name:n._name,cmd:"table_method",method:"update",args:[e,t||{}]},r,a,!1)}))},H.prototype.execute=function(e){this._worker.post({cmd:"table_execute",name:this._name,f:e.toString()})};var U=function(){function e(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},F(this)}var t=e.prototype;return t.unsubscribe=function(e,t){for(var n=0,r=Object.keys(this._worker.handlers);n<r.length;n++){var a=r[n];this._worker.handlers[a].resolve===t&&delete this._worker.handlers[a]}},t.post=function(e,t,n,r){var a=this;void 0===r&&(r=!1),++this._worker.msg_id,(t||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:t,reject:n,keep_alive:r}),e.id=this._worker.msg_id,this._worker.initialized.value?this.send(e):this._worker.messages.push((function(){var n;a.send(e),("table"===e.cmd||"view"===e.cmd)&&(null==(n=a._features)||!n.wait_for_response)&&t&&t()}))},t.memory_usage=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.post({cmd:"memory_usage"},e,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.initialize_profile_thread=function(){var e=this;this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push((function(){return e.send({id:-1,cmd:"init_profile_thread"})}))},t.send=function(){throw new Error("send() not implemented")},t.open_table=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new W(this,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t._handle=function(e){if(!this._worker.initialized.value){var t;if(!this._initialized&&"undefined"!=typeof document&&document&&void 0!==typeof window&&window){try{var n=document.createEvent("Event");n.initEvent("perspective-ready",!1,!0),window.dispatchEvent(n)}catch(u){}this._initialized=!0}var r=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],null!=(t=e.data)&&t.data){this._features={};for(var a,o=(0,i.Z)(e.data.data);!(a=o()).done;){var s=a.value;this._features[s]=!0}}if(r)for(var l in r)r.hasOwnProperty(l)&&r[l]()}if(e.data.id){var c=this._worker.handlers[e.data.id];c&&(e.data.error?c.reject(e.data.error):c.resolve(e.data.data),c.keep_alive||delete this._worker.handlers[e.data.id])}},t.table=function(e,t){return new H(this,e,t||{})},t.terminate=function(){this._worker.terminate(),this._worker=void 0},e}(),X=function(e){function t(t){var n;(n=e.call(this)||this)._ws=t,n._ws.binaryType="arraybuffer",n._full_binary,n._total_chunk_length=0,n._pending_binary_length=0,n._ws.onopen=function(){n.send({id:-1,cmd:"init"})};return setTimeout((function e(){n._ws.send("ping"),setTimeout(e,3e4)}),3e4),n._ws.onmessage=function(e){if("pong"!==e.data)if(n._pending_binary){var t=e.data;if(n._full_binary.set(new Uint8Array(t),n._total_chunk_length),n._total_chunk_length+=t.byteLength,n._total_chunk_length!==n._pending_binary_length)return;t=n._full_binary.buffer;var r={data:{id:n._pending_binary,data:t}};if(void 0!==n._pending_port_id){var a={port_id:n._pending_port_id,delta:t};r.data.data=a}n._handle(r),delete n._pending_binary,delete n._pending_binary_length,delete n._pending_port_id,n._total_chunk_length=0,n._full_binary=null}else(e=JSON.parse(e.data)).binary_length?(n._pending_binary=e.id,n._pending_binary_length=e.binary_length,e.data&&void 0!==e.data.port_id&&(n._pending_port_id=e.data.port_id),n._full_binary=new Uint8Array(n._pending_binary_length)):n._handle({data:e})},n}(0,r.Z)(t,e);var n=t.prototype;return n.send=function(e){if(e.args&&e.args.length>0&&e.args[0]instanceof ArrayBuffer&&void 0!==e.args[0].byteLength){var t=e;return e.binary_length=e.args[0].byteLength,this._ws.send(JSON.stringify(t)),void this._ws.send(e.args[0])}this._ws.send(JSON.stringify(e))},n.terminate=function(){var e=this;return new Promise((function(t){e._ws.onclose=t,e._ws.close()}))},t}(U),q=b(v());function G(e){return 559903==new Uint32Array(e.slice(0,4))[0]}var K,J=function(){return K||(K=new(function(){function e(){}var t=e.prototype;return t.worker=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Worker(n.p+"perspective.worker.js");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.wasm=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r,o,i,c,u,d,f,g,p,_,h,b;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:if(t=e.sent,n=[],r=0,o=new s.Q1((function(e){e&&(r+=e.byteLength,n.push(e))})),!(t.buffer&&t.buffer instanceof ArrayBuffer)){e.next=10;break}console.warn('Perspective has been compiled in "inline" mode.  While Perspective\'s runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.\nhttps://perspective.finos.org/docs/md/js.html'),G(t.buffer)?o.push(t,!0):(r=t.byteLength,n=[t]),e.next=28;break;case 10:if(!(t instanceof ArrayBuffer)){e.next=14;break}r=t.byteLength,n=[new Uint8Array(t)],e.next=28;break;case 14:return e.next=16,fetch(t);case 16:i=e.sent.body.getReader(),c=0;case 18:return e.next=20,i.read();case 20:if(u=e.sent,d=u.value,!(f=u.done)){e.next=25;break}return e.abrupt("break",28);case 25:0===c&&G(d.buffer)||1===c?(c=1,o.push(d,f)):(c=2,r+=d.byteLength,n.push(d));case 26:e.next=18;break;case 28:for(g=0,p=new Uint8Array(r),_=0,h=n;_<h.length;_++)b=h[_],p.set(b,g),g+=b.byteLength;return e.abrupt("return",(this._wasm=p.buffer,this._wasm));case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())),K},Q=function(e){function t(t){var n;return t&&(0,q.override_config)(t),(n=e.call(this)||this).register(),n}(0,r.Z)(t,e);var n=t.prototype;return n.register=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={cmd:"init",config:(0,j.get_config)()},"undefined"!=typeof WebAssembly){e.next=3;break}throw new Error("WebAssembly not supported.");case 3:return e.next=5,Promise.all([J().worker(),J().wasm()]);case 5:for(o in r=e.sent,t=r[0],n.buffer=r[1],this._worker)t[o]=this._worker[o];this._worker=t,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(n),this._detect_transferable();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.send=function(e){this._worker.transferable&&e.args&&e.args[0]instanceof ArrayBuffer?this._worker.postMessage(e,[e.args[0]]):this._worker.postMessage(e)},n.terminate=function(){this._worker.terminate(),this._worker=void 0},n._detect_transferable=function(){var e=new ArrayBuffer(1);this._worker.postMessage(e,[e]),this._worker.transferable=0===e.byteLength,this._worker.transferable?console.debug("Transferable support detected"):console.warn("Transferable support not detected")},t}(U),$=function(){var e,t;return{getInstance:function(n){void 0===e&&(e=new Q(n));var r=JSON.stringify(n);if(t&&r!==t)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return t=r,e}}}();j.get_type_config;var ee=Object.assign({override:function(e){return J().set(e)},worker:function(e){return new Q(e)},websocket:function(e){return void 0===e&&(e=window.location.origin.replace("http","ws")),new X(new WebSocket(e))},shared_worker:function(e){return $.getInstance(e)}},Object.keys(y))},9382:function(e,t,n){"use strict";var r=n(7169),a=n(8549),o=n(1092),i=n(7791),s=n(1914),l=n(3219),c=n(8953),u=window.ClipboardItem,d=n(2710);function f(){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.j();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6641).then(n.bind(n,3071));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h,b=window.ResizeObserver,m=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});m.decode();var v=null;function y(){return null!==v&&v.buffer===h.memory.buffer||(v=new Uint8Array(h.memory.buffer)),v}function w(e,t){return m.decode(y().subarray(e,e+t))}var x=new Array(32).fill(void 0);x.push(void 0,null,!0,!1);var k=x.length;function S(e){k===x.length&&x.push(x.length+1);var t=k;return k=x[t],x[t]=e,t}function C(e){return x[e]}var A=0,E=new TextEncoder("utf-8"),Z="function"==typeof E.encodeInto?function(e,t){return E.encodeInto(e,t)}:function(e,t){var n=E.encode(e);return t.set(n),{read:e.length,written:n.length}};function V(e,t,n){if(void 0===n){var r=E.encode(e),a=t(r.length);return y().subarray(a,a+r.length).set(r),A=r.length,a}for(var o=e.length,i=t(o),s=y(),l=0;l<o;l++){var c=e.charCodeAt(l);if(c>127)break;s[i+l]=c}if(l!==o){0!==l&&(e=e.slice(l)),i=n(i,o,o=l+3*e.length);var u=y().subarray(i+l,i+o);l+=Z(e,u).written}return A=l,i}var P=null;function O(){return null!==P&&P.buffer===h.memory.buffer||(P=new Int32Array(h.memory.buffer)),P}function N(e){var t=C(e);return function(e){e<36||(x[e]=k,k=e)}(e),t}function M(e){return null==e}var T=null;function L(){return null!==T&&T.buffer===h.memory.buffer||(T=new Float64Array(h.memory.buffer)),T}function j(e,t,n,r){var a={a:e,b:t,cnt:1,dtor:n},o=function(){a.cnt++;var e=a.a;a.a=0;try{for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(void 0,[e,a.b].concat(n))}finally{0==--a.cnt?h.__wbindgen_export_2.get(a.dtor)(e,a.b):a.a=e}};return o.original=a,o}function R(e,t){h.__wbindgen_export_3(e,t)}function z(e,t,n,r){var a={a:e,b:t,cnt:1,dtor:n},o=function(){a.cnt++;try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[a.a,a.b].concat(t))}finally{0==--a.cnt&&(h.__wbindgen_export_2.get(a.dtor)(a.a,a.b),a.a=0)}};return o.original=a,o}function D(e,t,n,r,a){return N(h.__wbindgen_export_4(e,t,S(n),S(r),S(a)))}function Y(e,t,n){h.__wbindgen_export_5(e,t,S(n))}function B(e,t,n){h.__wbindgen_export_6(e,t,S(n))}function I(e,t,n){return N(h.__wbindgen_export_7(e,t,S(n)))}function F(e,t,n){h.__wbindgen_export_8(e,t,S(n))}function H(e,t,n){h.__wbindgen_export_9(e,t,S(n))}function W(e,t,n){return N(h.__wbindgen_export_10(e,t,S(n)))}function U(e,t){h.__wbindgen_export_11(e,t)}function X(e,t,n){h.__wbindgen_export_12(e,t,S(n))}var q=32;function G(e,t,n){try{h.__wbindgen_export_13(e,t,function(e){if(1==q)throw new Error("out of js stack");return x[--q]=e,q}(n))}finally{x[q++]=void 0}}var K=null;function J(){return null!==K&&K.buffer===h.memory.buffer||(K=new Uint32Array(h.memory.buffer)),K}function Q(e,t){try{return e.apply(this,t)}catch(n){h.__wbindgen_export_14(S(n))}}function $(e,t){for(var n=J().subarray(e/4,e/4+t),r=[],a=0;a<n.length;a++)r.push(N(n[a]));return r}function ee(){try{var e=h.__wbindgen_add_to_stack_pointer(-16);h.get_exprtk_commands(e);var t=O()[e/4+0],n=O()[e/4+1],r=$(t,n).slice();return h.__wbindgen_export_15(t,4*n),r}finally{h.__wbindgen_add_to_stack_pointer(16)}}function te(e,t,n,r){h.__wbindgen_export_16(e,t,S(n),S(r))}var ne=function(){t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n};var e=t.prototype;function t(e){var n=h.copydropdownmenuelement_new(S(e));return t.__wrap(n)}return e.__destroy_into_raw=function(){var e=this.ptr;return this.ptr=0,e},e.free=function(){var e=this.__destroy_into_raw();h.__wbg_copydropdownmenuelement_free(e)},e.open=function(e){h.copydropdownmenuelement_open(this.ptr,S(e))},e.hide=function(){h.copydropdownmenuelement_hide(this.ptr)},e.unsafe_set_model=function(e){h.copydropdownmenuelement_unsafe_set_model(this.ptr,e)},e.connected_callback=function(){h.copydropdownmenuelement_connected_callback(this.ptr)},t}(),re=function(){t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n};var e=t.prototype;function t(e){var n=h.exportdropdownmenuelement_new(S(e));return t.__wrap(n)}return e.__destroy_into_raw=function(){var e=this.ptr;return this.ptr=0,e},e.free=function(){var e=this.__destroy_into_raw();h.__wbg_exportdropdownmenuelement_free(e)},e.open=function(e){h.exportdropdownmenuelement_open(this.ptr,S(e))},e.hide=function(){h.exportdropdownmenuelement_hide(this.ptr)},e.unsafe_set_model=function(e){h.exportdropdownmenuelement_unsafe_set_model(this.ptr,e)},e.connected_callback=function(){h.exportdropdownmenuelement_connected_callback(this.ptr)},t}(),ae=function(){t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n};var e=t.prototype;function t(e,n,r){var a=h.perspectivenumbercolumnstyleelement_new(S(e),S(n),S(r));return t.__wrap(a)}return e.__destroy_into_raw=function(){var e=this.ptr;return this.ptr=0,e},e.free=function(){var e=this.__destroy_into_raw();h.__wbg_perspectivenumbercolumnstyleelement_free(e)},e.reset=function(e,t){h.perspectivenumbercolumnstyleelement_reset(this.ptr,S(e),S(t))},e.open=function(e){h.perspectivenumbercolumnstyleelement_open(this.ptr,S(e))},e.close=function(){h.perspectivenumbercolumnstyleelement_close(this.ptr)},e.destroy=function(){var e=this.__destroy_into_raw();h.perspectivenumbercolumnstyleelement_destroy(e)},e.connected_callback=function(){h.perspectivenumbercolumnstyleelement_connected_callback(this.ptr)},t}(),oe=function(){t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n};var e=t.prototype;function t(e,n,r){var a=h.perspectivestringcolumnstyleelement_new(S(e),S(n),S(r));return t.__wrap(a)}return e.__destroy_into_raw=function(){var e=this.ptr;return this.ptr=0,e},e.free=function(){var e=this.__destroy_into_raw();h.__wbg_perspectivestringcolumnstyleelement_free(e)},e.reset=function(e){h.perspectivestringcolumnstyleelement_reset(this.ptr,S(e))},e.open=function(e){h.perspectivestringcolumnstyleelement_open(this.ptr,S(e))},e.close=function(){h.perspectivestringcolumnstyleelement_close(this.ptr)},e.destroy=function(){var e=this.__destroy_into_raw();h.perspectivestringcolumnstyleelement_destroy(e)},e.connected_callback=function(){h.perspectivestringcolumnstyleelement_connected_callback(this.ptr)},t}(),ie=function(){t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n};var e=t.prototype;function t(e){var n=h.perspectiveviewerelement_new(S(e));return t.__wrap(n)}return e.__destroy_into_raw=function(){var e=this.ptr;return this.ptr=0,e},e.free=function(){var e=this.__destroy_into_raw();h.__wbg_perspectiveviewerelement_free(e)},e.connected_callback=function(){h.perspectiveviewerelement_connected_callback(this.ptr)},e.js_load=function(e){return N(h.perspectiveviewerelement_js_load(this.ptr,S(e)))},e.js_delete=function(){return N(h.perspectiveviewerelement_js_delete(this.ptr))},e.js_get_view=function(){return N(h.perspectiveviewerelement_js_get_view(this.ptr))},e.js_get_table=function(e){return N(h.perspectiveviewerelement_js_get_table(this.ptr,e))},e.js_flush=function(){return N(h.perspectiveviewerelement_js_flush(this.ptr))},e.js_restore=function(e){return N(h.perspectiveviewerelement_js_restore(this.ptr,S(e)))},e.js_save=function(e){var t=M(e)?0:V(e,h.__wbindgen_export_0,h.__wbindgen_export_1),n=A;return N(h.perspectiveviewerelement_js_save(this.ptr,t,n))},e.js_download=function(e){return N(h.perspectiveviewerelement_js_download(this.ptr,e))},e.js_copy=function(e){return N(h.perspectiveviewerelement_js_copy(this.ptr,e))},e.js_reset=function(e){return N(h.perspectiveviewerelement_js_reset(this.ptr,S(e)))},e.js_resize=function(e){return N(h.perspectiveviewerelement_js_resize(this.ptr,e))},e.js_set_auto_size=function(e){h.perspectiveviewerelement_js_set_auto_size(this.ptr,e)},e.js_get_edit_port=function(){return h.perspectiveviewerelement_js_get_edit_port(this.ptr)},e.js_restyle_element=function(){return N(h.perspectiveviewerelement_js_restyle_element(this.ptr))},e.js_reset_themes=function(e){var t=M(e)?0:function(e,t){for(var n=t(4*e.length),r=J(),a=0;a<e.length;a++)r[n/4+a]=S(e[a]);return A=e.length,n}(e,h.__wbindgen_export_0),n=A;return N(h.perspectiveviewerelement_js_reset_themes(this.ptr,t,n))},e.js_set_throttle=function(e){h.perspectiveviewerelement_js_set_throttle(this.ptr,!M(e),M(e)?0:e)},e.js_toggle_config=function(e){return N(h.perspectiveviewerelement_js_toggle_config(this.ptr,M(e)?16777215:e?1:0))},e.js_get_all_plugins=function(){return N(h.perspectiveviewerelement_js_get_all_plugins(this.ptr))},e.js_get_plugin=function(e){var t=M(e)?0:V(e,h.__wbindgen_export_0,h.__wbindgen_export_1),n=A;return N(h.perspectiveviewerelement_js_get_plugin(this.ptr,t,n))},e.js_unsafe_get_model=function(){return h.perspectiveviewerelement_js_unsafe_get_model(this.ptr)},t}();function se(e,t){return le.apply(this,arguments)}function le(){return(le=(0,i.Z)((0,o.Z)().mark((function e(t,n){var r,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"==typeof Response&&t instanceof Response)){e.next=23;break}if("function"!=typeof WebAssembly.instantiateStreaming){e.next=15;break}return e.prev=2,e.next=5,WebAssembly.instantiateStreaming(t,n);case 5:case 20:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),"application/wasm"==t.headers.get("Content-Type")){e.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.next=17,t.arrayBuffer();case 17:return r=e.sent,e.next=20,WebAssembly.instantiate(r,n);case 23:return e.next=25,WebAssembly.instantiate(t,n);case 25:if(!((a=e.sent)instanceof WebAssembly.Instance)){e.next=30;break}return e.abrupt("return",{instance:a,module:t});case 30:return e.abrupt("return",a);case 31:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function ce(e){return ue.apply(this,arguments)}function ue(){return ue=(0,i.Z)((0,o.Z)().mark((function e(t){var r,a,i,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=new URL(n(9851),n.b)),(r={}).wbg={},r.wbg.__wbindgen_json_parse=function(e,t){return S(JSON.parse(w(e,t)))},r.wbg.__wbindgen_json_serialize=function(e,t){var n=C(t),r=V(JSON.stringify(void 0===n?null:n),h.__wbindgen_export_0,h.__wbindgen_export_1),a=A;O()[e/4+1]=a,O()[e/4+0]=r},r.wbg.__wbindgen_object_drop_ref=function(e){N(e)},r.wbg.__wbindgen_object_clone_ref=function(e){return S(C(e))},r.wbg.__wbindgen_jsval_eq=function(e,t){return C(e)===C(t)},r.wbg.__wbindgen_cb_drop=function(e){var t=N(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},r.wbg.__wbindgen_string_new=function(e,t){return S(w(e,t))},r.wbg.__wbg_restore_f1fbc066c9637e24=function(e,t){C(e).restore(C(t))},r.wbg.__wbg_numrows_dfd6ed430e0147ff=function(){return Q((function(e){return S(C(e).num_rows())}),arguments)},r.wbg.__wbg_register_1a0bbab9f7619662=function(e,t){C(e).register(N(t))},r.wbg.__wbg_setMonarchTokensProvider_1fa51a80d68f1ac1=function(e,t,n,r){C(e).setMonarchTokensProvider(w(t,n),N(r))},r.wbg.__wbg_setLanguageConfiguration_d6c86e31029d9ef5=function(e,t,n,r){C(e).setLanguageConfiguration(w(t,n),N(r))},r.wbg.__wbg_registerCompletionItemProvider_61ecf83f366d2e16=function(e,t,n,r){C(e).registerCompletionItemProvider(w(t,n),N(r))},r.wbg.__wbg_delete_cd3c8d59be8fee68=function(){return Q((function(e){return S(C(e).delete())}),arguments)},r.wbg.__wbg_monacomodule_9d24db234e2e1549=function(){return S(p())},r.wbg.__wbg_schema_b1cd087318fe451d=function(){return Q((function(e){return S(C(e).schema())}),arguments)},r.wbg.__wbg_default_3edfeada4cfc405b=function(){return S(f())},r.wbg.__wbg_restyle_d98bfa634bd438a3=function(){return Q((function(e,t){return S(C(e).restyle(C(t)))}),arguments)},r.wbg.__wbg_size_ea3857b7b9c01a01=function(){return Q((function(e){return S(C(e).size())}),arguments)},r.wbg.__wbg_toarrow_e23fb00f4ad5e9f8=function(){return Q((function(e){return S(C(e).to_arrow())}),arguments)},r.wbg.__wbg_schema_ad095ebcdb4dd76f=function(){return Q((function(e){return S(C(e).schema())}),arguments)},r.wbg.__wbg_tocolumns_d45b3454003d346b=function(){return Q((function(e){return S(C(e).to_columns())}),arguments)},r.wbg.__wbg_columns_b15d8d6c4a353055=function(){return Q((function(e){return S(C(e).columns())}),arguments)},r.wbg.__wbg_numcolumns_6a8d86bb12e88692=function(){return Q((function(e){return S(C(e).num_columns())}),arguments)},r.wbg.__wbg_makeport_8c752476acd3fe27=function(){return Q((function(e){return S(C(e).make_port())}),arguments)},r.wbg.__wbg_draw_f7001e36a5451367=function(){return Q((function(e,t,n,r,a,o,i){return S(C(e).draw(C(t),0===n?void 0:r>>>0,0===a?void 0:o>>>0,0!==i))}),arguments)},r.wbg.__wbg_validateexpressions_eca5656ca2844419=function(){return Q((function(e,t){return S(C(e).validate_expressions(N(t)))}),arguments)},r.wbg.__wbg_update_b0b2df3342b63ce2=function(){return Q((function(e,t,n,r,a,o,i){return S(C(e).update(C(t),0===n?void 0:r>>>0,0===a?void 0:o>>>0,0!==i))}),arguments)},r.wbg.__wbg_tocsv_2ec429ab1e0bb451=function(){return Q((function(e,t){return S(C(e).to_csv(N(t)))}),arguments)},r.wbg.__wbg_resize_8a11e82f499e6d89=function(){return Q((function(e){return S(C(e).resize())}),arguments)},r.wbg.__wbg_view_e3b1f5dab63015c7=function(){return Q((function(e,t){return S(C(e).view(C(t)))}),arguments)},r.wbg.__wbindgen_is_null=function(e){return null===C(e)},r.wbg.__wbg_lineNumber_6b2a1c0159871238=function(e){return C(e).lineNumber},r.wbg.__wbg_column_885264f87b0a4a0b=function(e){return C(e).column},r.wbg.__wbg_findTokenIndexAtOffset_847b202bf8c16c65=function(e,t){return C(e).findTokenIndexAtOffset(t>>>0)},r.wbg.__wbg_getClassName_5bc865fe97705383=function(e,t){return S(C(e).getClassName(t>>>0))},r.wbg.__wbg_triggerKind_9e780becc9ed4ce7=function(e){return C(e).triggerKind},r.wbg.__wbg_delete_55c2b041a4419d5d=function(e){C(e).delete()},r.wbg.__wbg_setrenderwarning_2b6ccbc5a0b49b4f=function(e,t){C(e).render_warning=0!==t},r.wbg.__wbg_new_fa9aa30b261aba73=function(e){return S(new u(C(e)))},r.wbg.__wbg_editor_91084c85a69a3fde=function(e){return S(C(e).editor)},r.wbg.__wbg_languages_aca44d3eda97078c=function(e){return S(C(e).languages)},r.wbg.__wbg_create_806f286d290f99c8=function(e,t,n){return S(C(e).create(N(t),N(n)))},r.wbg.__wbg_defineTheme_c4f18cdd46a4014d=function(e,t,n,r){C(e).defineTheme(w(t,n),N(r))},r.wbg.__wbg_setTheme_7cb365ba1d2ad549=function(e,t,n){C(e).setTheme(w(t,n))},r.wbg.__wbg_setModelMarkers_f49dfc56a0816242=function(e,t,n,r,a){C(e).setModelMarkers(C(t),w(n,r),C(a))},r.wbg.__wbg_layout_901473f7828d2488=function(e,t){C(e).layout(C(t))},r.wbg.__wbg_getModel_4ba1a741bc1eaaff=function(e){return S(C(e).getModel())},r.wbg.__wbg_getValue_e8d4002de327ab32=function(e){return S(C(e).getValue())},r.wbg.__wbg_setValue_464f1cd5da0d99d4=function(e,t,n){C(e).setValue(w(t,n))},r.wbg.__wbg_setPosition_53889da2861e22f4=function(e,t){C(e).setPosition(C(t))},r.wbg.__wbg_addCommand_0087418877d24153=function(e,t,n){C(e).addCommand(t>>>0,C(n))},r.wbg.__wbg_focus_d1521065885d8ced=function(e){C(e).focus()},r.wbg.__wbg_onDidChangeContent_333bdbf90ce64b26=function(e,t){C(e).onDidChangeContent(C(t))},r.wbg.__wbg_getLineTokens_6c81bc0a3f533604=function(e,t){return S(C(e).getLineTokens(t>>>0))},r.wbg.__wbg_onupdate_b8cf42908fc20235=function(e,t){C(e).on_update(C(t))},r.wbg.__wbg_removeupdate_77fe2a7740d00e48=function(e,t){C(e).remove_update(C(t))},r.wbg.__wbg_errors_20c512f8dca36c8d=function(e){return S(C(e).errors)},r.wbg.__wbg_expressionschema_7a07dfdf1c19fa1f=function(e){return S(C(e).expression_schema)},r.wbg.__wbg_expressionalias_c0691678ddeeed2e=function(e){return S(C(e).expression_alias)},r.wbg.__wbg_name_4e59ce156796a1db=function(e,t){var n=V(C(t).name,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_category_3b675f446e35f445=function(e,t){var n=C(t).category,r=M(n)?0:V(n,h.__wbindgen_export_0,h.__wbindgen_export_1),a=A;O()[e/4+1]=a,O()[e/4+0]=r},r.wbg.__wbg_maxcolumns_41c0acb329b63f5a=function(e,t){var n=C(t).max_columns;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_maxcells_240ed21a2cc23a45=function(e,t){var n=C(t).max_cells;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_renderwarning_28b6ae4b73e78f68=function(e){var t=C(e).render_warning;return M(t)?16777215:t?1:0},r.wbg.__wbg_selectmode_2d072add5bfb5e92=function(e){return S(C(e).select_mode)},r.wbg.__wbg_minconfigcolumns_fc8660538ce7232d=function(e,t){var n=C(t).min_config_columns;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_configcolumnnames_1a26628997420d20=function(e){var t=C(e).config_column_names;return M(t)?0:S(t)},r.wbg.__wbg_save_5742b4ec09ae0d34=function(e){return S(C(e).save())},r.wbg.__wbg_new_fcda59553629199d=function(e){return S(new b(C(e)))},r.wbg.__wbg_observe_86c9286ddb2080e3=function(e,t){C(e).observe(C(t))},r.wbg.__wbg_unobserve_6d276eada6182ea1=function(e,t){C(e).unobserve(C(t))},r.wbg.__wbg_contentRect_3f8cd97f6e2969a6=function(e){return S(C(e).contentRect)},r.wbg.__wbg_listenerid_25425097ae5fdb72=function(e,t){var n=C(t).__yew_listener_id;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_setlistenerid_007d4751f70f0e32=function(e,t){C(e).__yew_listener_id=t>>>0},r.wbg.__wbg_setsubtreeid_6966527169be2ec4=function(e,t){C(e).__yew_subtree_id=t>>>0},r.wbg.__wbg_setcachekey_a9744e4c550ca52b=function(e,t){C(e).__yew_subtree_cache_key=t>>>0},r.wbg.__wbg_subtreeid_05e7e8ba671b1a4e=function(e,t){var n=C(t).__yew_subtree_id;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_cachekey_57f0ac7b26342cf7=function(e,t){var n=C(t).__yew_subtree_cache_key;O()[e/4+1]=M(n)?0:n,O()[e/4+0]=!M(n)},r.wbg.__wbg_new_693216e109162396=function(){return S(new Error)},r.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=V(C(t).stack,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(w(e,t))}finally{h.__wbindgen_export_15(e,t)}},r.wbg.__wbindgen_is_undefined=function(e){return void 0===C(e)},r.wbg.__wbindgen_number_new=function(e){return S(e)},r.wbg.__wbg_warn_2aa0e7178e1d35f6=function(e,t){var n,r=$(e,t).slice();h.__wbindgen_export_15(e,4*t),(n=console).warn.apply(n,r)},r.wbg.__wbg_newwithu8arraysequence_fdc7895dacd60d21=function(){return Q((function(e){return S(new Blob(C(e)))}),arguments)},r.wbg.__wbg_newwithstrsequenceandoptions_becd1cf522768c06=function(){return Q((function(e,t){return S(new Blob(C(e),C(t)))}),arguments)},r.wbg.__wbg_write_10adfe8afa301d18=function(e,t){return S(C(e).write(C(t)))},r.wbg.__wbg_length_294c22a18ede524b=function(e){return C(e).length},r.wbg.__wbg_item_8eca8b8cdf63f525=function(e,t){var n=C(e).item(t>>>0);return M(n)?0:S(n)},r.wbg.__wbg_length_d2057dfdd5fdecf4=function(e){return C(e).length},r.wbg.__wbg_getPropertyValue_937a708feb88202f=function(){return Q((function(e,t,n,r){var a=V(C(t).getPropertyValue(w(n,r)),h.__wbindgen_export_0,h.__wbindgen_export_1),o=A;O()[e/4+1]=o,O()[e/4+0]=a}),arguments)},r.wbg.__wbg_item_dfcc92ceae8b4304=function(e,t,n){var r=V(C(t).item(n>>>0),h.__wbindgen_export_0,h.__wbindgen_export_1),a=A;O()[e/4+1]=a,O()[e/4+0]=r},r.wbg.__wbg_setProperty_dccccce3a52c26db=function(){return Q((function(e,t,n,r,a){C(e).setProperty(w(t,n),w(r,a))}),arguments)},r.wbg.__wbg_instanceof_CssStyleRule_e93e1152e50f8d9b=function(e){return C(e)instanceof CSSStyleRule},r.wbg.__wbg_selectorText_56b42d9cf7c91aa1=function(e,t){var n=V(C(t).selectorText,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_style_dbd768c92c03ab2c=function(e){return S(C(e).style)},r.wbg.__wbg_cssRules_b1206f989651c44d=function(){return Q((function(e){return S(C(e).cssRules)}),arguments)},r.wbg.__wbg_new_3af016a292a0ea38=function(){return Q((function(e,t){return S(new CustomEvent(w(e,t)))}),arguments)},r.wbg.__wbg_newwitheventinitdict_183544aa2c542424=function(){return Q((function(e,t,n){return S(new CustomEvent(w(e,t),C(n)))}),arguments)},r.wbg.__wbg_setDragImage_97e7f5b52f6e9f92=function(e,t,n,r){C(e).setDragImage(C(t),n,r)},r.wbg.__wbg_readyState_be8f2b804adc7ff6=function(e,t){var n=V(C(t).readyState,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_body_525168d9e773c3f8=function(e){var t=C(e).body;return M(t)?0:S(t)},r.wbg.__wbg_styleSheets_a23fea89b8b91939=function(e){return S(C(e).styleSheets)},r.wbg.__wbg_fonts_62f407546d8daeb4=function(e){return S(C(e).fonts)},r.wbg.__wbg_createElement_ac65a6ce60c4812c=function(){return Q((function(e,t,n){return S(C(e).createElement(w(t,n)))}),arguments)},r.wbg.__wbg_createElementNS_267edeea0c97331c=function(){return Q((function(e,t,n,r,a){return S(C(e).createElementNS(0===t?void 0:w(t,n),w(r,a)))}),arguments)},r.wbg.__wbg_createTextNode_442392ad92e75695=function(e,t,n){return S(C(e).createTextNode(w(t,n)))},r.wbg.__wbg_width_a04d387a0e0ffe94=function(e){return C(e).width},r.wbg.__wbg_height_f7c5c956730ab37a=function(e){return C(e).height},r.wbg.__wbg_width_4a83a800a544b73a=function(e){return C(e).width},r.wbg.__wbg_height_76d64c7ff32eb400=function(e){return C(e).height},r.wbg.__wbg_top_22e7024d271b5677=function(e){return C(e).top},r.wbg.__wbg_left_f2f24ba3851b8295=function(e){return C(e).left},r.wbg.__wbg_get_dc5a3f4246f4363e=function(e,t,n,r){var a=C(t)[w(n,r)],o=M(a)?0:V(a,h.__wbindgen_export_0,h.__wbindgen_export_1),i=A;O()[e/4+1]=i,O()[e/4+0]=o},r.wbg.__wbg_set_6bc5ebabff049b08=function(){return Q((function(e,t,n,r,a){C(e)[w(t,n)]=w(r,a)}),arguments)},r.wbg.__wbg_delete_bdb7962606ab7ffc=function(e,t,n){delete C(e)[w(t,n)]},r.wbg.__wbg_add_3b4cecc512643e9f=function(){return Q((function(e,t,n){C(e).add(w(t,n))}),arguments)},r.wbg.__wbg_remove_c15603553c81dc31=function(){return Q((function(e,t,n){C(e).remove(w(t,n))}),arguments)},r.wbg.__wbg_dataTransfer_7916d51ea966dcb4=function(e){var t=C(e).dataTransfer;return M(t)?0:S(t)},r.wbg.__wbg_instanceof_Element_8143882371652178=function(e){return C(e)instanceof Element},r.wbg.__wbg_namespaceURI_f65a7a956acf4bc5=function(e,t){var n=C(t).namespaceURI,r=M(n)?0:V(n,h.__wbindgen_export_0,h.__wbindgen_export_1),a=A;O()[e/4+1]=a,O()[e/4+0]=r},r.wbg.__wbg_classList_bbb57a7d3cc23c85=function(e){return S(C(e).classList)},r.wbg.__wbg_scrollTop_03d79a099b9a21e7=function(e){return C(e).scrollTop},r.wbg.__wbg_setscrollTop_b9abc042a6938811=function(e,t){C(e).scrollTop=t},r.wbg.__wbg_clientWidth_acc83939b1545b91=function(e){return C(e).clientWidth},r.wbg.__wbg_clientHeight_95c707ac8248c652=function(e){return C(e).clientHeight},r.wbg.__wbg_children_283b5c3c4312d771=function(e){return S(C(e).children)},r.wbg.__wbg_attachShadow_f0d8083616f120aa=function(){return Q((function(e,t){return S(C(e).attachShadow(C(t)))}),arguments)},r.wbg.__wbg_getAttribute_0754c52f6bcda842=function(e,t,n,r){var a=C(t).getAttribute(w(n,r)),o=M(a)?0:V(a,h.__wbindgen_export_0,h.__wbindgen_export_1),i=A;O()[e/4+1]=i,O()[e/4+0]=o},r.wbg.__wbg_getBoundingClientRect_dbd899b7c945c55d=function(e){return S(C(e).getBoundingClientRect())},r.wbg.__wbg_hasAttribute_4c5fc91198e862c3=function(e,t,n){return C(e).hasAttribute(w(t,n))},r.wbg.__wbg_matches_7e22d2c3664b9d8d=function(){return Q((function(e,t,n){return C(e).matches(w(t,n))}),arguments)},r.wbg.__wbg_removeAttribute_16e5bf3866aa53e8=function(){return Q((function(e,t,n){C(e).removeAttribute(w(t,n))}),arguments)},r.wbg.__wbg_setAttribute_27ca65e30a1c3c4a=function(){return Q((function(e,t,n,r,a){C(e).setAttribute(w(t,n),w(r,a))}),arguments)},r.wbg.__wbg_toggleAttribute_8cf952af952c2cc5=function(){return Q((function(e,t,n,r){return C(e).toggleAttribute(w(t,n),0!==r)}),arguments)},r.wbg.__wbg_target_2dfa485f32a6d005=function(e){var t=C(e).target;return M(t)?0:S(t)},r.wbg.__wbg_cancelBubble_185bb624c1c2e4ee=function(e){return C(e).cancelBubble},r.wbg.__wbg_composedPath_85cb5c926bd8d924=function(e){return S(C(e).composedPath())},r.wbg.__wbg_preventDefault_7c4d18eb2bb1a26a=function(e){C(e).preventDefault()},r.wbg.__wbg_stopPropagation_11ccdc30c46ad19a=function(e){C(e).stopPropagation()},r.wbg.__wbg_addEventListener_936431894dca4639=function(){return Q((function(e,t,n,r){C(e).addEventListener(w(t,n),C(r))}),arguments)},r.wbg.__wbg_addEventListener_6d9a78a5d277bdaf=function(){return Q((function(e,t,n,r,a){C(e).addEventListener(w(t,n),C(r),C(a))}),arguments)},r.wbg.__wbg_dispatchEvent_bacbc3eeb0d17fcd=function(){return Q((function(e,t){return C(e).dispatchEvent(C(t))}),arguments)},r.wbg.__wbg_removeEventListener_6e1e9e37bdc74923=function(){return Q((function(e,t,n,r){C(e).removeEventListener(w(t,n),C(r))}),arguments)},r.wbg.__wbg_instanceof_FontFace_095633da5a60e4d1=function(e){return C(e)instanceof FontFace},r.wbg.__wbg_family_8b33871beb47388b=function(e,t){var n=V(C(t).family,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_weight_cb1f0ded9c3fcd29=function(e,t){var n=V(C(t).weight,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_loaded_b07b4ee5c31f9abc=function(){return Q((function(e){return S(C(e).loaded)}),arguments)},r.wbg.__wbg_values_705706cce046e96c=function(e){return S(C(e).values())},r.wbg.__wbg_next_c7f69285044a0543=function(){return Q((function(e){return S(C(e).next())}),arguments)},r.wbg.__wbg_item_5a5f92bba46832d3=function(e,t){var n=C(e).item(t>>>0);return M(n)?0:S(n)},r.wbg.__wbg_dataset_7f3bc0a0cd4f7382=function(e){return S(C(e).dataset)},r.wbg.__wbg_style_25309daade79abb3=function(e){return S(C(e).style)},r.wbg.__wbg_offsetParent_21a2a48c194cfe05=function(e){var t=C(e).offsetParent;return M(t)?0:S(t)},r.wbg.__wbg_offsetWidth_7dd96a3df070d552=function(e){return C(e).offsetWidth},r.wbg.__wbg_offsetHeight_fe07e4498698e768=function(e){return C(e).offsetHeight},r.wbg.__wbg_blur_b336d41728268f5a=function(){return Q((function(e){C(e).blur()}),arguments)},r.wbg.__wbg_click_a22518ab89bfd9b8=function(e){C(e).click()},r.wbg.__wbg_focus_2fac919cca20d33b=function(){return Q((function(e){C(e).focus()}),arguments)},r.wbg.__wbg_checked_dc000202a8fa9328=function(e){return C(e).checked},r.wbg.__wbg_setchecked_dc7daac77dc0e73e=function(e,t){C(e).checked=0!==t},r.wbg.__wbg_value_f4c762446c572119=function(e,t){var n=V(C(t).value,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_setvalue_65a652cfd99c8a4a=function(e,t,n){C(e).value=w(t,n)},r.wbg.__wbg_value_265001c20fda4531=function(e,t){var n=V(C(t).value,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_setvalue_a46eeb72562081c1=function(e,t,n){C(e).value=w(t,n)},r.wbg.__wbg_value_d8dfe9a459c6ea2a=function(e,t){var n=V(C(t).value,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n},r.wbg.__wbg_setvalue_b1b2f2945b1cb6ef=function(e,t,n){C(e).value=w(t,n)},r.wbg.__wbg_keyCode_218ac9c01e06b3d5=function(e){return C(e).keyCode},r.wbg.__wbg_clientX_5bbce6c078e1510e=function(e){return C(e).clientX},r.wbg.__wbg_clientY_af6c4369507b54f0=function(e){return C(e).clientY},r.wbg.__wbg_shiftKey_257c3f6b1ca35555=function(e){return C(e).shiftKey},r.wbg.__wbg_relatedTarget_c63203073e65b8de=function(e){var t=C(e).relatedTarget;return M(t)?0:S(t)},r.wbg.__wbg_clipboard_a304e2b83d0400c6=function(e){return S(C(e).clipboard)},r.wbg.__wbg_isConnected_021a4fb42a3d7537=function(e){return C(e).isConnected},r.wbg.__wbg_parentNode_e1dd029be06cee39=function(e){var t=C(e).parentNode;return M(t)?0:S(t)},r.wbg.__wbg_parentElement_b8943ca3eef7678d=function(e){var t=C(e).parentElement;return M(t)?0:S(t)},r.wbg.__wbg_lastChild_60bd092ff114802e=function(e){var t=C(e).lastChild;return M(t)?0:S(t)},r.wbg.__wbg_setnodeValue_ef88f21c4f2101f5=function(e,t,n){C(e).nodeValue=0===t?void 0:w(t,n)},r.wbg.__wbg_appendChild_6ed236bb79c198df=function(){return Q((function(e,t){return S(C(e).appendChild(C(t)))}),arguments)},r.wbg.__wbg_contains_11705db278357c60=function(e,t){return C(e).contains(C(t))},r.wbg.__wbg_insertBefore_7159f24556965e30=function(){return Q((function(e,t,n){return S(C(e).insertBefore(C(t),C(n)))}),arguments)},r.wbg.__wbg_removeChild_f633f19eb895b696=function(){return Q((function(e,t){return S(C(e).removeChild(C(t)))}),arguments)},r.wbg.__wbg_now_44a034aa2e1d73dd=function(e){return C(e).now()},r.wbg.__wbg_instanceof_ShadowRoot_17fc69013b5c44c6=function(e){return C(e)instanceof ShadowRoot},r.wbg.__wbg_host_786667ae381479f7=function(e){return S(C(e).host)},r.wbg.__wbg_length_568451d1cca15a65=function(e){return C(e).length},r.wbg.__wbg_item_48316bfa2c39d796=function(e,t){var n=C(e).item(t>>>0);return M(n)?0:S(n)},r.wbg.__wbg_createObjectURL_a97d76bcc0a4968c=function(){return Q((function(e,t){var n=V(URL.createObjectURL(C(t)),h.__wbindgen_export_0,h.__wbindgen_export_1),r=A;O()[e/4+1]=r,O()[e/4+0]=n}),arguments)},r.wbg.__wbg_instanceof_Window_11e25482011fc506=function(e){return C(e)instanceof Window},r.wbg.__wbg_document_5aff8cd83ef968f5=function(e){var t=C(e).document;return M(t)?0:S(t)},r.wbg.__wbg_navigator_5c90643c2a2b6cda=function(e){return S(C(e).navigator)},r.wbg.__wbg_innerWidth_8c5001da2fdd6a9e=function(){return Q((function(e){return S(C(e).innerWidth)}),arguments)},r.wbg.__wbg_innerHeight_03d3f1d9eb5f7034=function(){return Q((function(e){return S(C(e).innerHeight)}),arguments)},r.wbg.__wbg_performance_9d1ecf711183e1d5=function(e){var t=C(e).performance;return M(t)?0:S(t)},r.wbg.__wbg_getComputedStyle_344a4d9212ebf966=function(){return Q((function(e,t){var n=C(e).getComputedStyle(C(t));return M(n)?0:S(n)}),arguments)},r.wbg.__wbg_requestAnimationFrame_1fb079d39e1b8a26=function(){return Q((function(e,t){return C(e).requestAnimationFrame(C(t))}),arguments)},r.wbg.__wbg_setTimeout_ce28a603906ebcbb=function(){return Q((function(e,t,n){return C(e).setTimeout(C(t),n)}),arguments)},r.wbg.__wbg_error_d95afd6217cfd219=function(e){console.error(C(e))},r.wbg.__wbg_error_0147c5cf9d9745cf=function(e,t,n){console.error(C(e),C(t),C(n))},r.wbg.__wbg_log_9a99fb1af846153b=function(e){console.log(C(e))},r.wbg.__wbg_warn_b39e749f1dc02058=function(e){console.warn(C(e))},r.wbg.__wbg_self_bb69a836a72ec6e9=function(){return Q((function(){return S(self.self)}),arguments)},r.wbg.__wbg_window_3304fc4b414c9693=function(){return Q((function(){return S(window.window)}),arguments)},r.wbg.__wbg_globalThis_e0d21cabc6630763=function(){return Q((function(){return S(globalThis.globalThis)}),arguments)},r.wbg.__wbg_global_8463719227271676=function(){return Q((function(){return S(n.g.global)}),arguments)},r.wbg.__wbg_newnoargs_9fdd8f3961dd1bee=function(e,t){return S(new Function(w(e,t)))},r.wbg.__wbg_new_515b65a8e7699d00=function(){return S(new Array)},r.wbg.__wbg_get_b7bbf50adcc94294=function(e,t){return S(C(e)[t>>>0])},r.wbg.__wbg_length_555f836564bf148d=function(e){return C(e).length},r.wbg.__wbg_push_b7f68478f81d358b=function(e,t){return C(e).push(C(t))},r.wbg.__wbg_instanceof_ArrayBuffer_1ae2a91a8421001f=function(e){return C(e)instanceof ArrayBuffer},r.wbg.__wbg_slice_3563f88f39165260=function(e,t,n){return S(C(e).slice(t>>>0,n>>>0))},r.wbg.__wbg_instanceof_Error_2ef86611e2afab04=function(e){return C(e)instanceof Error},r.wbg.__wbg_message_e440fbd911a845a2=function(e){return S(C(e).message)},r.wbg.__wbg_call_ba36642bd901572b=function(){return Q((function(e,t){return S(C(e).call(C(t)))}),arguments)},r.wbg.__wbg_call_3fc07b7d5fc9022d=function(){return Q((function(e,t,n){return S(C(e).call(C(t),C(n)))}),arguments)},r.wbg.__wbg_getTimezoneOffset_baab8599eeb15f06=function(e){return C(e).getTimezoneOffset()},r.wbg.__wbg_new_f994c74215dcdb52=function(e){return S(new Date(C(e)))},r.wbg.__wbg_is_a973b4c0e9019083=function(e,t){return Object.is(C(e),C(t))},r.wbg.__wbg_keys_a56f3f1587eb77e9=function(e){return S(Object.keys(C(e)))},r.wbg.__wbg_new_edbe38a4e21329dd=function(){return S(new Object)},r.wbg.__wbg_get_800098c980b31ea2=function(){return Q((function(e,t){return S(Reflect.get(C(e),C(t)))}),arguments)},r.wbg.__wbg_has_9fa0c068863afd36=function(){return Q((function(e,t){return Reflect.has(C(e),C(t))}),arguments)},r.wbg.__wbg_set_73349fc4814e0fc6=function(){return Q((function(e,t,n){return Reflect.set(C(e),C(t),C(n))}),arguments)},r.wbg.__wbg_buffer_9e184d6f785de5ed=function(e){return S(C(e).buffer)},r.wbg.__wbg_stringify_08a99e601b91c4a7=function(){return Q((function(e){return S(JSON.stringify(C(e)))}),arguments)},r.wbg.__wbg_new_c143a4f563f78c4e=function(e,t){try{var n={a:e,b:t},r=new Promise((function(e,t){var r=n.a;n.a=0;try{return te(r,n.b,e,t)}finally{n.a=r}}));return S(r)}finally{n.a=n.b=0}},r.wbg.__wbg_resolve_cae3d8f752f5db88=function(e){return S(Promise.resolve(C(e)))},r.wbg.__wbg_then_c2361a9d5c9a4fcb=function(e,t){return S(C(e).then(C(t)))},r.wbg.__wbg_then_6c9a4bf55755f9b8=function(e,t,n){return S(C(e).then(C(t),C(n)))},r.wbg.__wbg_newwithbyteoffsetandlength_e57ad1f2ce812c03=function(e,t,n){return S(new Uint8Array(C(e),t>>>0,n>>>0))},r.wbg.__wbg_new_e8101319e4cf95fc=function(e){return S(new Uint8Array(C(e)))},r.wbg.__wbg_buffer_1c5918a4ab656ff7=function(e){return S(C(e).buffer)},r.wbg.__wbg_length_2d56cb37075fcfb1=function(e){return C(e).length},r.wbg.__wbg_byteLength_e0515bc94cfc5dee=function(e){return C(e).byteLength},r.wbg.__wbg_byteOffset_77eec84716a2e737=function(e){return C(e).byteOffset},r.wbg.__wbg_set_e8ae7b27314e8b98=function(e,t,n){C(e).set(C(t),n>>>0)},r.wbg.__wbindgen_number_get=function(e,t){var n=C(t),r="number"==typeof n?n:void 0;L()[e/8+1]=M(r)?0:r,O()[e/4+0]=!M(r)},r.wbg.__wbindgen_is_string=function(e){return"string"==typeof C(e)},r.wbg.__wbindgen_string_get=function(e,t){var n=C(t),r="string"==typeof n?n:void 0,a=M(r)?0:V(r,h.__wbindgen_export_0,h.__wbindgen_export_1),o=A;O()[e/4+1]=o,O()[e/4+0]=a},r.wbg.__wbindgen_boolean_get=function(e){var t=C(e);return"boolean"==typeof t?t?1:0:2},r.wbg.__wbindgen_throw=function(e,t){throw new Error(w(e,t))},r.wbg.__wbindgen_rethrow=function(e){throw N(e)},r.wbg.__wbindgen_memory=function(){return S(h.memory)},r.wbg.__wbindgen_closure_wrapper3374=function(e,t,n){return S(j(e,t,28,R))},r.wbg.__wbindgen_closure_wrapper3376=function(e,t,n){return S(z(e,t,36,D))},r.wbg.__wbindgen_closure_wrapper3378=function(e,t,n){return S(z(e,t,30,Y))},r.wbg.__wbindgen_closure_wrapper3380=function(e,t,n){return S(j(e,t,32,B))},r.wbg.__wbindgen_closure_wrapper3382=function(e,t,n){return S(j(e,t,26,I))},r.wbg.__wbindgen_closure_wrapper3384=function(e,t,n){return S(z(e,t,40,F))},r.wbg.__wbindgen_closure_wrapper3386=function(e,t,n){return S(j(e,t,38,H))},r.wbg.__wbindgen_closure_wrapper3388=function(e,t,n){return S(z(e,t,34,W))},r.wbg.__wbindgen_closure_wrapper10772=function(e,t,n){return S(j(e,t,2387,U))},r.wbg.__wbindgen_closure_wrapper10814=function(e,t,n){return S(j(e,t,2391,X))},r.wbg.__wbindgen_closure_wrapper10895=function(e,t,n){return S(j(e,t,2409,G))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),e.t0=se,e.next=263,t;case 263:return e.t1=e.sent,e.t2=r,e.next=267,(0,e.t0)(e.t1,e.t2);case 267:return a=e.sent,i=a.instance,s=a.module,h=i.exports,ce.__wbindgen_wasm_module=s,e.abrupt("return",h);case 273:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}var de=ce,fe=n(6782),ge=n(9851),pe=(n(5238),function(e){function t(){return e.call(this)||this}(0,l.Z)(t,e);var n=t.prototype;return n.update=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.draw(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.draw=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.style.backgroundColor="#fff",e.next=3,t.to_csv();case 3:n=e.sent,"margin:0;overflow:scroll;position:absolute;width:100%;height:100%",this.innerHTML="<pre style='margin:0;overflow:scroll;position:absolute;width:100%;height:100%'>"+n+"</pre>";case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.clear=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.innerHTML="";case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.resize=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.restyle=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.save=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.restore=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.delete=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(0,s.Z)(t,[{key:"name",get:function(){return"Debug"}},{key:"select_mode",get:function(){return"select"}},{key:"min_config_columns",get:function(){}},{key:"config_column_names",get:function(){}}]),t}((0,c.Z)(HTMLElement)));function _e(e){return 559903==new Uint32Array(e.slice(0,4))[0]}function he(){return(he=(0,i.Z)((0,o.Z)().mark((function e(){var t,n,r,a,i,s,l,c,u,d,f,g,p,_,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge;case 2:if(t=e.sent,n=[],r=0,a=new fe.Q1((function(e){e&&(r+=e.byteLength,n.push(e))})),!(t instanceof URL||"string"==typeof t)){e.next=23;break}return e.next=9,fetch(t.toString());case 9:i=e.sent.body.getReader(),s=0;case 11:return e.next=13,i.read();case 13:if(l=e.sent,c=l.value,!(u=l.done)){e.next=18;break}return e.abrupt("break",21);case 18:0===s&&_e(c.buffer)||1===s?(s=1,a.push(c,u)):(s=2,r+=c.byteLength,n.push(c));case 19:e.next=11;break;case 21:e.next=24;break;case 23:t instanceof Uint8Array?_e(t.buffer)?a.push(t,!0):(r=t.byteLength,n=[t]):(d=new Uint8Array(t),_e(t)?a.push(d,!0):(r=d.byteLength,n=[d]));case 24:for(f=0,g=new Uint8Array(r),p=0,_=n;p<_.length;p++)h=_[p],g.set(h,f),f+=h.byteLength;return e.next=28,de(g);case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",pe),window.addEventListener("unhandledrejection",(function(e){var t;"View method cancelled"===(null==(t=e.reason)?void 0:t.message)&&e.preventDefault()}));var be=function(){return he.apply(this,arguments)}(),me=function(e){function t(){var t;return(t=e.call(this)||this).load_wasm(),t}(0,l.Z)(t,e);var n=t.prototype;return n.load_wasm=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be;case 2:this.instance||(this.instance=new ie(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.connectedCallback=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:this.instance.connected_callback();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.registerPlugin=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be;case 2:n=void 0,r=void 0,n=V(t,h.__wbindgen_export_0,h.__wbindgen_export_1),r=A,h.register_plugin(n,r);case 3:case"end":return e.stop()}var n,r}),e)})));return function(t){return e.apply(this,arguments)}}(),n.load=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_load(Promise.resolve(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.notifyResize=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),e.next=3,this.load_wasm();case 3:return e.next=5,this.instance.js_resize(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setAutoSize=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),e.next=3,this.load_wasm();case 3:return e.next=5,this.instance.js_set_auto_size(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTable=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_get_table(!!t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getView=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_get_view();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.restore=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_restore(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.save=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_save(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.flush=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_flush();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.reset=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),e.next=3,this.load_wasm();case 3:return e.next=5,this.instance.js_reset(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delete=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_delete();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.download=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_download(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.copy=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_copy(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.restyleElement=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_restyle_element();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.resetThemes=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_reset_themes(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getEditPort=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_get_edit_port();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setThrottle=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_set_throttle(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.toggleConfig=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_toggle_config(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPlugin=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_get_plugin(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getAllPlugins=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_get_all_plugins();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.unsafe_get_model=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_wasm();case 2:return e.next=4,this.instance.js_unsafe_get_model();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getExprtkCommands=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be;case 2:return e.abrupt("return",ee());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}((0,c.Z)(HTMLElement));function ve(e,t){return function(n,r){for(var o,i=0,s=(0,a.Z)(t);!(o=s()).done;){var l=o.value;if(l in n){if(i++>0)throw new Error('Duplicate "'+e+'" fields');n[e]=n[l],l!==e&&(delete n[l],r.warn&&console.warn('Deprecated perspective attribute "'+l+'" renamed "'+e+'"'))}}return n}}document.createElement("perspective-viewer").constructor===HTMLElement&&window.customElements.define("perspective-viewer",me);ve("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),ve("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),ve("filter",["filter","filters"]);var ye=function(e){function t(){return e.call(this)||this}(0,l.Z)(t,e);var n=t.prototype;return n.open=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.instance?this.instance.reset(n,r):this.instance=new ae(this,n,r),this.instance.open(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.destroy=function(){this.instance.destroy()},t}((0,c.Z)(HTMLElement));document.createElement("perspective-number-column-style").constructor===HTMLElement&&window.customElements.define("perspective-number-column-style",ye);var we=function(e){function t(){return e.call(this)||this}(0,l.Z)(t,e);var n=t.prototype;return n.open=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.instance?this.instance.reset(n):this.instance=new oe(this,n,r),this.instance.open(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.destroy=function(){this.instance.destroy()},t}((0,c.Z)(HTMLElement));document.createElement("perspective-string-column-style").constructor===HTMLElement&&window.customElements.define("perspective-string-column-style",we);var xe=function(e){function t(){var t;return(t=e.call(this)||this).instance=new re((0,r.Z)(t)),t}(0,l.Z)(t,e);var n=t.prototype;return n.open=function(e){this.instance.open(e)},n.unsafe_set_model=function(e){this.instance.unsafe_set_model(e)},t}((0,c.Z)(HTMLElement));document.createElement("perspective-export-menu").constructor===HTMLElement&&window.customElements.define("perspective-export-menu",xe);var ke=function(e){function t(){var t;return(t=e.call(this)||this).instance=new ne((0,r.Z)(t)),t}(0,l.Z)(t,e);var n=t.prototype;return n.open=function(e){this.instance.open(e)},n.unsafe_set_model=function(e){this.instance.unsafe_set_model(e)},t}((0,c.Z)(HTMLElement));document.createElement("perspective-copy-menu").constructor===HTMLElement&&window.customElements.define("perspective-copy-menu",ke)},6736:function(e,t,n){"use strict";n.r(t),n.d(t,{convert:function(){return a}});var r=n(8549);function a(e,t){var n=void 0===t?{}:t,r=n.warn,a=void 0===r||r,i=n.replace_defaults,s=void 0!==i&&i;if("object"!=typeof e||e instanceof ArrayBuffer)return e;var l=JSON.parse(JSON.stringify(e));return"viewers"in l&&"detail"in l?function(e,t){for(var n in e.viewers)e.viewers[n]=o(e.viewers[n],!0,t),"master"in e.viewers[n]||(e.viewers[n].master=!1,t.warn&&console.warn('Deprecated perspective missing attribute "master" set to default')),"linked"in e.viewers[n]||(e.viewers[n].linked=!1,t.warn&&console.warn('Deprecated perspective missing attribute "linked" set to default'));return e}(l,{warn:a,replace_defaults:s}):o(l,!1,{warn:a,replace_defaults:s})}function o(e,t,n){return function(e,t,n){for(var a,o=(0,r.Z)(t);!(a=o()).done;){e=(0,a.value)(e,n)}return e}(e,[l,c,u,f,!!n.replace_defaults&&i,g,p,t?h:_].filter((function(e){return!!e})),n)}function i(e,t){for(var n=0,r=["group_by","split_by","filter","sort"];n<r.length;n++){var a=r[n];null===e[a]&&(e[a]=[],t.warn&&console.warn('Deprecated perspective missing attribute "'+a+'" set to default"')),"aggregates"in e&&null===e.aggregates&&(e.aggregates={},t.warn&&console.warn('Deprecated perspective missing attribute "aggregates" set to default"'))}return e}function s(e,t){return function(n,a){for(var o,i=0,s=(0,r.Z)(t);!(o=s()).done;){var l=o.value;if(l in n){if(i++>0)throw new Error('Duplicate "'+e+'" fields');n[e]=n[l],l!==e&&(delete n[l],a.warn&&console.warn('Deprecated perspective attribute "'+l+'" renamed "'+e+'"'))}}return n}}var l=s("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),c=s("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),u=s("filter",["filter","filters"]);function d(e,t,n,a,o){if(e.test(n)){var i=n.replace(e,t);o.warn&&console.warn('Deprecated perspective "expression" attribute value "'+n+'" updated to "'+i+'"');for(var s=0,l=["group_by","split_by"];s<l.length;s++){var c=l[s];if(c in a)for(var u in a[c]){a[c][u]===n.replace(/"/g,"")&&(a[c][u]=i,o.warn&&console.warn('Deprecated perspective expression in "'+c+'" attribute "'+n+'" replaced with "'+i+'"'))}}for(var d,f=(0,r.Z)(a.filter||[]);!(d=f()).done;){var g=d.value;g[0]===n.replace(/"/g,"")&&(g[0]=i,o.warn&&console.warn('Deprecated perspective expression in "filter" attribute "'+n+'" replaced with "'+i+'"'))}for(var p,_=(0,r.Z)(a.sort||[]);!(p=_()).done;){var h=p.value;h[0]===n.replace(/"/g,"")&&(h[0]=i,o.warn&&console.warn('Deprecated perspective expression in "sort" attribute "'+n+'" replaced with "'+i+'"'))}return i}return n}function f(e,t){if(e["computed-columns"]){if("expressions"in e)throw new Error('Duplicate "expressions" and "computed-columns');e.expressions=e["computed-columns"],delete e["computed-columns"],t.warn&&console.warn('Deprecated perspective attribute "computed-columns" renamed "expressions"');var n=[[/^year_bucket\("(.+?)"\)/,"bucket(\"$1\", 'y')"],[/^month_bucket\("(.+?)"\)/,"bucket(\"$1\", 'M')"],[/^day_bucket\("(.+?)"\)/,"bucket(\"$1\", 'd')"],[/^hour_bucket\("(.+?)"\)/,"bucket(\"$1\", 'h')"],[/^minute_bucket\("(.+?)"\)/,"bucket(\"$1\", 'm')"],[/^second_bucket\("(.+?)"\)/,"bucket(\"$1\", 's')"]];for(var a in e.expressions){for(var o,i=e.expressions[a],s=(0,r.Z)(n);!(o=s()).done;){var l=o.value;i=d(l[0],l[1],i,e,t)}e.expressions[a]=i}}return e}function g(e,t){var n={datagrid:"Datagrid",Datagrid:"Datagrid",d3_y_area:"Y Area","Y Area":"Y Area",d3_y_line:"Y Line","Y Line":"Y Line",d3_xy_line:"X/Y Line","X/Y Line":"X/Y Line",d3_y_scatter:"Y Scatter","Y Scatter":"Y Scatter",d3_xy_scatter:"X/Y Scatter","X/Y Scatter":"X/Y Scatter",d3_x_bar:"X Bar","X Bar":"X Bar",d3_y_bar:"Y Bar","Y Bar":"Y Bar",d3_heatmap:"Heatmap",Heatmap:"Heatmap",d3_treemap:"Treemap",Treemap:"Treemap",d3_sunburst:"Sunburst",Sunburst:"Sunburst"};return"plugin"in e&&e.plugin!==n[e.plugin]&&(e.plugin=n[e.plugin],t.warn&&console.warn('Deprecated perspective "plugin" attribute value "'+e.plugin+'" updated to "'+n[e.plugin]+'"')),e}function p(e,t){if("Datagrid"===e.plugin&&e.plugin_config){if(!e.plugin_config.columns){t.warn&&console.warn('Deprecated perspective attribute "plugin_config" moved to "plugin_config.columns"');for(var n={},r=0,a=Object.keys(e.plugin_config);r<a.length;r++){var o=a[r],i=e.plugin_config[o];delete e.plugin_config[o],"string"==typeof i.color_mode&&("foreground"===i.color_mode?i.number_fg_mode="color":"bar"===i.color_mode?i.number_fg_mode="bar":"background"===i.color_mode?i.number_bg_mode="color":"gradient"===i.color_mode?i.number_bg_mode="gradient":console.warn("Unknown color_mode "+i.color_mode),delete i.color_mode,t.warn&&console.warn('Deprecated perspective attribute "color_mode" renamed "number_bg_mode"')),n[o]=i}e.plugin_config.columns=n,t.replace_defaults&&(e.plugin_config.editable=!1,e.plugin_config.scroll_lock=!0)}for(var s=0,l=Object.keys(e.plugin_config.columns);s<l.length;s++){var c=l[s],u=e.plugin_config.columns[c];"string"==typeof u.number_color_mode&&("foreground"===u.number_color_mode?u.number_fg_mode="color":"bar"===u.number_color_mode?u.number_fg_mode="bar":"background"===u.number_color_mode?u.number_bg_mode="color":"gradient"===u.number_color_mode&&(u.number_bg_mode="gradient"),delete u.number_color_mode,t.warn&&console.warn('Deprecated perspective attribute "number_color_mode" renamed "number_bg_mode"')),void 0!==u.gradient&&("gradient"===u.number_bg_mode?u.bg_gradient=u.gradient:"bar"===u.number_fg_mode&&(u.fg_gradient=u.gradient),delete u.gradient,t.warn&&console.warn('Deprecated perspective attribute "gradient" renamed "bg_gradient"')),void 0!==u.pos_color&&(void 0!==u.number_bg_mode?u.pos_bg_color=u.pos_color:void 0!==u.number_fg_mode&&(u.pos_fg_color=u.pos_color),delete u.pos_color,t.warn&&console.warn('Deprecated perspective attribute "pos_color" renamed "pos_bg_color"')),void 0!==u.neg_color&&(void 0!==u.number_bg_mode?u.neg_bg_color=u.neg_color:void 0!==u.number_fg_mode&&(u.neg_fg_color=u.neg_color),delete u.neg_color,t.warn&&console.warn('Deprecated perspective attribute "neg_color" renamed "neg_bg_color"'))}}return e}function _(e,t){for(var n=0,r=["editable","selectable","name","table","master","linked"];n<r.length;n++){var a=r[n];a in e&&(delete e[a],t.warn&&console.warn('Deprecated perspective attribute "'+a+'" removed'))}return e}function h(e,t){for(var n=0,r=["editable","selectable","name","table","master","linked"];n<r.length;n++){var a=r[n];a in e&&null===e[a]&&(delete e[a],t.warn&&console.warn('Deprecated perspective attribute "'+a+'" removed'))}return e}},9851:function(e,t,n){"use strict";e.exports=n.p+"164dea9f71e6d689.wasm"}}]);