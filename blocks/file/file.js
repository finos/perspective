import e from"https://cdn.jsdelivr.net/npm/@finos/perspective@3.0.0/dist/cdn/perspective.js";window.addEventListener("DOMContentLoaded",(async function(){const t=await e.worker();var n=document.getElementById("drop-area"),r=document.getElementById("fileElem");function d(e){e.preventDefault(),e.stopPropagation()}function a(){n.classList.add("highlight")}function o(){n.classList.remove("highlight")}function i(e){[...e].forEach(s)}function s(e){let r=new FileReader;r.onload=function(e){let r=e.target.result;const d=n.parentElement;d.removeChild(n);const a=document.createElement("perspective-viewer");d.appendChild(a),a.load(t.table(r))},e.name.endsWith(".feather")||e.name.endsWith(".arrow")?r.readAsArrayBuffer(e):r.readAsText(e)}n.addEventListener("dragenter",(()=>{}),!1),n.addEventListener("dragleave",(()=>{}),!1),n.addEventListener("dragover",(()=>{}),!1),n.addEventListener("drop",(e=>console.log(e)),!1),["dragenter","dragover","dragleave","drop"].forEach((e=>{n.addEventListener(e,d,!1)})),["dragenter","dragover"].forEach((function(e){n.addEventListener(e,a,!1)})),["dragleave","drop"].forEach((function(e){n.addEventListener(e,o,!1)})),n.addEventListener("drop",(function(e){i(e.dataTransfer.files)}),!1),r.addEventListener("change",(function(){i(this.files)}))}));